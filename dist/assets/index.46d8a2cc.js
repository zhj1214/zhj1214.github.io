import{ak as L,G as v,c4 as E,a as I,f as h,_ as j,n as d,F as B,dQ as $,v as q,dJ as J,ar as M,a6 as U,T as O,S as P,J as X,ad as Y,c6 as K,ab as Q,dR as H,U as Z}from"./index.a37e80f2.js";import{u as ee}from"./useRefs.9eeff60f.js";var V=L("normal","exception","active","success"),te=L("line","circle","dashboard"),re=L("default","small"),z=function(){return{prefixCls:v.string,type:v.oneOf(te),percent:v.number,format:{type:Function},status:v.oneOf(V),showInfo:v.looseBool,strokeWidth:v.number,strokeLinecap:v.oneOf(L("butt","round","square")),strokeColor:{type:[String,Object]},trailColor:v.string,width:v.number,success:{type:Object,default:function(){return{}}},gapDegree:v.number,gapPosition:v.oneOf(L("top","bottom","left","right")),size:v.oneOf(re),steps:v.number,successPercent:v.number,title:String}};function w(n){return!n||n<0?0:n>100?100:n}function T(n){var e=n.success,o=n.successPercent,t=o;return e&&"progress"in e&&(E(!1,"Progress","`success.progress` is deprecated. Please use `success.percent` instead."),t=e.progress),e&&"percent"in e&&(t=e.percent),t}var ne=globalThis&&globalThis.__rest||function(n,e){var o={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&e.indexOf(t)<0&&(o[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(n);r<t.length;r++)e.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(n,t[r])&&(o[t[r]]=n[t[r]]);return o},ae=j(j({},z()),{prefixCls:v.string,direction:{type:String}}),oe=function(e){var o=[];return Object.keys(e).forEach(function(t){var r=parseFloat(t.replace(/%/g,""));isNaN(r)||o.push({key:r,value:e[t]})}),o=o.sort(function(t,r){return t.key-r.key}),o.map(function(t){var r=t.key,l=t.value;return"".concat(l," ").concat(r,"%")}).join(", ")},se=function(e,o){var t=e.from,r=t===void 0?$.blue:t,l=e.to,c=l===void 0?$.blue:l,u=e.direction,g=u===void 0?o==="rtl"?"to left":"to right":u,i=ne(e,["from","to","direction"]);if(Object.keys(i).length!==0){var f=oe(i);return{backgroundImage:"linear-gradient(".concat(g,", ").concat(f,")")}}return{backgroundImage:"linear-gradient(".concat(g,", ").concat(r,", ").concat(c,")")}},ie=I({name:"Line",props:ae,setup:function(e,o){var t=o.slots,r=h(function(){var i=e.strokeColor,f=e.direction;return i&&typeof i!="string"?se(i,f):{background:i}}),l=h(function(){return e.trailColor?{backgroundColor:e.trailColor}:void 0}),c=h(function(){var i=e.percent,f=e.strokeWidth,s=e.strokeLinecap,a=e.size;return j({width:"".concat(w(i),"%"),height:"".concat(f||(a==="small"?6:8),"px"),borderRadius:s==="square"?0:""},r.value)}),u=h(function(){return T(e)}),g=h(function(){var i=e.strokeWidth,f=e.size,s=e.strokeLinecap,a=e.success;return{width:"".concat(w(u.value),"%"),height:"".concat(i||(f==="small"?6:8),"px"),borderRadius:s==="square"?0:"",backgroundColor:a==null?void 0:a.strokeColor}});return function(){var i;return d(B,null,[d("div",{class:"".concat(e.prefixCls,"-outer")},[d("div",{class:"".concat(e.prefixCls,"-inner"),style:l.value},[d("div",{class:"".concat(e.prefixCls,"-bg"),style:c.value},null),u.value!==void 0?d("div",{class:"".concat(e.prefixCls,"-success-bg"),style:g.value},null):null])]),(i=t.default)===null||i===void 0?void 0:i.call(t)])}}}),ce={percent:0,prefixCls:"vc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1},le=function(e){var o=q(null);return J(function(){var t=Date.now(),r=!1;e.value.forEach(function(l){var c,u=((c=l)===null||c===void 0?void 0:c.$el)||l;if(!!u){r=!0;var g=u.style;g.transitionDuration=".3s, .3s, .3s, .06s",o.value&&t-o.value<100&&(g.transitionDuration="0s, 0s")}}),r&&(o.value=Date.now())}),e},ue={gapDegree:v.number,gapPosition:{type:String},percent:{type:[Array,Number]},prefixCls:v.string,strokeColor:{type:[Object,String,Array]},strokeLinecap:{type:String},strokeWidth:v.number,trailColor:v.string,trailWidth:v.number,transition:v.string},fe=globalThis&&globalThis.__rest||function(n,e){var o={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&e.indexOf(t)<0&&(o[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(n);r<t.length;r++)e.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(n,t[r])&&(o[t[r]]=n[t[r]]);return o},F=0;function N(n){return+n.replace("%","")}function G(n){return Array.isArray(n)?n:[n]}function R(n,e,o,t){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,l=arguments.length>5?arguments[5]:void 0,c=50-t/2,u=0,g=-c,i=0,f=-2*c;switch(l){case"left":u=-c,g=0,i=2*c,f=0;break;case"right":u=c,g=0,i=-2*c,f=0;break;case"bottom":g=c,f=2*c;break}var s="M 50,50 m ".concat(u,",").concat(g,`
   a `).concat(c,",").concat(c," 0 1 1 ").concat(i,",").concat(-f,`
   a `).concat(c,",").concat(c," 0 1 1 ").concat(-i,",").concat(f),a=Math.PI*2*c,y={stroke:o,strokeDasharray:"".concat(e/100*(a-r),"px ").concat(a,"px"),strokeDashoffset:"-".concat(r/2+n/100*(a-r),"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s"};return{pathString:s,pathStyle:y}}var ve=I({name:"VCCircle",props:M(ue,ce),setup:function(e){F+=1;var o=q(F),t=h(function(){return G(e.percent)}),r=h(function(){return G(e.strokeColor)}),l=ee(),c=U(l,2),u=c[0],g=c[1];le(g);var i=function(){var s=e.prefixCls,a=e.strokeWidth,y=e.strokeLinecap,k=e.gapDegree,p=e.gapPosition,b=0;return t.value.map(function(m,C){var D=r.value[C]||r.value[r.value.length-1],W=Object.prototype.toString.call(D)==="[object Object]"?"url(#".concat(s,"-gradient-").concat(o.value,")"):"",S=R(b,m,D,a,k,p),A=S.pathString,x=S.pathStyle;b+=m;var _={key:C,d:A,stroke:W,"stroke-linecap":y,"stroke-width":a,opacity:m===0?0:1,"fill-opacity":"0",class:"".concat(s,"-circle-path"),style:x};return d("path",O({ref:u(C)},_),null)})};return function(){var f=e.prefixCls,s=e.strokeWidth,a=e.trailWidth,y=e.gapDegree,k=e.gapPosition,p=e.trailColor,b=e.strokeLinecap;e.strokeColor;var m=fe(e,["prefixCls","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","strokeColor"]),C=R(0,100,p,s,y,k),D=C.pathString,W=C.pathStyle;delete m.percent;var S=r.value.find(function(x){return Object.prototype.toString.call(x)==="[object Object]"}),A={d:D,stroke:p,"stroke-linecap":b,"stroke-width":a||s,"fill-opacity":"0",class:"".concat(f,"-circle-trail"),style:W};return d("svg",O({class:"".concat(f,"-circle"),viewBox:"0 0 100 100"},m),[S&&d("defs",null,[d("linearGradient",{id:"".concat(f,"-gradient-").concat(o.value),x1:"100%",y1:"0%",x2:"0%",y2:"0%"},[Object.keys(S).sort(function(x,_){return N(x)-N(_)}).map(function(x,_){return d("stop",{key:_,offset:x,"stop-color":S[x]},null)})])]),d("path",A,null),i().reverse()])}}});function de(n){var e=n.percent,o=n.success,t=n.successPercent,r=w(T({success:o,successPercent:t}));return[r,w(w(e)-r)]}function ge(n){var e=n.success,o=e===void 0?{}:e,t=n.strokeColor,r=o.strokeColor;return[r||$.green,t||null]}var pe=I({inheritAttrs:!1,props:z(),setup:function(e,o){var t=o.slots,r=h(function(){if(e.gapDegree||e.gapDegree===0)return e.gapDegree;if(e.type==="dashboard")return 75}),l=h(function(){var a=e.width||120;return{width:typeof a=="number"?"".concat(a,"px"):a,height:typeof a=="number"?"".concat(a,"px"):a,fontSize:"".concat(a*.15+6,"px")}}),c=h(function(){return e.strokeWidth||6}),u=h(function(){return e.gapPosition||e.type==="dashboard"&&"bottom"||"top"}),g=h(function(){return de(e)}),i=h(function(){return Object.prototype.toString.call(e.strokeColor)==="[object Object]"}),f=h(function(){return ge({success:e.success,strokeColor:e.strokeColor})}),s=h(function(){var a;return a={},P(a,"".concat(e.prefixCls,"-inner"),!0),P(a,"".concat(e.prefixCls,"-circle-gradient"),i.value),a});return function(){var a;return d("div",{class:s.value,style:l.value},[d(ve,{percent:g.value,strokeWidth:c.value,trailWidth:c.value,strokeColor:f.value,strokeLinecap:e.strokeLinecap,trailColor:e.trailColor,prefixCls:e.prefixCls,gapDegree:r.value,gapPosition:u.value},null),(a=t.default)===null||a===void 0?void 0:a.call(t)])}}}),he=j(j({},z()),{steps:v.number,size:{type:String},strokeColor:v.string,trailColor:v.string}),ye=I({props:he,setup:function(e,o){var t=o.slots,r=h(function(){return Math.round(e.steps*((e.percent||0)/100))}),l=h(function(){return e.size==="small"?2:14}),c=h(function(){for(var u=e.steps,g=e.strokeWidth,i=g===void 0?8:g,f=e.strokeColor,s=e.trailColor,a=e.prefixCls,y=[],k=0;k<u;k+=1){var p,b=(p={},P(p,"".concat(a,"-steps-item"),!0),P(p,"".concat(a,"-steps-item-active"),k<=r.value-1),p);y.push(d("div",{key:k,class:b,style:{backgroundColor:k<=r.value-1?f:s,width:"".concat(l.value,"px"),height:"".concat(i,"px")}},null))}return y});return function(){var u;return d("div",{class:"".concat(e.prefixCls,"-steps-outer")},[c.value,(u=t.default)===null||u===void 0?void 0:u.call(t)])}}}),ke=I({name:"AProgress",props:M(z(),{type:"line",percent:0,showInfo:!0,trailColor:null,size:"default",gapDegree:0,strokeLinecap:"round"}),slots:["format"],setup:function(e,o){var t=o.slots,r=X("progress",e),l=r.prefixCls,c=r.direction;E(e.successPercent==null,"Progress","`successPercent` is deprecated. Please use `success.percent` instead.");var u=h(function(){var s,a=e.type,y=e.showInfo,k=e.size,p=l.value;return s={},P(s,p,!0),P(s,"".concat(p,"-").concat(a==="dashboard"&&"circle"||a),!0),P(s,"".concat(p,"-show-info"),y),P(s,"".concat(p,"-").concat(k),k),P(s,"".concat(p,"-rtl"),c.value==="rtl"),s}),g=h(function(){var s=e.percent,a=s===void 0?0:s,y=T(e);return parseInt(y!==void 0?y.toString():a.toString(),10)}),i=h(function(){var s=e.status;return V.indexOf(s)<0&&g.value>=100?"success":s||"normal"}),f=function(){var a=e.showInfo,y=e.format,k=e.type,p=e.percent,b=e.title,m=T(e);if(!a)return null;var C,D=y||(t==null?void 0:t.format)||function(S){return"".concat(S,"%")},W=k==="line";return y||(t==null?void 0:t.format)||i.value!=="exception"&&i.value!=="success"?C=D(w(p),w(m)):i.value==="exception"?C=W?d(Y,null,null):d(K,null,null):i.value==="success"&&(C=W?d(Q,null,null):d(H,null,null)),d("span",{class:"".concat(l.value,"-text"),title:b===void 0&&typeof C=="string"?C:void 0},[C])};return function(){var s=e.type,a=e.steps,y=e.strokeColor,k=e.title,p=f(),b;s==="line"?b=a?d(ye,O(O({},e),{},{strokeColor:typeof y=="string"?y:void 0,prefixCls:l.value,steps:a}),{default:function(){return[p]}}):d(ie,O(O({},e),{},{prefixCls:l.value}),{default:function(){return[p]}}):(s==="circle"||s==="dashboard")&&(b=d(pe,O(O({},e),{},{prefixCls:l.value}),{default:function(){return[p]}}));var m=j(j({},u.value),P({},"".concat(l.value,"-status-").concat(i.value),!0));return d("div",{class:m,title:k},[b])}}}),me=Z(ke);export{me as P};
