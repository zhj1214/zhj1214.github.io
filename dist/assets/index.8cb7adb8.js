import{a as X,J as Y,n,G as u,K as se,v as D,Q as ie,cj as de,T as G,R as fe,S as p,cS as ge,cN as me,ar as ye,a4 as _e,bC as ae,f as L,a7 as he,cG as Se,_ as K,cT as be,b0 as xe,Y as te,X as ne,aK as re}from"./index.a37e80f2.js";import{C as Ce,R as Ie}from"./Col.cee418bd.js";import{e as pe}from"./eagerComputed.4d6ef9e3.js";var Pe={avatar:u.any,description:u.any,prefixCls:u.string,title:u.any},Le=X({name:"AListItemMeta",props:Pe,displayName:"AListItemMeta",__ANT_LIST_ITEM_META:!0,slots:["avatar","description","title"],setup:function(e,h){var a=h.slots,v=Y("list",e),g=v.prefixCls;return function(){var P,S,r,M,w,s,m="".concat(g.value,"-item-meta"),i=(P=e.title)!==null&&P!==void 0?P:(S=a.title)===null||S===void 0?void 0:S.call(a),o=(r=e.description)!==null&&r!==void 0?r:(M=a.description)===null||M===void 0?void 0:M.call(a),d=(w=e.avatar)!==null&&w!==void 0?w:(s=a.avatar)===null||s===void 0?void 0:s.call(a),b=n("div",{class:"".concat(g.value,"-item-meta-content")},[i&&n("h4",{class:"".concat(g.value,"-item-meta-title")},[i]),o&&n("div",{class:"".concat(g.value,"-item-meta-description")},[o])]);return n("div",{class:m},[d&&n("div",{class:"".concat(g.value,"-item-meta-avatar")},[d]),(i||o)&&b])}}}),le=Symbol("ListContextKey"),je=globalThis&&globalThis.__rest||function(c,e){var h={};for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&e.indexOf(a)<0&&(h[a]=c[a]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var v=0,a=Object.getOwnPropertySymbols(c);v<a.length;v++)e.indexOf(a[v])<0&&Object.prototype.propertyIsEnumerable.call(c,a[v])&&(h[a[v]]=c[a[v]]);return h},Me={prefixCls:u.string,extra:u.any,actions:u.array,grid:u.any,colStyle:u.style},we=X({name:"AListItem",inheritAttrs:!1,Meta:Le,props:Me,slots:["actions","extra"],setup:function(e,h){var a=h.slots,v=h.attrs,g=se(le,{grid:D(),itemLayout:D()}),P=g.itemLayout,S=g.grid,r=Y("list",e),M=r.prefixCls,w=function(){var i,o=((i=a.default)===null||i===void 0?void 0:i.call(a))||[],d;return o.forEach(function(b){ge(b)&&!me(b)&&(d=!0)}),d&&o.length>1},s=function(){var i,o,d=(i=e.extra)!==null&&i!==void 0?i:(o=a.extra)===null||o===void 0?void 0:o.call(a);return P.value==="vertical"?!!d:!w()};return function(){var m,i,o,d,b,H=v.class,J=je(v,["class"]),y=M.value,z=(m=e.extra)!==null&&m!==void 0?m:(i=a.extra)===null||i===void 0?void 0:i.call(a),T=(o=a.default)===null||o===void 0?void 0:o.call(a),_=(d=e.actions)!==null&&d!==void 0?d:ie((b=a.actions)===null||b===void 0?void 0:b.call(a));_=_&&!Array.isArray(_)?[_]:_;var x=_&&_.length>0&&n("ul",{class:"".concat(y,"-item-action"),key:"actions"},[_.map(function(A,F){return n("li",{key:"".concat(y,"-item-action-").concat(F)},[A,F!==_.length-1&&n("em",{class:"".concat(y,"-item-action-split")},null)])})]),N=S.value?"div":"li",B=n(N,G(G({},J),{},{class:fe("".concat(y,"-item"),p({},"".concat(y,"-item-no-flex"),!s()),H)}),{default:function(){return[P.value==="vertical"&&z?[n("div",{class:"".concat(y,"-item-main"),key:"content"},[T,x]),n("div",{class:"".concat(y,"-item-extra"),key:"extra"},[z])]:[T,x,de(z,{key:"extra"})]]}});return S.value?n(Ce,{flex:1,style:e.colStyle},{default:function(){return[B]}}):B}}}),ze=function(){return{bordered:u.looseBool,dataSource:u.array,extra:u.any,grid:{type:Object,default:void 0},itemLayout:String,loading:{type:[Boolean,Object],default:void 0},loadMore:u.any,pagination:{type:[Boolean,Object],default:void 0},prefixCls:String,rowKey:[String,Number,Function],renderItem:u.any,size:String,split:u.looseBool,header:u.any,footer:u.any,locale:{type:Object}}},j=X({name:"AList",Item:we,props:ye(ze(),{dataSource:[],bordered:!1,split:!0,loading:!1,pagination:!1}),slots:["extra","loadMore","renderItem","header","footer"],setup:function(e,h){var a=h.slots,v,g;_e(le,{grid:ae(e,"grid"),itemLayout:ae(e,"itemLayout")});var P={current:1,total:0},S=Y("list",e),r=S.prefixCls,M=S.direction,w=S.renderEmpty,s=L(function(){return e.pagination&&te(e.pagination)==="object"?e.pagination:{}}),m=D((v=s.value.defaultCurrent)!==null&&v!==void 0?v:1),i=D((g=s.value.defaultPageSize)!==null&&g!==void 0?g:10);he(s,function(){"current"in s.value&&(m.value=s.value.current),"pageSize"in s.value&&(i.value=s.value.pageSize)});var o=[],d=function(l){return function(f,C){m.value=f,i.value=C,s.value[l]&&s.value[l](f,C)}},b=d("onChange"),H=d("onShowSizeChange"),J=function(l){var f;return n("div",{class:"".concat(r.value,"-empty-text")},[((f=e.locale)===null||f===void 0?void 0:f.emptyText)||l("List")])},y=L(function(){return typeof e.loading=="boolean"?{spinning:e.loading}:e.loading}),z=L(function(){return y.value&&y.value.spinning}),T=L(function(){var t="";switch(e.size){case"large":t="lg";break;case"small":t="sm";break}return t}),_=L(function(){var t;return t={},p(t,"".concat(r.value),!0),p(t,"".concat(r.value,"-vertical"),e.itemLayout==="vertical"),p(t,"".concat(r.value,"-").concat(T.value),T.value),p(t,"".concat(r.value,"-split"),e.split),p(t,"".concat(r.value,"-bordered"),e.bordered),p(t,"".concat(r.value,"-loading"),z.value),p(t,"".concat(r.value,"-grid"),!!e.grid),p(t,"".concat(r.value,"-rtl"),M.value==="rtl"),t}),x=L(function(){var t=K(K(K({},P),{total:e.dataSource.length,current:m.value,pageSize:i.value}),e.pagination||{}),l=Math.ceil(t.total/t.pageSize);return t.current>l&&(t.current=l),t}),N=L(function(){var t=ne(e.dataSource);return e.pagination&&e.dataSource.length>(x.value.current-1)*x.value.pageSize&&(t=ne(e.dataSource).splice((x.value.current-1)*x.value.pageSize,x.value.pageSize)),t}),B=Se(),A=pe(function(){for(var t=0;t<re.length;t+=1){var l=re[t];if(B.value[l])return l}}),F=L(function(){if(!!e.grid){var t=A.value&&e.grid[A.value]?e.grid[A.value]:e.grid.column;if(t)return{width:"".concat(100/t,"%"),maxWidth:"".concat(100/t,"%")}}}),oe=function(l,f){var C,O=(C=e.renderItem)!==null&&C!==void 0?C:a.renderItem;if(!O)return null;var I,E=te(e.rowKey);return E==="function"?I=e.rowKey(l):E==="string"||E==="number"?I=l[e.rowKey]:I=l.key,I||(I="list-item-".concat(f)),o[f]=I,O({item:l,index:f})};return function(){var t,l,f,C,O,I,E,$=(t=e.loadMore)!==null&&t!==void 0?t:(l=a.loadMore)===null||l===void 0?void 0:l.call(a),Q=(f=e.footer)!==null&&f!==void 0?f:(C=a.footer)===null||C===void 0?void 0:C.call(a),q=(O=e.header)!==null&&O!==void 0?O:(I=a.header)===null||I===void 0?void 0:I.call(a),U=ie((E=a.default)===null||E===void 0?void 0:E.call(a)),ue=!!($||e.pagination||Q),ce=K(K({},_.value),p({},"".concat(r.value,"-something-after-last-item"),ue)),Z=e.pagination?n("div",{class:"".concat(r.value,"-pagination")},[n(be,G(G({},x.value),{},{onChange:b,onShowSizeChange:H}),null)]):null,V=z.value&&n("div",{style:{minHeight:"53px"}},null);if(N.value.length>0){o.length=0;var ee=N.value.map(function(k,W){return oe(k,W)}),ve=ee.map(function(k,W){return n("div",{key:o[W],style:F.value},[k])});V=e.grid?n(Ie,{gutter:e.grid.gutter},{default:function(){return[ve]}}):n("ul",{class:"".concat(r.value,"-items")},[ee])}else!U.length&&!z.value&&(V=J(w.value));var R=x.value.position||"bottom";return n("div",{class:ce},[(R==="top"||R==="both")&&Z,q&&n("div",{class:"".concat(r.value,"-header")},[q]),n(xe,y.value,{default:function(){return[V,U]}}),Q&&n("div",{class:"".concat(r.value,"-footer")},[Q]),$||(R==="bottom"||R==="both")&&Z])}}});j.install=function(c){return c.component(j.name,j),c.component(j.Item.name,j.Item),c.component(j.Item.Meta.name,j.Item.Meta),c};var Te=j;export{Te as L};
