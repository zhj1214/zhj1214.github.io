import{_ as P,G as a,a as ce,w as Ee,v as M,N as we,al as te,a7 as K,b_ as ge,f as Y,b$ as De,R as se,S as I,n as C,T as W,c0 as Ce,c1 as Me,c2 as _e,ar as ke,c3 as je,U as Le,ak as Se,K as Be,J as Ve,c4 as le,a4 as Ie,c5 as re,c6 as Ae}from"./index.a37e80f2.js";var pe=function(){return{prefixCls:a.string,width:a.oneOfType([a.string,a.number]),height:a.oneOfType([a.string,a.number]),style:a.style,class:a.string,placement:{type:String},wrapperClassName:a.string,level:{type:[String,Array]},levelMove:{type:[Number,Function,Array]},duration:a.string,ease:a.string,showMask:a.looseBool,maskClosable:a.looseBool,maskStyle:a.style,afterVisibleChange:a.func,keyboard:a.looseBool,contentWrapperStyle:a.style,autofocus:a.looseBool,open:a.looseBool}},He=function(){return P(P({},pe()),{forceRender:a.looseBool,getContainer:a.oneOfType([a.string,a.func,a.object,a.looseBool])})},ze=function(){return P(P({},pe()),{getContainer:a.func,getOpenCount:a.func,scrollLocker:a.any,switchScrollingEffect:a.func})};function We(n){return Array.isArray(n)?n:[n]}var Oe={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend"},Fe=Object.keys(Oe).filter(function(n){if(typeof document=="undefined")return!1;var e=document.getElementsByTagName("html")[0];return n in(e?e.style:{})})[0],ve=Oe[Fe];function de(n,e,i,o){n.addEventListener?n.addEventListener(e,i,o):n.attachEvent&&n.attachEvent("on".concat(e),i)}function fe(n,e,i,o){n.removeEventListener?n.removeEventListener(e,i,o):n.attachEvent&&n.detachEvent("on".concat(e),i)}function Re(n,e){var i=typeof n=="function"?n(e):n;return Array.isArray(i)?i.length===2?i:[i[0],i[1]]:[i]}var he=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},ie=!(typeof window!="undefined"&&window.document&&window.document.createElement),$e=function n(e,i,o,s){if(!i||i===document||i instanceof Document)return!1;if(i===e.parentNode)return!0;var T=Math.max(Math.abs(o),Math.abs(s))===Math.abs(s),N=Math.max(Math.abs(o),Math.abs(s))===Math.abs(o),x=i.scrollHeight-i.clientHeight,v=i.scrollWidth-i.clientWidth,h=document.defaultView.getComputedStyle(i),_=h.overflowY==="auto"||h.overflowY==="scroll",p=h.overflowX==="auto"||h.overflowX==="scroll",E=x&&_,D=v&&p;return T&&(!E||E&&(i.scrollTop>=x&&s<0||i.scrollTop<=0&&s>0))||N&&(!D||D&&(i.scrollLeft>=v&&o<0||i.scrollLeft<=0&&o>0))?n(e,i.parentNode,o,s):!1},Xe=globalThis&&globalThis.__rest||function(n,e){var i={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&e.indexOf(o)<0&&(i[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,o=Object.getOwnPropertySymbols(n);s<o.length;s++)e.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(n,o[s])&&(i[o[s]]=n[o[s]]);return i},X={},Ke=ce({inheritAttrs:!1,props:ze(),emits:["close","handleClick","change"],setup:function(e,i){var o=i.emit,s=i.slots,T=Ee({startPos:{x:null,y:null}}),N,x=M(),v=M(),h=M(),_=M(),p=M(),E=[],D="drawer_id_".concat(Number((Date.now()+Math.random()).toString().replace(".",Math.round(Math.random()*9).toString())).toString(16)),F=!ie&&_e?{passive:!1}:!1;we(function(){te(function(){var l,t=e.open,r=e.getContainer,d=e.showMask,f=e.autofocus,y=r==null?void 0:r();k(e),t&&(y&&y.parentNode===document.body&&(X[D]=t),G(),te(function(){f&&j()}),d&&((l=e.scrollLocker)===null||l===void 0||l.lock()))})}),K(function(){return e.level},function(){k(e)},{flush:"post"}),K(function(){return e.open},function(){var l=e.open,t=e.getContainer,r=e.scrollLocker,d=e.showMask,f=e.autofocus,y=t==null?void 0:t();y&&y.parentNode===document.body&&(X[D]=!!l),G(),l?(f&&j(),d&&(r==null||r.lock())):r==null||r.unLock()},{flush:"post"}),ge(function(){var l,t=e.open;delete X[D],t&&(J(!1),document.body.style.touchAction=""),(l=e.scrollLocker)===null||l===void 0||l.unLock()}),K(function(){return e.placement},function(l){l&&(p.value=null)});var j=function(){var t,r;(r=(t=v.value)===null||t===void 0?void 0:t.focus)===null||r===void 0||r.call(t)},A=function(t){t.touches.length>1||(T.startPos={x:t.touches[0].clientX,y:t.touches[0].clientY})},V=function(t){if(!(t.changedTouches.length>1)){var r=t.currentTarget,d=t.changedTouches[0].clientX-T.startPos.x,f=t.changedTouches[0].clientY-T.startPos.y;(r===h.value||r===_.value||r===p.value&&$e(r,t.target,d,f))&&t.cancelable&&t.preventDefault()}},$=function l(t){var r=t.target;fe(r,ve,l),r.style.transition=""},U=function(t){o("close",t)},Z=function(t){t.keyCode===Me.ESC&&(t.stopPropagation(),U(t))},ae=function(t){var r=e.open,d=e.afterVisibleChange;t.target===x.value&&t.propertyName.match(/transform$/)&&(v.value.style.transition="",!r&&g()&&(document.body.style.overflowX="",h.value&&(h.value.style.left="",h.value.style.width="")),d&&d(!!r))},q=Y(function(){var l=e.placement,t=l==="left"||l==="right",r="translate".concat(t?"X":"Y");return{isHorizontal:t,placementName:r}}),G=function(){var t=e.open,r=e.width,d=e.height,f=q.value,y=f.isHorizontal,b=f.placementName,w=p.value?p.value.getBoundingClientRect()[y?"width":"height"]:0,O=(y?r:d)||w;ne(t,b,O)},J=function(t,r,d,f){var y=e.placement,b=e.levelMove,w=e.duration,O=e.ease,B=e.showMask;E.forEach(function(R){R.style.transition="transform ".concat(w," ").concat(O),de(R,ve,$);var H=t?d:0;if(b){var Q=Re(b,{target:R,open:t});H=t?Q[0]:Q[1]||0}var ee=typeof H=="number"?"".concat(H,"px"):H,z=y==="left"||y==="top"?ee:"-".concat(ee);z=B&&y==="right"&&f?"calc(".concat(z," + ").concat(f,"px)"):z,R.style.transform=H?"".concat(r,"(").concat(z,")"):""})},ne=function(t,r,d){if(!ie){var f=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth?De(!0):0;J(t,r,d,f),m(f)}o("change",t)},m=function(t){var r=e.getContainer,d=e.showMask,f=e.open,y=r==null?void 0:r();if(y&&y.parentNode===document.body&&d){var b=["touchstart"],w=[document.body,h.value,_.value,p.value];f&&document.body.style.overflow!=="hidden"?(t&&c(t),document.body.style.touchAction="none",w.forEach(function(O,B){!O||de(O,b[B]||"touchmove",B?V:A,F)})):g()&&(document.body.style.touchAction="",t&&u(t),w.forEach(function(O,B){!O||fe(O,b[B]||"touchmove",B?V:A,F)}))}},c=function(t){var r=e.placement,d=e.duration,f=e.ease,y="width ".concat(d," ").concat(f),b="transform ".concat(d," ").concat(f);switch(v.value.style.transition="none",r){case"right":v.value.style.transform="translateX(-".concat(t,"px)");break;case"top":case"bottom":v.value.style.width="calc(100% - ".concat(t,"px)"),v.value.style.transform="translateZ(0)";break}clearTimeout(N),N=setTimeout(function(){v.value&&(v.value.style.transition="".concat(b,",").concat(y),v.value.style.width="",v.value.style.transform="")})},u=function(t){var r=e.placement,d=e.duration,f=e.ease;v.value.style.transition="none";var y,b="width ".concat(d," ").concat(f),w="transform ".concat(d," ").concat(f);switch(r){case"left":{v.value.style.width="100%",b="width 0s ".concat(f," ").concat(d);break}case"right":{v.value.style.transform="translateX(".concat(t,"px)"),v.value.style.width="100%",b="width 0s ".concat(f," ").concat(d),h.value&&(h.value.style.left="-".concat(t,"px"),h.value.style.width="calc(100% + ".concat(t,"px)"));break}case"top":case"bottom":{v.value.style.width="calc(100% + ".concat(t,"px)"),v.value.style.height="100%",v.value.style.transform="translateZ(0)",y="height 0s ".concat(f," ").concat(d);break}}clearTimeout(N),N=setTimeout(function(){v.value&&(v.value.style.transition="".concat(w,",").concat(y?"".concat(y,","):"").concat(b),v.value.style.transform="",v.value.style.width="",v.value.style.height="")})},g=function(){return!Object.keys(X).some(function(t){return X[t]})},k=function(t){var r=t.level,d=t.getContainer;if(!ie){var f=d==null?void 0:d(),y=f?f.parentNode:null;if(E=[],r==="all"){var b=y?Array.prototype.slice.call(y.children):[];b.forEach(function(w){w.nodeName!=="SCRIPT"&&w.nodeName!=="STYLE"&&w.nodeName!=="LINK"&&w!==f&&E.push(w)})}else r&&We(r).forEach(function(w){document.querySelectorAll(w).forEach(function(O){E.push(O)})})}},S=function(t){o("handleClick",t)},L=M(!1);return K(v,function(){te(function(){L.value=!0})}),function(){var l,t,r,d=e.width,f=e.height,y=e.open,b=e.prefixCls,w=e.placement;e.level,e.levelMove,e.ease,e.duration,e.getContainer,e.onChange,e.afterVisibleChange;var O=e.showMask,B=e.maskClosable,R=e.maskStyle,H=e.keyboard;e.getOpenCount,e.scrollLocker;var Q=e.contentWrapperStyle,ee=e.style,z=e.class,Pe=Xe(e,["width","height","open","prefixCls","placement","level","levelMove","ease","duration","getContainer","onChange","afterVisibleChange","showMask","maskClosable","maskStyle","keyboard","getOpenCount","scrollLocker","contentWrapperStyle","style","class"]),oe=y&&L.value,Ne=se(b,(l={},I(l,"".concat(b,"-").concat(w),!0),I(l,"".concat(b,"-open"),oe),I(l,z,!!z),I(l,"no-mask",!O),l)),Te=q.value.placementName,xe=w==="left"||w==="top"?"-100%":"100%",ue=oe?"":"".concat(Te,"(").concat(xe,")");return C("div",W(W({},Ce(Pe,["switchScrollingEffect","autofocus"])),{},{tabindex:-1,class:Ne,style:ee,ref:v,onKeydown:oe&&H?Z:void 0,onTransitionend:ae}),[O&&C("div",{class:"".concat(b,"-mask"),onClick:B?U:void 0,style:R,ref:h},null),C("div",{class:"".concat(b,"-content-wrapper"),style:P({transform:ue,msTransform:ue,width:he(d)?"".concat(d,"px"):d,height:he(f)?"".concat(f,"px"):f},Q),ref:x},[C("div",{class:"".concat(b,"-content"),ref:p},[(t=s.default)===null||t===void 0?void 0:t.call(s)]),s.handler?C("div",{onClick:S,ref:_},[(r=s.handler)===null||r===void 0?void 0:r.call(s)]):null])])}}}),me=Ke,ye=globalThis&&globalThis.__rest||function(n,e){var i={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&e.indexOf(o)<0&&(i[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,o=Object.getOwnPropertySymbols(n);s<o.length;s++)e.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(n,o[s])&&(i[o[s]]=n[o[s]]);return i},Ye=ce({inheritAttrs:!1,props:ke(He(),{prefixCls:"drawer",placement:"left",getContainer:"body",level:"all",duration:".3s",ease:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",afterVisibleChange:function(){},showMask:!0,maskClosable:!0,maskStyle:{},wrapperClassName:"",keyboard:!0,forceRender:!1,autofocus:!0}),emits:["handleClick","close"],slots:["handler"],setup:function(e,i){var o=i.emit,s=i.slots,T=M(null),N=function(h){o("handleClick",h)},x=function(h){o("close",h)};return function(){e.afterVisibleChange;var v=e.getContainer,h=e.wrapperClassName,_=e.forceRender,p=ye(e,["afterVisibleChange","getContainer","wrapperClassName","forceRender"]),E=null;if(!v)return C("div",{class:h,ref:T},[C(me,W(W({},p),{},{open:e.open,getContainer:function(){return T.value},onClose:x,onHandleClick:N}),s)]);var D=!!s.handler||_;return(D||e.open||T.value)&&(E=C(je,{visible:e.open,forceRender:D,getContainer:v,wrapperClassName:h},{default:function(j){var A=j.visible,V=j.afterClose,$=ye(j,["visible","afterClose"]);return C(me,W(W(W({ref:T},p),$),{},{open:A!==void 0?A:e.open,afterVisibleChange:V!==void 0?V:e.afterVisibleChange,onClose:x,onHandleClick:N}),s)}})),E}}}),Ue=Ye,Ze=globalThis&&globalThis.__rest||function(n,e){var i={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&e.indexOf(o)<0&&(i[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,o=Object.getOwnPropertySymbols(n);s<o.length;s++)e.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(n,o[s])&&(i[o[s]]=n[o[s]]);return i},qe=Se("top","right","bottom","left");Se("default","large");var be={distance:180},Ge=function(){return{autofocus:a.looseBool,closable:a.looseBool,closeIcon:a.any,destroyOnClose:a.looseBool,forceRender:a.looseBool,getContainer:a.any,maskClosable:a.looseBool,mask:a.looseBool,maskStyle:a.object,wrapStyle:{type:Object,default:void 0},style:{type:Object,default:void 0},class:a.any,wrapClassName:a.string,size:{type:String},drawerStyle:a.object,headerStyle:a.object,bodyStyle:a.object,contentWrapperStyle:a.object,title:a.any,visible:a.looseBool,width:a.oneOfType([a.string,a.number]),height:a.oneOfType([a.string,a.number]),zIndex:a.number,prefixCls:a.string,push:a.oneOfType([a.looseBool,{type:Object}]),placement:a.oneOf(qe),keyboard:a.looseBool,extra:a.any,footer:a.any,footerStyle:a.object,level:a.any,levelMove:{type:[Number,Array,Function]},handle:a.any,afterVisibleChange:a.func}},Je=ce({name:"ADrawer",inheritAttrs:!1,props:ke(Ge(),{closable:!0,placement:"right",maskClosable:!0,mask:!0,level:null,keyboard:!0,push:be}),slots:["closeIcon","title","extra","footer","handle"],emits:["update:visible","close","afterVisibleChange"],setup:function(e,i){var o=i.emit,s=i.slots,T=i.attrs,N=M(!1),x=M(!1),v=M(null),h=Be("parentDrawerOpts",null),_=Ve("drawer",e),p=_.prefixCls;le(!e.afterVisibleChange,"Drawer","`afterVisibleChange` prop is deprecated, please use `@afterVisibleChange` event instead"),le(e.wrapStyle===void 0,"Drawer","`wrapStyle` prop is deprecated, please use `style` instead"),le(e.wrapClassName===void 0,"Drawer","`wrapClassName` prop is deprecated, please use `class` instead");var E=function(){N.value=!0},D=function(){N.value=!1,te(function(){F()})};Ie("parentDrawerOpts",{setPush:E,setPull:D}),we(function(){var m=e.visible;m&&h&&h.setPush()}),ge(function(){h&&h.setPull()}),K(function(){return e.visible},function(m){h&&(m?h.setPush():h.setPull())},{flush:"post"});var F=function(){var c,u;(u=(c=v.value)===null||c===void 0?void 0:c.domFocus)===null||u===void 0||u.call(c)},j=function(c){o("update:visible",!1),o("close",c)},A=function(c){var u;(u=e.afterVisibleChange)===null||u===void 0||u.call(e,c),o("afterVisibleChange",c)},V=Y(function(){return e.destroyOnClose&&!e.visible}),$=function(){var c=V.value;!c||e.visible||(x.value=!0)},U=Y(function(){var m=e.push,c=e.placement,u;return typeof m=="boolean"?u=m?be.distance:0:u=m.distance,u=parseFloat(String(u||0)),c==="left"||c==="right"?"translateX(".concat(c==="left"?u:-u,"px)"):c==="top"||c==="bottom"?"translateY(".concat(c==="top"?u:-u,"px)"):null}),Z=Y(function(){var m=e.visible,c=e.mask,u=e.placement,g=e.size,k=g===void 0?"default":g,S=e.width,L=e.height;if(!m&&!c)return{};var l={};if(u==="left"||u==="right"){var t=k==="large"?736:378;l.width=typeof S=="undefined"?t:S,l.width=typeof l.width=="string"?l.width:"".concat(l.width,"px")}else{var r=k==="large"?736:378;l.height=typeof L=="undefined"?r:L,l.height=typeof l.height=="string"?l.height:"".concat(l.height,"px")}return l}),ae=Y(function(){var m=e.zIndex,c=e.wrapStyle,u=e.mask,g=e.style,k=u?{}:Z.value;return P(P(P({zIndex:m,transform:N.value?U.value:void 0},k),c),g)}),q=function(c){var u=e.closable,g=e.headerStyle,k=re(s,e,"extra"),S=re(s,e,"title");return!S&&!u?null:C("div",{class:se("".concat(c,"-header"),I({},"".concat(c,"-header-close-only"),u&&!S&&!k)),style:g},[C("div",{class:"".concat(c,"-header-title")},[G(c),S&&C("div",{class:"".concat(c,"-title")},[S])]),k&&C("div",{class:"".concat(c,"-extra")},[k])])},G=function(c){var u,g=e.closable,k=s.closeIcon?(u=s.closeIcon)===null||u===void 0?void 0:u.call(s):e.closeIcon;return g&&C("button",{key:"closer",onClick:j,"aria-label":"Close",class:"".concat(c,"-close")},[k===void 0?C(Ae,null,null):null])},J=function(c){var u;if(x.value&&!e.visible)return null;x.value=!1;var g=e.bodyStyle,k=e.drawerStyle,S={},L=V.value;return L&&(S.opacity=0,S.transition="opacity .3s"),C("div",{class:"".concat(c,"-wrapper-body"),style:P(P({},S),k),onTransitionend:$},[q(c),C("div",{key:"body",class:"".concat(c,"-body"),style:g},[(u=s.default)===null||u===void 0?void 0:u.call(s)]),ne(c)])},ne=function(c){var u=re(s,e,"footer");if(!u)return null;var g="".concat(c,"-footer");return C("div",{class:g,style:e.footerStyle},[u])};return function(){var m;e.width,e.height;var c=e.visible,u=e.placement,g=e.mask,k=e.wrapClassName,S=e.class,L=Ze(e,["width","height","visible","placement","mask","wrapClassName","class"]),l=g?Z.value:{},t=g?"":"no-mask",r=P(P(P(P({},T),Ce(L,["size","closeIcon","closable","destroyOnClose","drawerStyle","headerStyle","bodyStyle","title","push","wrapStyle"])),l),{onClose:j,afterVisibleChange:A,handler:!1,prefixCls:p.value,open:c,showMask:g,placement:u,class:se((m={},I(m,S,S),I(m,k,!!k),I(m,t,!!t),m)),style:ae.value,ref:v});return C(Ue,r,{handler:e.handle?function(){return e.handle}:s.handle,default:function(){return J(p.value)}})}}}),et=Le(Je);export{et as D};
