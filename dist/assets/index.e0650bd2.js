var b_=Object.defineProperty,m_=Object.defineProperties;var O_=Object.getOwnPropertyDescriptors;var Ry=Object.getOwnPropertySymbols;var __=Object.prototype.hasOwnProperty,w_=Object.prototype.propertyIsEnumerable;var Iy=(v,h,c)=>h in v?b_(v,h,{enumerable:!0,configurable:!0,writable:!0,value:c}):v[h]=c,Uc=(v,h)=>{for(var c in h||(h={}))__.call(h,c)&&Iy(v,c,h[c]);if(Ry)for(var c of Ry(h))w_.call(h,c)&&Iy(v,c,h[c]);return v},Ly=(v,h)=>m_(v,O_(h));var ja=(v,h,c)=>new Promise((f,a)=>{var p=O=>{try{b(c.next(O))}catch(w){a(w)}},s=O=>{try{b(c.throw(O))}catch(w){a(w)}},b=O=>O.done?f(O.value):Promise.resolve(O.value).then(p,s);b((c=c.apply(v,h)).next())});import{K as x_,a4 as E_,a as lv,b5 as j_,bj as S_,v as Sa,L as P_,i as en,al as Gc,b_ as A_,av as Kc,ax as Tr,o as Ar,h as pi,F as zy,aA as k_,n as gi,z as Ta,B as T_,t as M_,q as Pa,k as Hc,ay as D_,j as Zc,f1 as N_,b as C_,bF as R_,f as I_,a7 as By,N as L_,m as z_,aE as B_}from"./index.a37e80f2.js";import{D as F_}from"./index.b5a022bb.js";import{B as U_,b as G_}from"./index.2833acfd.js";import{J as H_}from"./index.b3940bb3.js";import{P as X_}from"./index.1b1bb39e.js";import"./useWindowSizeFn.9407d2b5.js";import"./FullscreenOutlined.913c05e0.js";import"./index.5133ca68.js";import"./index.6d0b2f34.js";import"./useSize.63f886e3.js";import"./eagerComputed.4d6ef9e3.js";import"./useContentViewHeight.df49acbe.js";import"./ArrowLeftOutlined.90405055.js";import"./index.55ab06a5.js";import"./transButton.b87d5a94.js";const fv=Symbol("flow-chart");function Y_(v){E_(fv,v)}function V_(){return x_(fv)}var Xt=(v=>(v.ZOOM_IN="zoomIn",v.ZOOM_OUT="zoomOut",v.RESET_ZOOM="resetZoom",v.UNDO="undo",v.REDO="redo",v.SNAPSHOT="snapshot",v.VIEW_DATA="viewData",v))(Xt||{});const W_=lv({name:"FlowChartToolbar",components:{Icon:j_,Divider:F_,Tooltip:S_},props:{prefixCls:String},emits:["view-data"],setup(v,{emit:h}){const c=Sa([{type:Xt.ZOOM_IN,icon:"codicon:zoom-out",tooltip:"\u7F29\u5C0F"},{type:Xt.ZOOM_OUT,icon:"codicon:zoom-in",tooltip:"\u653E\u5927"},{type:Xt.RESET_ZOOM,icon:"codicon:screen-normal",tooltip:"\u91CD\u7F6E\u6BD4\u4F8B"},{separate:!0},{type:Xt.UNDO,icon:"ion:arrow-undo-outline",tooltip:"\u540E\u9000",disabled:!0},{type:Xt.REDO,icon:"ion:arrow-redo-outline",tooltip:"\u524D\u8FDB",disabled:!0},{separate:!0},{type:Xt.SNAPSHOT,icon:"ion:download-outline",tooltip:"\u4E0B\u8F7D"},{type:Xt.VIEW_DATA,icon:"carbon:document-view",tooltip:"\u67E5\u770B\u6570\u636E"}]),{logicFlow:f}=V_();function a({data:{undoAble:s,redoAble:b}}){const O=en(c),w=O.findIndex(j=>j.type===Xt.UNDO),_=O.findIndex(j=>j.type===Xt.REDO);w!==-1&&(en(c)[w].disabled=!s),_!==-1&&(en(c)[_].disabled=!b)}const p=s=>{const b=en(f);if(!!b)switch(s.type){case Xt.ZOOM_IN:b.zoom();break;case Xt.ZOOM_OUT:b.zoom(!0);break;case Xt.RESET_ZOOM:b.resetZoom();break;case Xt.UNDO:b.undo();break;case Xt.REDO:b.redo();break;case Xt.SNAPSHOT:b.getSnapshot();break;case Xt.VIEW_DATA:h("view-data");break}};return P_(()=>ja(this,null,function*(){var s;en(f)&&(yield Gc(),(s=en(f))==null||s.on("history:change",a))})),A_(()=>{var s;(s=en(f))==null||s.off("history:change",a)}),{toolbarItemList:c,onControl:p}}}),K_=["onClick"];function Z_(v,h,c,f,a,p){const s=Tr("Icon"),b=Tr("Tooltip"),O=Tr("Divider");return Ar(),pi("div",{class:Pa([`${v.prefixCls}-toolbar`,"flex items-center px-2 py-1"])},[(Ar(!0),pi(zy,null,k_(v.toolbarItemList,w=>(Ar(),pi(zy,{key:w.type},[gi(b,D_({placement:"bottom"},w.disabled?{visible:!1}:{}),{title:Ta(()=>[T_(M_(w.tooltip),1)]),default:Ta(()=>[w.icon?(Ar(),pi("span",{key:0,class:Pa(`${v.prefixCls}-toolbar__icon`),onClick:_=>v.onControl(w)},[gi(s,{icon:w.icon,class:Pa(w.disabled?"cursor-not-allowed disabeld":"cursor-pointer")},null,8,["icon","class"])],10,K_)):Hc("",!0)]),_:2},1040),w.separate?(Ar(),Zc(O,{key:0,type:"vertical"})):Hc("",!0)],64))),128))],2)}var q_=Kc(W_,[["render",Z_]]),Fe={exports:{}};(function(v,h){(function(c,f){v.exports=f()})(window,function(){return function(c){var f={};function a(p){if(f[p])return f[p].exports;var s=f[p]={i:p,l:!1,exports:{}};return c[p].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=c,a.c=f,a.d=function(p,s,b){a.o(p,s)||Object.defineProperty(p,s,{enumerable:!0,get:b})},a.r=function(p){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},a.t=function(p,s){if(1&s&&(p=a(p)),8&s||4&s&&typeof p=="object"&&p&&p.__esModule)return p;var b=Object.create(null);if(a.r(b),Object.defineProperty(b,"default",{enumerable:!0,value:p}),2&s&&typeof p!="string")for(var O in p)a.d(b,O,function(w){return p[w]}.bind(null,O));return b},a.n=function(p){var s=p&&p.__esModule?function(){return p.default}:function(){return p};return a.d(s,"a",s),s},a.o=function(p,s){return Object.prototype.hasOwnProperty.call(p,s)},a.p="",a(a.s=202)}([function(c,f,a){(function(p,s){a.d(f,"a",function(){return k}),a.d(f,"b",function(){return Co}),a.d(f,"c",function(){return _n}),a.d(f,"d",function(){return lt}),a.d(f,"e",function(){return dt}),a.d(f,"f",function(){return Je}),a.d(f,"g",function(){return $e}),a.d(f,"h",function(){return Lr}),a.d(f,"i",function(){return Bt}),a.d(f,"j",function(){return Ge}),a.d(f,"k",function(){return In}),a.d(f,"l",function(){return Ao}),a.d(f,"m",function(){return kt}),a.d(f,"n",function(){return vr}),a.d(f,"o",function(){return te}),a.d(f,"p",function(){return Ni}),a.d(f,"q",function(){return Ln}),a.d(f,"r",function(){return Ti}),a.d(f,"s",function(){return vn}),a.d(f,"t",function(){return Mr}),a.d(f,"u",function(){return to}),a.d(f,"v",function(){return Wa}),a.d(f,"w",function(){return Di}),a.d(f,"x",function(){return Nr}),a.d(f,"y",function(){return nn}),a.d(f,"z",function(){return qt}),a.d(f,"A",function(){return cn}),a.d(f,"B",function(){return zn}),a.d(f,"C",function(){return Ye}),a.d(f,"D",function(){return Ka}),a.d(f,"E",function(){return yr}),a.d(f,"F",function(){return hr}),a.d(f,"G",function(){return Xa}),a.d(f,"H",function(){return wi}),a.d(f,"I",function(){return Ri}),a.d(f,"J",function(){return dn}),a.d(f,"K",function(){return we}),a.d(f,"L",function(){return Ft}),a.d(f,"M",function(){return hn});var b=[];Object.freeze(b);var O={};function w(){return++Ce.mobxGuid}function _(y){throw j(!1,y),"X"}function j(y,g){if(!y)throw new Error("[mobx] "+(g||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(O);function S(y){var g=!1;return function(){if(!g)return g=!0,y.apply(this,arguments)}}var P=function(){};function C(y){return y!==null&&typeof y=="object"}function R(y){if(y===null||typeof y!="object")return!1;var g=Object.getPrototypeOf(y);return g===Object.prototype||g===null}function G(y,g,x){Object.defineProperty(y,g,{enumerable:!1,writable:!0,configurable:!0,value:x})}function X(y,g){var x="isMobX"+y;return g.prototype[x]=!0,function(T){return C(T)&&T[x]===!0}}function z(y){return y instanceof Map}function V(y){return y instanceof Set}function q(y){var g=new Set;for(var x in y)g.add(x);return Object.getOwnPropertySymbols(y).forEach(function(T){Object.getOwnPropertyDescriptor(y,T).enumerable&&g.add(T)}),Array.from(g)}function Y(y){return y&&y.toString?y.toString():new String(y).toString()}function N(y){return y===null?null:typeof y=="object"?""+y:y}var B=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(y){return Object.getOwnPropertyNames(y).concat(Object.getOwnPropertySymbols(y))}:Object.getOwnPropertyNames,k=Symbol("mobx administration"),L=function(){function y(g){g===void 0&&(g="Atom@"+w()),this.name=g,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=K.NOT_TRACKING}return y.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(g){return g()})},y.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(g){return g()})},y.prototype.reportObserved=function(){return Rn(this)},y.prototype.reportChanged=function(){an(),function(g){g.lowestObserverState!==K.STALE&&(g.lowestObserverState=K.STALE,g.observers.forEach(function(x){x.dependenciesState===K.UP_TO_DATE&&(x.isTracing!==Be.NONE&&dr(x,g),x.onBecomeStale()),x.dependenciesState=K.STALE}))}(this),un()},y.prototype.toString=function(){return this.name},y}(),U=X("Atom",L);function te(y,g,x){g===void 0&&(g=P),x===void 0&&(x=P);var T,D=new L(y);return g!==P&&ji("onBecomeObserved",D,g,T),x!==P&&yr(D,x),D}var $={identity:function(y,g){return y===g},structural:function(y,g){return Lo(y,g)},default:function(y,g){return Object.is(y,g)},shallow:function(y,g){return Lo(y,g,1)}},ie=function(y,g){return(ie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,T){x.__proto__=T}||function(x,T){for(var D in T)T.hasOwnProperty(D)&&(x[D]=T[D])})(y,g)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ve=function(){return(ve=Object.assign||function(y){for(var g,x=1,T=arguments.length;x<T;x++)for(var D in g=arguments[x])Object.prototype.hasOwnProperty.call(g,D)&&(y[D]=g[D]);return y}).apply(this,arguments)};function ge(y){var g=typeof Symbol=="function"&&y[Symbol.iterator],x=0;return g?g.call(y):{next:function(){return y&&x>=y.length&&(y=void 0),{value:y&&y[x++],done:!y}}}}function he(y,g){var x=typeof Symbol=="function"&&y[Symbol.iterator];if(!x)return y;var T,D,F=x.call(y),ne=[];try{for(;(g===void 0||g-- >0)&&!(T=F.next()).done;)ne.push(T.value)}catch(be){D={error:be}}finally{try{T&&!T.done&&(x=F.return)&&x.call(F)}finally{if(D)throw D.error}}return ne}function Ee(){for(var y=[],g=0;g<arguments.length;g++)y=y.concat(he(arguments[g]));return y}var fe=Symbol("mobx did run lazy initializers"),ue=Symbol("mobx pending decorators"),me={},Oe={};function Ae(y,g){var x=g?me:Oe;return x[y]||(x[y]={configurable:!0,enumerable:g,get:function(){return Ne(this),this[y]},set:function(T){Ne(this),this[y]=T}})}function Ne(y){var g,x;if(y[fe]!==!0){var T=y[ue];if(T){G(y,fe,!0);var D=Ee(Object.getOwnPropertySymbols(T),Object.keys(T));try{for(var F=ge(D),ne=F.next();!ne.done;ne=F.next()){var be=T[ne.value];be.propertyCreator(y,be.prop,be.descriptor,be.decoratorTarget,be.decoratorArguments)}}catch(ke){g={error:ke}}finally{try{ne&&!ne.done&&(x=F.return)&&x.call(F)}finally{if(g)throw g.error}}}}}function ze(y,g){return function(){var x,T=function(D,F,ne,be){if(be===!0)return g(D,F,ne,D,x),null;if(!Object.prototype.hasOwnProperty.call(D,ue)){var ke=D[ue];G(D,ue,ve({},ke))}return D[ue][F]={prop:F,propertyCreator:g,descriptor:ne,decoratorTarget:D,decoratorArguments:x},Ae(F,y)};return Te(arguments)?(x=b,T.apply(null,arguments)):(x=Array.prototype.slice.call(arguments),T)}}function Te(y){return(y.length===2||y.length===3)&&(typeof y[1]=="string"||typeof y[1]=="symbol")||y.length===4&&y[3]===!0}function Ue(y,g,x){return Nr(y)?y:Array.isArray(y)?Ye.array(y,{name:x}):R(y)?Ye.object(y,void 0,{name:x}):z(y)?Ye.map(y,{name:x}):V(y)?Ye.set(y,{name:x}):y}function at(y){return y}function Z(y){j(y);var g=ze(!0,function(T,D,F,ne,be){var ke=F?F.initializer?F.initializer.call(T):F.value:void 0;Ro(T).addObservableProp(D,ke,y)}),x=(p!==void 0&&p.env,g);return x.enhancer=y,x}var J={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function oe(y){return y==null?J:typeof y=="string"?{name:y,deep:!0,proxy:!0}:y}Object.freeze(J);var ye=Z(Ue),Pe=Z(function(y,g,x){return y==null||cn(y)||nn(y)||qt(y)||Yt(y)?y:Array.isArray(y)?Ye.array(y,{name:x,deep:!1}):R(y)?Ye.object(y,void 0,{name:x,deep:!1}):z(y)?Ye.map(y,{name:x,deep:!1}):V(y)?Ye.set(y,{name:x,deep:!1}):_(!1)}),_e=Z(at),We=Z(function(y,g,x){return Lo(y,g)?g:y});function Xe(y){return y.defaultDecorator?y.defaultDecorator.enhancer:y.deep===!1?at:Ue}var qe={box:function(y,g){arguments.length>2&&de("box");var x=oe(g);return new Kt(y,Xe(x),x.name,!0,x.equals)},array:function(y,g){arguments.length>2&&de("array");var x=oe(g);return Li(y,Xe(x),x.name)},map:function(y,g){arguments.length>2&&de("map");var x=oe(g);return new Co(y,Xe(x),x.name)},set:function(y,g){arguments.length>2&&de("set");var x=oe(g);return new er(y,Xe(x),x.name)},object:function(y,g,x){typeof arguments[1]=="string"&&de("object");var T=oe(x);if(T.proxy===!1)return Ln({},y,g,T);var D=Si(T),F=Ln({},void 0,void 0,T),ne=Rr(F);return Pi(ne,y,g,D),ne},ref:_e,shallow:Pe,deep:ye,struct:We},Ye=function(y,g,x){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return ye.apply(null,arguments);if(Nr(y))return y;var T=R(y)?Ye.object(y,g,x):Array.isArray(y)?Ye.array(y,g):z(y)?Ye.map(y,g):V(y)?Ye.set(y,g):y;if(T!==y)return T;_(!1)};function de(y){_("Expected one or two arguments to observable."+y+". Did you accidentally try to use observable."+y+" as decorator?")}Object.keys(qe).forEach(function(y){return Ye[y]=qe[y]});var K,Be,Ie=ze(!1,function(y,g,x,T,D){var F=x.get,ne=x.set,be=D[0]||{};Ro(y).addComputedProp(y,g,ve({get:F,set:ne,context:y},be))}),Ve=Ie({equals:$.structural}),kt=function(y,g,x){if(typeof g=="string"||y!==null&&typeof y=="object"&&arguments.length===1)return Ie.apply(null,arguments);var T=typeof g=="object"?g:{};return T.get=y,T.set=typeof g=="function"?g:T.set,T.name=T.name||y.name||"",new Cn(T)};kt.struct=Ve,function(y){y[y.NOT_TRACKING=-1]="NOT_TRACKING",y[y.UP_TO_DATE=0]="UP_TO_DATE",y[y.POSSIBLY_STALE=1]="POSSIBLY_STALE",y[y.STALE=2]="STALE"}(K||(K={})),function(y){y[y.NONE=0]="NONE",y[y.LOG=1]="LOG",y[y.BREAK=2]="BREAK"}(Be||(Be={}));var rt=function(y){this.cause=y};function st(y){return y instanceof rt}function pt(y){switch(y.dependenciesState){case K.UP_TO_DATE:return!1;case K.NOT_TRACKING:case K.STALE:return!0;case K.POSSIBLY_STALE:for(var g=Je(!0),x=Ze(),T=y.observing,D=T.length,F=0;F<D;F++){var ne=T[F];if($n(ne)){if(Ce.disableErrorBoundaries)ne.get();else try{ne.get()}catch(be){return He(x),dt(g),!0}if(y.dependenciesState===K.STALE)return He(x),dt(g),!0}}return Pt(y),He(x),dt(g),!1}}function Bt(){return Ce.trackingDerivation!==null}function H(y){var g=y.observers.size>0;Ce.computationDepth>0&&g&&_(!1),Ce.allowStateChanges||!g&&Ce.enforceActions!=="strict"||_(!1)}function Q(y,g,x){var T=Je(!0);Pt(y),y.newObserving=new Array(y.observing.length+100),y.unboundDepsCount=0,y.runId=++Ce.runId;var D,F=Ce.trackingDerivation;if(Ce.trackingDerivation=y,Ce.disableErrorBoundaries===!0)D=g.call(x);else try{D=g.call(x)}catch(ne){D=new rt(ne)}return Ce.trackingDerivation=F,function(ne){for(var be=ne.observing,ke=ne.observing=ne.newObserving,nt=K.UP_TO_DATE,tt=0,bt=ne.unboundDepsCount,ht=0;ht<bt;ht++)(ft=ke[ht]).diffValue===0&&(ft.diffValue=1,tt!==ht&&(ke[tt]=ft),tt++),ft.dependenciesState>nt&&(nt=ft.dependenciesState);for(ke.length=tt,ne.newObserving=null,bt=be.length;bt--;)(ft=be[bt]).diffValue===0&&mi(ft,ne),ft.diffValue=0;for(;tt--;){var ft;(ft=ke[tt]).diffValue===1&&(ft.diffValue=0,Fa(ft,ne))}nt!==K.UP_TO_DATE&&(ne.dependenciesState=nt,ne.onBecomeStale())}(y),dt(T),D}function le(y){var g=y.observing;y.observing=[];for(var x=g.length;x--;)mi(g[x],y);y.dependenciesState=K.NOT_TRACKING}function we(y){var g=Ze();try{return y()}finally{He(g)}}function Ze(){var y=Ce.trackingDerivation;return Ce.trackingDerivation=null,y}function He(y){Ce.trackingDerivation=y}function Je(y){var g=Ce.allowStateReads;return Ce.allowStateReads=y,g}function dt(y){Ce.allowStateReads=y}function Pt(y){if(y.dependenciesState!==K.UP_TO_DATE){y.dependenciesState=K.UP_TO_DATE;for(var g=y.observing,x=g.length;x--;)g[x].lowestObserverState=K.UP_TO_DATE}}var It=0,qn=1,Nn=Object.getOwnPropertyDescriptor(function(){},"name");Nn&&Nn.configurable;function gt(y,g,x){var T=function(){return De(y,g,x||this,arguments)};return T.isMobxAction=!0,T}function De(y,g,x,T){var D=Ge();try{return g.apply(x,T)}catch(F){throw D.error=F,F}finally{$e(D)}}function Ge(y,g,x){var T=0,D=Ze();an();var F={prevDerivation:D,prevAllowStateChanges:wt(!0),prevAllowStateReads:Je(!0),notifySpy:!1,startTime:T,actionId:qn++,parentActionId:It};return It=F.actionId,F}function $e(y){It!==y.actionId&&_("invalid action stack. did you forget to finish an action?"),It=y.parentActionId,y.error!==void 0&&(Ce.suppressReactionErrors=!0),Tt(y.prevAllowStateChanges),dt(y.prevAllowStateReads),un(),He(y.prevDerivation),y.notifySpy,Ce.suppressReactionErrors=!1}function lt(y,g){var x,T=wt(y);try{x=g()}finally{Tt(T)}return x}function wt(y){var g=Ce.allowStateChanges;return Ce.allowStateChanges=y,g}function Tt(y){Ce.allowStateChanges=y}var Kt=function(y){function g(x,T,D,F,ne){D===void 0&&(D="ObservableValue@"+w()),ne===void 0&&(ne=$.default);var be=y.call(this,D)||this;return be.enhancer=T,be.name=D,be.equals=ne,be.hasUnreportedChange=!1,be.value=T(x,void 0,D),be}return function(x,T){function D(){this.constructor=x}ie(x,T),x.prototype=T===null?Object.create(T):(D.prototype=T.prototype,new D)}(g,y),g.prototype.dehanceValue=function(x){return this.dehancer!==void 0?this.dehancer(x):x},g.prototype.set=function(x){this.value,(x=this.prepareNewValue(x))!==Ce.UNCHANGED&&this.setNewValue(x)},g.prototype.prepareNewValue=function(x){if(H(this),yn(this)){var T=tn(this,{object:this,type:"update",newValue:x});if(!T)return Ce.UNCHANGED;x=T.newValue}return x=this.enhancer(x,this.value,this.name),this.equals(this.value,x)?Ce.UNCHANGED:x},g.prototype.setNewValue=function(x){var T=this.value;this.value=x,this.reportChanged(),ut(this)&&Zt(this,{type:"update",object:this,newValue:x,oldValue:T})},g.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},g.prototype.intercept=function(x){return Bn(this,x)},g.prototype.observe=function(x,T){return T&&x({object:this,type:"update",newValue:this.value,oldValue:void 0}),Ir(this,x)},g.prototype.toJSON=function(){return this.get()},g.prototype.toString=function(){return this.name+"["+this.value+"]"},g.prototype.valueOf=function(){return N(this.get())},g.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},g}(L),jo=X("ObservableValue",Kt),Cn=function(){function y(g){this.dependenciesState=K.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=K.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+w(),this.value=new rt(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Be.NONE,j(g.get,"missing option for computed: get"),this.derivation=g.get,this.name=g.name||"ComputedValue@"+w(),g.set&&(this.setter=gt(this.name+"-setter",g.set)),this.equals=g.equals||(g.compareStructural||g.struct?$.structural:$.default),this.scope=g.context,this.requiresReaction=!!g.requiresReaction,this.keepAlive=!!g.keepAlive}return y.prototype.onBecomeStale=function(){(function(g){g.lowestObserverState===K.UP_TO_DATE&&(g.lowestObserverState=K.POSSIBLY_STALE,g.observers.forEach(function(x){x.dependenciesState===K.UP_TO_DATE&&(x.dependenciesState=K.POSSIBLY_STALE,x.isTracing!==Be.NONE&&dr(x,g),x.onBecomeStale())}))})(this)},y.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(g){return g()})},y.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(g){return g()})},y.prototype.get=function(){this.isComputing&&_("Cycle detected in computation "+this.name+": "+this.derivation),Ce.inBatch!==0||this.observers.size!==0||this.keepAlive?(Rn(this),pt(this)&&this.trackAndCompute()&&function(x){x.lowestObserverState!==K.STALE&&(x.lowestObserverState=K.STALE,x.observers.forEach(function(T){T.dependenciesState===K.POSSIBLY_STALE?T.dependenciesState=K.STALE:T.dependenciesState===K.UP_TO_DATE&&(x.lowestObserverState=K.UP_TO_DATE)}))}(this)):pt(this)&&(this.warnAboutUntrackedRead(),an(),this.value=this.computeValue(!1),un());var g=this.value;if(st(g))throw g.cause;return g},y.prototype.peek=function(){var g=this.computeValue(!1);if(st(g))throw g.cause;return g},y.prototype.set=function(g){if(this.setter){j(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,g)}finally{this.isRunningSetter=!1}}else j(!1,!1)},y.prototype.trackAndCompute=function(){var g=this.value,x=this.dependenciesState===K.NOT_TRACKING,T=this.computeValue(!0),D=x||st(g)||st(T)||!this.equals(g,T);return D&&(this.value=T),D},y.prototype.computeValue=function(g){var x;if(this.isComputing=!0,Ce.computationDepth++,g)x=Q(this,this.derivation,this.scope);else if(Ce.disableErrorBoundaries===!0)x=this.derivation.call(this.scope);else try{x=this.derivation.call(this.scope)}catch(T){x=new rt(T)}return Ce.computationDepth--,this.isComputing=!1,x},y.prototype.suspend=function(){this.keepAlive||(le(this),this.value=void 0)},y.prototype.observe=function(g,x){var T=this,D=!0,F=void 0;return Ao(function(){var ne=T.get();if(!D||x){var be=Ze();g({type:"update",object:T,newValue:ne,oldValue:F}),He(be)}D=!1,F=ne})},y.prototype.warnAboutUntrackedRead=function(){},y.prototype.toJSON=function(){return this.get()},y.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},y.prototype.valueOf=function(){return N(this.get())},y.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},y}(),$n=X("ComputedValue",Cn),Jr=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Ba={};function On(){return typeof window!="undefined"?window:s!==void 0?s:typeof self!="undefined"?self:Ba}var Qr=!0,bi=!1,Ce=function(){var y=On();return y.__mobxInstanceCount>0&&!y.__mobxGlobals&&(Qr=!1),y.__mobxGlobals&&y.__mobxGlobals.version!==new Jr().version&&(Qr=!1),Qr?y.__mobxGlobals?(y.__mobxInstanceCount+=1,y.__mobxGlobals.UNCHANGED||(y.__mobxGlobals.UNCHANGED={}),y.__mobxGlobals):(y.__mobxInstanceCount=1,y.__mobxGlobals=new Jr):(setTimeout(function(){bi||_("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new Jr)}();function Fa(y,g){y.observers.add(g),y.lowestObserverState>g.dependenciesState&&(y.lowestObserverState=g.dependenciesState)}function mi(y,g){y.observers.delete(g),y.observers.size===0&&Oi(y)}function Oi(y){y.isPendingUnobservation===!1&&(y.isPendingUnobservation=!0,Ce.pendingUnobservations.push(y))}function an(){Ce.inBatch++}function un(){if(--Ce.inBatch==0){_i();for(var y=Ce.pendingUnobservations,g=0;g<y.length;g++){var x=y[g];x.isPendingUnobservation=!1,x.observers.size===0&&(x.isBeingObserved&&(x.isBeingObserved=!1,x.onBecomeUnobserved()),x instanceof Cn&&x.suspend())}Ce.pendingUnobservations=[]}}function Rn(y){var g=Ce.trackingDerivation;return g!==null?(g.runId!==y.lastAccessedBy&&(y.lastAccessedBy=g.runId,g.newObserving[g.unboundDepsCount++]=y,y.isBeingObserved||(y.isBeingObserved=!0,y.onBecomeObserved())),!0):(y.observers.size===0&&Ce.inBatch>0&&Oi(y),!1)}function dr(y,g){if(""+y.name+g.name,y.isTracing===Be.BREAK){var x=[];(function T(D,F,ne){if(F.length>=1e3)return void F.push("(and many more)");F.push(""+new Array(ne).join("	")+D.name),D.dependencies&&D.dependencies.forEach(function(be){return T(be,F,ne+1)})})(Mr(y),x,1),new Function(`debugger;
/*
Tracing '`+y.name+`'

You are entering this break point because derivation '`+y.name+"' is being traced and '"+g.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(y instanceof Cn?y.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+x.join(`
`)+`
*/
    `)()}}var _n=function(){function y(g,x,T,D){g===void 0&&(g="Reaction@"+w()),D===void 0&&(D=!1),this.name=g,this.onInvalidate=x,this.errorHandler=T,this.requiresObservable=D,this.observing=[],this.newObserving=[],this.dependenciesState=K.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+w(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Be.NONE}return y.prototype.onBecomeStale=function(){this.schedule()},y.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Ce.pendingReactions.push(this),_i())},y.prototype.isScheduled=function(){return this._isScheduled},y.prototype.runReaction=function(){if(!this.isDisposed){if(an(),this._isScheduled=!1,pt(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(g){this.reportExceptionInDerivation(g)}}un()}},y.prototype.track=function(g){if(!this.isDisposed){an(),this._isRunning=!0;var x=Q(this,g,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&le(this),st(x)&&this.reportExceptionInDerivation(x.cause),un()}},y.prototype.reportExceptionInDerivation=function(g){var x=this;if(this.errorHandler)this.errorHandler(g,this);else{if(Ce.disableErrorBoundaries)throw g;var T="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Ce.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(T,g),Ce.globalReactionErrorHandlers.forEach(function(D){return D(g,x)})}},y.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(an(),le(this),un()))},y.prototype.getDisposer=function(){var g=this.dispose.bind(this);return g[k]=this,g},y.prototype.toString=function(){return"Reaction["+this.name+"]"},y.prototype.trace=function(g){g===void 0&&(g=!1),function(){for(var x=[],T=0;T<arguments.length;T++)x[T]=arguments[T];var D=!1;typeof x[x.length-1]=="boolean"&&(D=x.pop());var F=To(x);if(!F)return _(!1);F.isTracing===Be.NONE&&""+F.name,F.isTracing=D?Be.BREAK:Be.LOG}(this,g)},y}(),So=function(y){return y()};function _i(){Ce.inBatch>0||Ce.isRunningReactions||So(Ua)}function Ua(){Ce.isRunningReactions=!0;for(var y=Ce.pendingReactions,g=0;y.length>0;){++g==100&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+y[0]),y.splice(0));for(var x=y.splice(0),T=0,D=x.length;T<D;T++)x[T].runReaction()}Ce.isRunningReactions=!1}var eo=X("Reaction",_n);function Ga(y){var g=So;So=function(x){return y(function(){return g(x)})}}function wi(y){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function Ha(){_(!1)}function Jn(y){return function(g,x,T){if(T){if(T.value)return{value:gt(y,T.value),enumerable:!1,configurable:!0,writable:!0};var D=T.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return gt(y,D.call(this))}}}return xi(y).apply(this,arguments)}}function xi(y){return function(g,x,T){Object.defineProperty(g,x,{configurable:!0,enumerable:!1,get:function(){},set:function(D){G(this,x,In(y,D))}})}}var In=function(y,g,x,T){return arguments.length===1&&typeof y=="function"?gt(y.name||"<unnamed action>",y):arguments.length===2&&typeof g=="function"?gt(y,g):arguments.length===1&&typeof y=="string"?Jn(y):T!==!0?Jn(g).apply(null,arguments):void G(y,g,gt(y.name||g,x.value,this))};function Xa(y,g){return De(typeof y=="string"?y:y.name||"<unnamed action>",typeof y=="function"?y:g,this,void 0)}function to(y){return typeof y=="function"&&y.isMobxAction===!0}function Po(y,g,x){G(y,g,gt(g,x.bind(y)))}function Ao(y,g){g===void 0&&(g=O);var x,T=g&&g.name||y.name||"Autorun@"+w();if(!g.scheduler&&!g.delay)x=new _n(T,function(){this.track(ne)},g.onError,g.requiresObservable);else{var D=Ei(g),F=!1;x=new _n(T,function(){F||(F=!0,D(function(){F=!1,x.isDisposed||x.track(ne)}))},g.onError,g.requiresObservable)}function ne(){y(x)}return x.schedule(),x.getDisposer()}In.bound=function(y,g,x,T){return T===!0?(Po(y,g,x.value),null):x?{configurable:!0,enumerable:!1,get:function(){return Po(this,g,x.value||x.initializer.call(this)),this[g]},set:Ha}:{enumerable:!1,configurable:!0,set:function(D){Po(this,g,D)},get:function(){}}};var Ya=function(y){return y()};function Ei(y){return y.scheduler?y.scheduler:y.delay?function(g){return setTimeout(g,y.delay)}:Ya}function hr(y,g,x){x===void 0&&(x=O);var T,D,F,ne=x.name||"Reaction@"+w(),be=In(ne,x.onError?(T=x.onError,D=g,function(){try{return D.apply(this,arguments)}catch(mt){T.call(this,mt)}}):g),ke=!x.scheduler&&!x.delay,nt=Ei(x),tt=!0,bt=!1,ht=x.compareStructural?$.structural:x.equals||$.default,ft=new _n(ne,function(){tt||ke?xt():bt||(bt=!0,nt(xt))},x.onError,x.requiresObservable);function xt(){if(bt=!1,!ft.isDisposed){var mt=!1;ft.track(function(){var yt=y(ft);mt=tt||!ht(F,yt),F=yt}),tt&&x.fireImmediately&&be(F,ft),tt||mt!==!0||be(F,ft),tt&&(tt=!1)}}return ft.schedule(),ft.getDisposer()}function yr(y,g,x){return ji("onBecomeUnobserved",y,g,x)}function ji(y,g,x,T){var D=typeof T=="function"?vn(g,x):vn(g),F=typeof T=="function"?T:x,ne=y+"Listeners";return D[ne]?D[ne].add(F):D[ne]=new Set([F]),typeof D[y]!="function"?_(!1):function(){var be=D[ne];be&&(be.delete(F),be.size===0&&delete D[ne])}}function vr(y){var g=y.enforceActions,x=y.computedRequiresReaction,T=y.computedConfigurable,D=y.disableErrorBoundaries,F=y.reactionScheduler,ne=y.reactionRequiresObservable,be=y.observableRequiresReaction;if(y.isolateGlobalState===!0&&((Ce.pendingReactions.length||Ce.inBatch||Ce.isRunningReactions)&&_("isolateGlobalState should be called before MobX is running any reactions"),bi=!0,Qr&&(--On().__mobxInstanceCount==0&&(On().__mobxGlobals=void 0),Ce=new Jr)),g!==void 0){var ke=void 0;switch(g){case!0:case"observed":ke=!0;break;case!1:case"never":ke=!1;break;case"strict":case"always":ke="strict";break;default:_("Invalid value for 'enforceActions': '"+g+"', expected 'never', 'always' or 'observed'")}Ce.enforceActions=ke,Ce.allowStateChanges=ke!==!0&&ke!=="strict"}x!==void 0&&(Ce.computedRequiresReaction=!!x),ne!==void 0&&(Ce.reactionRequiresObservable=!!ne),be!==void 0&&(Ce.observableRequiresReaction=!!be,Ce.allowStateReads=!Ce.observableRequiresReaction),T!==void 0&&(Ce.computedConfigurable=!!T),D!==void 0&&(D===!0&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),Ce.disableErrorBoundaries=!!D),F&&Ga(F)}function Ln(y,g,x,T){var D=Si(T=oe(T));return Ne(y),Ro(y,T.name,D.enhancer),g&&Pi(y,g,x,D),y}function Si(y){return y.defaultDecorator||(y.deep===!1?_e:ye)}function Pi(y,g,x,T){var D,F;an();try{var ne=B(g);try{for(var be=ge(ne),ke=be.next();!ke.done;ke=be.next()){var nt=ke.value,tt=Object.getOwnPropertyDescriptor(g,nt),bt=(x&&nt in x?x[nt]:tt.get?Ie:T)(y,nt,tt,!0);bt&&Object.defineProperty(y,nt,bt)}}catch(ht){D={error:ht}}finally{try{ke&&!ke.done&&(F=be.return)&&F.call(be)}finally{if(D)throw D.error}}}finally{un()}}function Mr(y,g){return Ai(vn(y,g))}function Ai(y){var g,x,T={name:y.name};return y.observing&&y.observing.length>0&&(T.dependencies=(g=y.observing,x=[],g.forEach(function(D){x.indexOf(D)===-1&&x.push(D)}),x).map(Ai)),T}var Va=0;function ki(){this.message="FLOW_CANCELLED"}function Ti(y){arguments.length!==1&&_("Flow expects 1 argument and cannot be used as decorator");var g=y.name||"<unnamed flow>";return function(){var x,T=this,D=arguments,F=++Va,ne=In(g+" - runid: "+F+" - init",y).apply(T,D),be=void 0,ke=new Promise(function(nt,tt){var bt=0;function ht(mt){var yt;be=void 0;try{yt=In(g+" - runid: "+F+" - yield "+bt++,ne.next).call(ne,mt)}catch(xn){return tt(xn)}xt(yt)}function ft(mt){var yt;be=void 0;try{yt=In(g+" - runid: "+F+" - yield "+bt++,ne.throw).call(ne,mt)}catch(xn){return tt(xn)}xt(yt)}function xt(mt){if(!mt||typeof mt.then!="function")return mt.done?nt(mt.value):(be=Promise.resolve(mt.value)).then(ht,ft);mt.then(xt,tt)}x=tt,ht(void 0)});return ke.cancel=In(g+" - runid: "+F+" - cancel",function(){try{be&&Dr(be);var nt=ne.return(void 0),tt=Promise.resolve(nt.value);tt.then(P,P),Dr(tt),x(new ki)}catch(bt){x(bt)}}),ke}}function Dr(y){typeof y.cancel=="function"&&y.cancel()}function Mi(y,g){if(y==null)return!1;if(g!==void 0){if(cn(y)===!1||!y[k].values.has(g))return!1;var x=vn(y,g);return $n(x)}return $n(y)}function Wa(y){return arguments.length>1?_(!1):Mi(y)}function Di(y,g){return typeof g!="string"?_(!1):Mi(y,g)}function ko(y,g){return y!=null&&(g!==void 0?!!cn(y)&&y[k].values.has(g):cn(y)||!!y[k]||U(y)||eo(y)||$n(y))}function Nr(y){return arguments.length!==1&&_(!1),ko(y)}function zn(y){return cn(y)?y[k].getKeys():qt(y)||Yt(y)?Array.from(y.keys()):nn(y)?y.map(function(g,x){return x}):_(!1)}function Ft(y){return cn(y)?zn(y).map(function(g){return y[g]}):qt(y)?zn(y).map(function(g){return y.get(g)}):Yt(y)?Array.from(y.values()):nn(y)?y.slice():_(!1)}function Ni(y){return cn(y)?zn(y).map(function(g){return[g,y[g]]}):qt(y)?zn(y).map(function(g){return[g,y.get(g)]}):Yt(y)?Array.from(y.entries()):nn(y)?y.map(function(g,x){return[x,g]}):_(!1)}function Ka(y,g,x,T){return typeof x=="function"?function(D,F,ne,be){return Lr(D,F).observe(ne,be)}(y,g,x,T):function(D,F,ne){return Lr(D).observe(F,ne)}(y,g,x)}ki.prototype=Object.create(Error.prototype);var Ci={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function gr(y,g,x,T){return T.detectCycles&&y.set(g,x),x}function Ri(y,g){var x;return typeof g=="boolean"&&(g={detectCycles:g}),g||(g=Ci),g.detectCycles=g.detectCycles===void 0?g.recurseEverything===!0:g.detectCycles===!0,g.detectCycles&&(x=new Map),function T(D,F,ne){if(!F.recurseEverything&&!Nr(D)||typeof D!="object")return D;if(D===null)return null;if(D instanceof Date)return D;if(jo(D))return T(D.get(),F,ne);if(Nr(D)&&zn(D),F.detectCycles===!0&&D!==null&&ne.has(D))return ne.get(D);if(nn(D)||Array.isArray(D)){var be=gr(ne,D,[],F),ke=D.map(function(yt){return T(yt,F,ne)});be.length=ke.length;for(var nt=0,tt=ke.length;nt<tt;nt++)be[nt]=ke[nt];return be}if(Yt(D)||Object.getPrototypeOf(D)===Set.prototype){if(F.exportMapsAsObjects===!1){var bt=gr(ne,D,new Set,F);return D.forEach(function(yt){bt.add(T(yt,F,ne))}),bt}var ht=gr(ne,D,[],F);return D.forEach(function(yt){ht.push(T(yt,F,ne))}),ht}if(qt(D)||Object.getPrototypeOf(D)===Map.prototype){if(F.exportMapsAsObjects===!1){var ft=gr(ne,D,new Map,F);return D.forEach(function(yt,xn){ft.set(xn,T(yt,F,ne))}),ft}var xt=gr(ne,D,{},F);return D.forEach(function(yt,xn){xt[xn]=T(yt,F,ne)}),xt}var mt=gr(ne,D,{},F);return q(D).forEach(function(yt){mt[yt]=T(D[yt],F,ne)}),mt}(y,g,x)}function To(y){switch(y.length){case 0:return Ce.trackingDerivation;case 1:return vn(y[0]);case 2:return vn(y[0],y[1])}}function dn(y,g){g===void 0&&(g=void 0),an();try{return y.apply(g)}finally{un()}}function hn(y,g,x){return arguments.length===1||g&&typeof g=="object"?Ii(y,g):Mo(y,g,x||{})}function Mo(y,g,x){var T;typeof x.timeout=="number"&&(T=setTimeout(function(){if(!F[k].isDisposed){F();var ne=new Error("WHEN_TIMEOUT");if(!x.onError)throw ne;x.onError(ne)}},x.timeout)),x.name=x.name||"When@"+w();var D=gt(x.name+"-effect",g),F=Ao(function(ne){y()&&(ne.dispose(),T&&clearTimeout(T),D())},x);return F}function Ii(y,g){var x,T=new Promise(function(D,F){var ne=Mo(y,D,ve(ve({},g),{onError:F}));x=function(){ne(),F("WHEN_CANCELLED")}});return T.cancel=x,T}function no(y){return y[k]}function ro(y){return typeof y=="string"||typeof y=="number"||typeof y=="symbol"}var Cr={has:function(y,g){if(g===k||g==="constructor"||g===fe)return!0;var x=no(y);return ro(g)?x.has(g):g in y},get:function(y,g){if(g===k||g==="constructor"||g===fe)return y[g];var x=no(y),T=x.values.get(g);if(T instanceof L){var D=T.get();return D===void 0&&x.has(g),D}return ro(g)&&x.has(g),y[g]},set:function(y,g,x){return!!ro(g)&&(function T(D,F,ne){if(arguments.length!==2||Yt(D))if(cn(D)){var be=D[k],ke=be.values.get(F);ke?be.write(F,ne):be.addObservableProp(F,ne,be.defaultEnhancer)}else if(qt(D))D.set(F,ne);else if(Yt(D))D.add(F);else{if(!nn(D))return _(!1);typeof F!="number"&&(F=parseInt(F,10)),j(F>=0,"Not a valid index: '"+F+"'"),an(),F>=D.length&&(D.length=F+1),D[F]=ne,un()}else{an();var nt=F;try{for(var tt in nt)T(D,tt,nt[tt])}finally{un()}}}(y,g,x),!0)},deleteProperty:function(y,g){return!!ro(g)&&(no(y).remove(g),!0)},ownKeys:function(y){return no(y).keysAtom.reportObserved(),Reflect.ownKeys(y)},preventExtensions:function(y){return _("Dynamic observable objects cannot be frozen"),!1}};function Rr(y){var g=new Proxy(y,Cr);return y[k].proxy=g,g}function yn(y){return y.interceptors!==void 0&&y.interceptors.length>0}function Bn(y,g){var x=y.interceptors||(y.interceptors=[]);return x.push(g),S(function(){var T=x.indexOf(g);T!==-1&&x.splice(T,1)})}function tn(y,g){var x=Ze();try{for(var T=Ee(y.interceptors||[]),D=0,F=T.length;D<F&&(j(!(g=T[D](g))||g.type,"Intercept handlers should return nothing or a change object"),g);D++);return g}finally{He(x)}}function ut(y){return y.changeListeners!==void 0&&y.changeListeners.length>0}function Ir(y,g){var x=y.changeListeners||(y.changeListeners=[]);return x.push(g),S(function(){var T=x.indexOf(g);T!==-1&&x.splice(T,1)})}function Zt(y,g){var x=Ze(),T=y.changeListeners;if(T){for(var D=0,F=(T=T.slice()).length;D<F;D++)T[D](g);He(x)}}var br={get:function(y,g){return g===k?y[k]:g==="length"?y[k].getArrayLength():typeof g=="number"?wn.get.call(y,g):typeof g!="string"||isNaN(g)?wn.hasOwnProperty(g)?wn[g]:y[g]:wn.get.call(y,parseInt(g))},set:function(y,g,x){return g==="length"&&y[k].setArrayLength(x),typeof g=="number"&&wn.set.call(y,g,x),typeof g=="symbol"||isNaN(g)?y[g]=x:wn.set.call(y,parseInt(g),x),!0},preventExtensions:function(y){return _("Observable arrays cannot be frozen"),!1}};function Li(y,g,x,T){x===void 0&&(x="ObservableArray@"+w()),T===void 0&&(T=!1);var D,F,ne,be=new oo(x,g,T);D=be.values,F=k,ne=be,Object.defineProperty(D,F,{enumerable:!1,writable:!1,configurable:!0,value:ne});var ke=new Proxy(be.values,br);if(be.proxy=ke,y&&y.length){var nt=wt(!0);be.spliceWithArray(0,0,y),Tt(nt)}return ke}var oo=function(){function y(g,x,T){this.owned=T,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new L(g||"ObservableArray@"+w()),this.enhancer=function(D,F){return x(D,F,g+"[..]")}}return y.prototype.dehanceValue=function(g){return this.dehancer!==void 0?this.dehancer(g):g},y.prototype.dehanceValues=function(g){return this.dehancer!==void 0&&g.length>0?g.map(this.dehancer):g},y.prototype.intercept=function(g){return Bn(this,g)},y.prototype.observe=function(g,x){return x===void 0&&(x=!1),x&&g({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Ir(this,g)},y.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},y.prototype.setArrayLength=function(g){if(typeof g!="number"||g<0)throw new Error("[mobx.array] Out of range: "+g);var x=this.values.length;if(g!==x)if(g>x){for(var T=new Array(g-x),D=0;D<g-x;D++)T[D]=void 0;this.spliceWithArray(x,0,T)}else this.spliceWithArray(g,x-g)},y.prototype.updateArrayLength=function(g,x){if(g!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=x},y.prototype.spliceWithArray=function(g,x,T){var D=this;H(this.atom);var F=this.values.length;if(g===void 0?g=0:g>F?g=F:g<0&&(g=Math.max(0,F+g)),x=arguments.length===1?F-g:x==null?0:Math.max(0,Math.min(x,F-g)),T===void 0&&(T=b),yn(this)){var ne=tn(this,{object:this.proxy,type:"splice",index:g,removedCount:x,added:T});if(!ne)return b;x=ne.removedCount,T=ne.added}T=T.length===0?T:T.map(function(ke){return D.enhancer(ke,void 0)});var be=this.spliceItemsIntoValues(g,x,T);return x===0&&T.length===0||this.notifyArraySplice(g,T,be),this.dehanceValues(be)},y.prototype.spliceItemsIntoValues=function(g,x,T){var D;if(T.length<1e4)return(D=this.values).splice.apply(D,Ee([g,x],T));var F=this.values.slice(g,g+x);return this.values=this.values.slice(0,g).concat(T,this.values.slice(g+x)),F},y.prototype.notifyArrayChildUpdate=function(g,x,T){var D=!this.owned&&!1,F=ut(this),ne=F||D?{object:this.proxy,type:"update",index:g,newValue:x,oldValue:T}:null;this.atom.reportChanged(),F&&Zt(this,ne)},y.prototype.notifyArraySplice=function(g,x,T){var D=!this.owned&&!1,F=ut(this),ne=F||D?{object:this.proxy,type:"splice",index:g,removed:T,added:x,removedCount:T.length,addedCount:x.length}:null;this.atom.reportChanged(),F&&Zt(this,ne)},y}(),wn={intercept:function(y){return this[k].intercept(y)},observe:function(y,g){return g===void 0&&(g=!1),this[k].observe(y,g)},clear:function(){return this.splice(0)},replace:function(y){var g=this[k];return g.spliceWithArray(0,g.values.length,y)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(y,g){for(var x=[],T=2;T<arguments.length;T++)x[T-2]=arguments[T];var D=this[k];switch(arguments.length){case 0:return[];case 1:return D.spliceWithArray(y);case 2:return D.spliceWithArray(y,g)}return D.spliceWithArray(y,g,x)},spliceWithArray:function(y,g,x){return this[k].spliceWithArray(y,g,x)},push:function(){for(var y=[],g=0;g<arguments.length;g++)y[g]=arguments[g];var x=this[k];return x.spliceWithArray(x.values.length,0,y),x.values.length},pop:function(){return this.splice(Math.max(this[k].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var y=[],g=0;g<arguments.length;g++)y[g]=arguments[g];var x=this[k];return x.spliceWithArray(0,0,y),x.values.length},reverse:function(){var y=this.slice();return y.reverse.apply(y,arguments)},sort:function(y){var g=this.slice();return g.sort.apply(g,arguments)},remove:function(y){var g=this[k],x=g.dehanceValues(g.values).indexOf(y);return x>-1&&(this.splice(x,1),!0)},get:function(y){var g=this[k];if(g){if(y<g.values.length)return g.atom.reportObserved(),g.dehanceValue(g.values[y]);console.warn("[mobx.array] Attempt to read an array index ("+y+") that is out of bounds ("+g.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(y,g){var x=this[k],T=x.values;if(y<T.length){H(x.atom);var D=T[y];if(yn(x)){var F=tn(x,{type:"update",object:x.proxy,index:y,newValue:g});if(!F)return;g=F.newValue}(g=x.enhancer(g,D))!==D&&(T[y]=g,x.notifyArrayChildUpdate(y,g,D))}else{if(y!==T.length)throw new Error("[mobx.array] Index out of bounds, "+y+" is larger than "+T.length);x.spliceWithArray(y,0,[g])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(y){typeof Array.prototype[y]=="function"&&(wn[y]=function(){var g=this[k];g.atom.reportObserved();var x=g.dehanceValues(g.values);return x[y].apply(x,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(y){typeof Array.prototype[y]=="function"&&(wn[y]=function(g,x){var T=this,D=this[k];return D.atom.reportObserved(),D.dehanceValues(D.values)[y](function(F,ne){return g.call(x,F,ne,T)},x)})}),["reduce","reduceRight"].forEach(function(y){wn[y]=function(){var g=this,x=this[k];x.atom.reportObserved();var T=arguments[0];return arguments[0]=function(D,F,ne){return F=x.dehanceValue(F),T(D,F,ne,g)},x.values[y].apply(x.values,arguments)}});var Do,Za=X("ObservableArrayAdministration",oo);function nn(y){return C(y)&&Za(y[k])}var No,qa={},Co=function(){function y(g,x,T){if(x===void 0&&(x=Ue),T===void 0&&(T="ObservableMap@"+w()),this.enhancer=x,this.name=T,this[Do]=qa,this._keysAtom=te(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(g)}return y.prototype._has=function(g){return this._data.has(g)},y.prototype.has=function(g){var x=this;if(!Ce.trackingDerivation)return this._has(g);var T=this._hasMap.get(g);if(!T){var D=T=new Kt(this._has(g),at,this.name+"."+Y(g)+"?",!1);this._hasMap.set(g,D),yr(D,function(){return x._hasMap.delete(g)})}return T.get()},y.prototype.set=function(g,x){var T=this._has(g);if(yn(this)){var D=tn(this,{type:T?"update":"add",object:this,newValue:x,name:g});if(!D)return this;x=D.newValue}return T?this._updateValue(g,x):this._addValue(g,x),this},y.prototype.delete=function(g){var x=this;if(H(this._keysAtom),yn(this)&&!(D=tn(this,{type:"delete",object:this,name:g})))return!1;if(this._has(g)){var T=ut(this),D=T?{type:"delete",object:this,oldValue:this._data.get(g).value,name:g}:null;return dn(function(){x._keysAtom.reportChanged(),x._updateHasMapEntry(g,!1),x._data.get(g).setNewValue(void 0),x._data.delete(g)}),T&&Zt(this,D),!0}return!1},y.prototype._updateHasMapEntry=function(g,x){var T=this._hasMap.get(g);T&&T.setNewValue(x)},y.prototype._updateValue=function(g,x){var T=this._data.get(g);if((x=T.prepareNewValue(x))!==Ce.UNCHANGED){var D=ut(this),F=D?{type:"update",object:this,oldValue:T.value,name:g,newValue:x}:null;T.setNewValue(x),D&&Zt(this,F)}},y.prototype._addValue=function(g,x){var T=this;H(this._keysAtom),dn(function(){var ne=new Kt(x,T.enhancer,T.name+"."+Y(g),!1);T._data.set(g,ne),x=ne.value,T._updateHasMapEntry(g,!0),T._keysAtom.reportChanged()});var D=ut(this),F=D?{type:"add",object:this,name:g,newValue:x}:null;D&&Zt(this,F)},y.prototype.get=function(g){return this.has(g)?this.dehanceValue(this._data.get(g).get()):this.dehanceValue(void 0)},y.prototype.dehanceValue=function(g){return this.dehancer!==void 0?this.dehancer(g):g},y.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},y.prototype.values=function(){var g=this,x=this.keys();return Br({next:function(){var T=x.next(),D=T.done,F=T.value;return{done:D,value:D?void 0:g.get(F)}}})},y.prototype.entries=function(){var g=this,x=this.keys();return Br({next:function(){var T=x.next(),D=T.done,F=T.value;return{done:D,value:D?void 0:[F,g.get(F)]}}})},y.prototype[Do=k,Symbol.iterator]=function(){return this.entries()},y.prototype.forEach=function(g,x){var T,D;try{for(var F=ge(this),ne=F.next();!ne.done;ne=F.next()){var be=he(ne.value,2),ke=be[0],nt=be[1];g.call(x,nt,ke,this)}}catch(tt){T={error:tt}}finally{try{ne&&!ne.done&&(D=F.return)&&D.call(F)}finally{if(T)throw T.error}}},y.prototype.merge=function(g){var x=this;return qt(g)&&(g=g.toJS()),dn(function(){var T=wt(!0);try{R(g)?q(g).forEach(function(D){return x.set(D,g[D])}):Array.isArray(g)?g.forEach(function(D){var F=he(D,2),ne=F[0],be=F[1];return x.set(ne,be)}):z(g)?(g.constructor!==Map&&_("Cannot initialize from classes that inherit from Map: "+g.constructor.name),g.forEach(function(D,F){return x.set(F,D)})):g!=null&&_("Cannot initialize map from "+g)}finally{Tt(T)}}),this},y.prototype.clear=function(){var g=this;dn(function(){we(function(){var x,T;try{for(var D=ge(g.keys()),F=D.next();!F.done;F=D.next()){var ne=F.value;g.delete(ne)}}catch(be){x={error:be}}finally{try{F&&!F.done&&(T=D.return)&&T.call(D)}finally{if(x)throw x.error}}})})},y.prototype.replace=function(g){var x=this;return dn(function(){var T,D,F,ne,be=function($t){if(z($t)||qt($t))return $t;if(Array.isArray($t))return new Map($t);if(R($t)){var Fi=new Map;for(var Bo in $t)Fi.set(Bo,$t[Bo]);return Fi}return _("Cannot convert to map from '"+$t+"'")}(g),ke=new Map,nt=!1;try{for(var tt=ge(x._data.keys()),bt=tt.next();!bt.done;bt=tt.next()){var ht=bt.value;if(!be.has(ht))if(x.delete(ht))nt=!0;else{var ft=x._data.get(ht);ke.set(ht,ft)}}}catch($t){T={error:$t}}finally{try{bt&&!bt.done&&(D=tt.return)&&D.call(tt)}finally{if(T)throw T.error}}try{for(var xt=ge(be.entries()),mt=xt.next();!mt.done;mt=xt.next()){var yt=he(mt.value,2),xn=(ht=yt[0],ft=yt[1],x._data.has(ht));if(x.set(ht,ft),x._data.has(ht)){var Ja=x._data.get(ht);ke.set(ht,Ja),xn||(nt=!0)}}}catch($t){F={error:$t}}finally{try{mt&&!mt.done&&(ne=xt.return)&&ne.call(xt)}finally{if(F)throw F.error}}if(!nt)if(x._data.size!==ke.size)x._keysAtom.reportChanged();else for(var Fr=x._data.keys(),mr=ke.keys(),Ur=Fr.next(),zo=mr.next();!Ur.done;){if(Ur.value!==zo.value){x._keysAtom.reportChanged();break}Ur=Fr.next(),zo=mr.next()}x._data=ke}),this},Object.defineProperty(y.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),y.prototype.toPOJO=function(){var g,x,T={};try{for(var D=ge(this),F=D.next();!F.done;F=D.next()){var ne=he(F.value,2),be=ne[0],ke=ne[1];T[typeof be=="symbol"?be:Y(be)]=ke}}catch(nt){g={error:nt}}finally{try{F&&!F.done&&(x=D.return)&&x.call(D)}finally{if(g)throw g.error}}return T},y.prototype.toJS=function(){return new Map(this)},y.prototype.toJSON=function(){return this.toPOJO()},y.prototype.toString=function(){var g=this;return this.name+"[{ "+Array.from(this.keys()).map(function(x){return Y(x)+": "+g.get(x)}).join(", ")+" }]"},y.prototype.observe=function(g,x){return Ir(this,g)},y.prototype.intercept=function(g){return Bn(this,g)},y}(),qt=X("ObservableMap",Co),Qn={},er=function(){function y(g,x,T){if(x===void 0&&(x=Ue),T===void 0&&(T="ObservableSet@"+w()),this.name=T,this[No]=Qn,this._data=new Set,this._atom=te(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(D,F){return x(D,F,T)},g&&this.replace(g)}return y.prototype.dehanceValue=function(g){return this.dehancer!==void 0?this.dehancer(g):g},y.prototype.clear=function(){var g=this;dn(function(){we(function(){var x,T;try{for(var D=ge(g._data.values()),F=D.next();!F.done;F=D.next()){var ne=F.value;g.delete(ne)}}catch(be){x={error:be}}finally{try{F&&!F.done&&(T=D.return)&&T.call(D)}finally{if(x)throw x.error}}})})},y.prototype.forEach=function(g,x){var T,D;try{for(var F=ge(this),ne=F.next();!ne.done;ne=F.next()){var be=ne.value;g.call(x,be,be,this)}}catch(ke){T={error:ke}}finally{try{ne&&!ne.done&&(D=F.return)&&D.call(F)}finally{if(T)throw T.error}}},Object.defineProperty(y.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),y.prototype.add=function(g){var x=this;if(H(this._atom),yn(this)&&!(D=tn(this,{type:"add",object:this,newValue:g})))return this;if(!this.has(g)){dn(function(){x._data.add(x.enhancer(g,void 0)),x._atom.reportChanged()});var T=ut(this),D=T?{type:"add",object:this,newValue:g}:null;T&&Zt(this,D)}return this},y.prototype.delete=function(g){var x=this;if(yn(this)&&!(D=tn(this,{type:"delete",object:this,oldValue:g})))return!1;if(this.has(g)){var T=ut(this),D=T?{type:"delete",object:this,oldValue:g}:null;return dn(function(){x._atom.reportChanged(),x._data.delete(g)}),T&&Zt(this,D),!0}return!1},y.prototype.has=function(g){return this._atom.reportObserved(),this._data.has(this.dehanceValue(g))},y.prototype.entries=function(){var g=0,x=Array.from(this.keys()),T=Array.from(this.values());return Br({next:function(){var D=g;return g+=1,D<T.length?{value:[x[D],T[D]],done:!1}:{done:!0}}})},y.prototype.keys=function(){return this.values()},y.prototype.values=function(){this._atom.reportObserved();var g=this,x=0,T=Array.from(this._data.values());return Br({next:function(){return x<T.length?{value:g.dehanceValue(T[x++]),done:!1}:{done:!0}}})},y.prototype.replace=function(g){var x=this;return Yt(g)&&(g=g.toJS()),dn(function(){var T=wt(!0);try{Array.isArray(g)||V(g)?(x.clear(),g.forEach(function(D){return x.add(D)})):g!=null&&_("Cannot initialize set from "+g)}finally{Tt(T)}}),this},y.prototype.observe=function(g,x){return Ir(this,g)},y.prototype.intercept=function(g){return Bn(this,g)},y.prototype.toJS=function(){return new Set(this)},y.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},y.prototype[No=k,Symbol.iterator]=function(){return this.values()},y}(),Yt=X("ObservableSet",er),zi=function(){function y(g,x,T,D){x===void 0&&(x=new Map),this.target=g,this.values=x,this.name=T,this.defaultEnhancer=D,this.keysAtom=new L(T+".keys")}return y.prototype.read=function(g){return this.values.get(g).get()},y.prototype.write=function(g,x){var T=this.target,D=this.values.get(g);if(D instanceof Cn)D.set(x);else{if(yn(this)){if(!(ne=tn(this,{type:"update",object:this.proxy||T,name:g,newValue:x})))return;x=ne.newValue}if((x=D.prepareNewValue(x))!==Ce.UNCHANGED){var F=ut(this),ne=F?{type:"update",object:this.proxy||T,oldValue:D.value,name:g,newValue:x}:null;D.setNewValue(x),F&&Zt(this,ne)}}},y.prototype.has=function(g){var x=this.pendingKeys||(this.pendingKeys=new Map),T=x.get(g);if(T)return T.get();var D=!!this.values.get(g);return T=new Kt(D,at,this.name+"."+Y(g)+"?",!1),x.set(g,T),T.get()},y.prototype.addObservableProp=function(g,x,T){T===void 0&&(T=this.defaultEnhancer);var D=this.target;if(yn(this)){var F=tn(this,{object:this.proxy||D,name:g,type:"add",newValue:x});if(!F)return;x=F.newValue}var ne=new Kt(x,T,this.name+"."+Y(g),!1);this.values.set(g,ne),x=ne.value,Object.defineProperty(D,g,function(be){return io[be]||(io[be]={configurable:!0,enumerable:!0,get:function(){return this[k].read(be)},set:function(ke){this[k].write(be,ke)}})}(g)),this.notifyPropertyAddition(g,x)},y.prototype.addComputedProp=function(g,x,T){var D,F,ne,be=this.target;T.name=T.name||this.name+"."+Y(x),this.values.set(x,new Cn(T)),(g===be||(D=g,F=x,!(ne=Object.getOwnPropertyDescriptor(D,F))||ne.configurable!==!1&&ne.writable!==!1))&&Object.defineProperty(g,x,function(ke){return ao[ke]||(ao[ke]={configurable:Ce.computedConfigurable,enumerable:!1,get:function(){return uo(this).read(ke)},set:function(nt){uo(this).write(ke,nt)}})}(x))},y.prototype.remove=function(g){if(this.values.has(g)){var x=this.target;if(yn(this)&&!(be=tn(this,{object:this.proxy||x,name:g,type:"remove"})))return;try{an();var T=ut(this),D=this.values.get(g),F=D&&D.get();if(D&&D.set(void 0),this.keysAtom.reportChanged(),this.values.delete(g),this.pendingKeys){var ne=this.pendingKeys.get(g);ne&&ne.set(!1)}delete this.target[g];var be=T?{type:"remove",object:this.proxy||x,oldValue:F,name:g}:null;T&&Zt(this,be)}finally{un()}}},y.prototype.illegalAccess=function(g,x){console.warn("Property '"+x+"' of '"+g+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},y.prototype.observe=function(g,x){return Ir(this,g)},y.prototype.intercept=function(g){return Bn(this,g)},y.prototype.notifyPropertyAddition=function(g,x){var T=ut(this),D=T?{type:"add",object:this.proxy||this.target,name:g,newValue:x}:null;if(T&&Zt(this,D),this.pendingKeys){var F=this.pendingKeys.get(g);F&&F.set(!0)}this.keysAtom.reportChanged()},y.prototype.getKeys=function(){var g,x;this.keysAtom.reportObserved();var T=[];try{for(var D=ge(this.values),F=D.next();!F.done;F=D.next()){var ne=he(F.value,2),be=ne[0];ne[1]instanceof Kt&&T.push(be)}}catch(ke){g={error:ke}}finally{try{F&&!F.done&&(x=D.return)&&x.call(D)}finally{if(g)throw g.error}}return T},y}();function Ro(y,g,x){if(g===void 0&&(g=""),x===void 0&&(x=Ue),Object.prototype.hasOwnProperty.call(y,k))return y[k];R(y)||(g=(y.constructor.name||"ObservableObject")+"@"+w()),g||(g="ObservableObject@"+w());var T=new zi(y,new Map,Y(g),x);return G(y,k,T),T}var io=Object.create(null),ao=Object.create(null);function uo(y){var g=y[k];return g||(Ne(y),y[k])}var Io=X("ObservableObjectAdministration",zi);function cn(y){return!!C(y)&&(Ne(y),Io(y[k]))}function vn(y,g){if(typeof y=="object"&&y!==null){if(nn(y))return g!==void 0&&_(!1),y[k].atom;if(Yt(y))return y[k];if(qt(y)){var x=y;return g===void 0?x._keysAtom:((T=x._data.get(g)||x._hasMap.get(g))||_(!1),T)}var T;if(Ne(y),g&&!y[k]&&y[g],cn(y))return g?((T=y[k].values.get(g))||_(!1),T):_(!1);if(U(y)||$n(y)||eo(y))return y}else if(typeof y=="function"&&eo(y[k]))return y[k];return _(!1)}function Lr(y,g){return y||_("Expecting some object"),g!==void 0?Lr(vn(y,g)):U(y)||$n(y)||eo(y)||qt(y)||Yt(y)?y:(Ne(y),y[k]?y[k]:void _(!1))}var Bi=Object.prototype.toString;function Lo(y,g,x){return x===void 0&&(x=-1),function T(D,F,ne,be,ke){if(D===F)return D!==0||1/D==1/F;if(D==null||F==null)return!1;if(D!=D)return F!=F;var nt=typeof D;if(nt!=="function"&&nt!=="object"&&typeof F!="object")return!1;var tt=Bi.call(D);if(tt!==Bi.call(F))return!1;switch(tt){case"[object RegExp]":case"[object String]":return""+D==""+F;case"[object Number]":return+D!=+D?+F!=+F:+D==0?1/+D==1/F:+D==+F;case"[object Date]":case"[object Boolean]":return+D==+F;case"[object Symbol]":return typeof Symbol!="undefined"&&Symbol.valueOf.call(D)===Symbol.valueOf.call(F);case"[object Map]":case"[object Set]":ne>=0&&ne++}D=Fn(D),F=Fn(F);var bt=tt==="[object Array]";if(!bt){if(typeof D!="object"||typeof F!="object")return!1;var ht=D.constructor,ft=F.constructor;if(ht!==ft&&!(typeof ht=="function"&&ht instanceof ht&&typeof ft=="function"&&ft instanceof ft)&&"constructor"in D&&"constructor"in F)return!1}if(ne===0)return!1;ne<0&&(ne=-1),ke=ke||[];for(var xt=(be=be||[]).length;xt--;)if(be[xt]===D)return ke[xt]===F;if(be.push(D),ke.push(F),bt){if((xt=D.length)!==F.length)return!1;for(;xt--;)if(!T(D[xt],F[xt],ne-1,be,ke))return!1}else{var mt=Object.keys(D),yt=void 0;if(xt=mt.length,Object.keys(F).length!==xt)return!1;for(;xt--;)if(yt=mt[xt],!zr(F,yt)||!T(D[yt],F[yt],ne-1,be,ke))return!1}return be.pop(),ke.pop(),!0}(y,g,x)}function Fn(y){return nn(y)?y.slice():z(y)||qt(y)||V(y)||Yt(y)?Array.from(y.entries()):y}function zr(y,g){return Object.prototype.hasOwnProperty.call(y,g)}function Br(y){return y[Symbol.iterator]=$a,y}function $a(){return this}if(typeof Proxy=="undefined"||typeof Symbol=="undefined")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:wi,extras:{getDebugName:function(y,g){return(g!==void 0?vn(y,g):cn(y)||qt(y)||Yt(y)?Lr(y):vn(y)).name}},$mobx:k})}).call(this,a(151),a(75))},function(c,f,a){a.d(f,"a",function(){return Y}),a.d(f,"b",function(){return q}),a.d(f,"c",function(){return Ue}),a.d(f,"d",function(){return at}),a.d(f,"e",function(){return X}),a.d(f,"f",function(){return V}),a.d(f,"g",function(){return X}),a.d(f,"h",function(){return Te}),a.d(f,"i",function(){return s}),a.d(f,"j",function(){return ze}),a.d(f,"k",function(){return $});var p,s,b,O,w,_,j,S={},P=[],C=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function R(Z,J){for(var oe in J)Z[oe]=J[oe];return Z}function G(Z){var J=Z.parentNode;J&&J.removeChild(Z)}function X(Z,J,oe){var ye,Pe,_e,We={};for(_e in J)_e=="key"?ye=J[_e]:_e=="ref"?Pe=J[_e]:We[_e]=J[_e];if(arguments.length>2&&(We.children=arguments.length>3?p.call(arguments,2):oe),typeof Z=="function"&&Z.defaultProps!=null)for(_e in Z.defaultProps)We[_e]===void 0&&(We[_e]=Z.defaultProps[_e]);return z(Z,We,ye,Pe,null)}function z(Z,J,oe,ye,Pe){var _e={type:Z,props:J,key:oe,ref:ye,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:Pe==null?++b:Pe};return Pe==null&&s.vnode!=null&&s.vnode(_e),_e}function V(){return{current:null}}function q(Z){return Z.children}function Y(Z,J){this.props=Z,this.context=J}function N(Z,J){if(J==null)return Z.__?N(Z.__,Z.__.__k.indexOf(Z)+1):null;for(var oe;J<Z.__k.length;J++)if((oe=Z.__k[J])!=null&&oe.__e!=null)return oe.__e;return typeof Z.type=="function"?N(Z):null}function B(Z){var J,oe;if((Z=Z.__)!=null&&Z.__c!=null){for(Z.__e=Z.__c.base=null,J=0;J<Z.__k.length;J++)if((oe=Z.__k[J])!=null&&oe.__e!=null){Z.__e=Z.__c.base=oe.__e;break}return B(Z)}}function k(Z){(!Z.__d&&(Z.__d=!0)&&O.push(Z)&&!L.__r++||_!==s.debounceRendering)&&((_=s.debounceRendering)||w)(L)}function L(){for(var Z;L.__r=O.length;)Z=O.sort(function(J,oe){return J.__v.__b-oe.__v.__b}),O=[],Z.some(function(J){var oe,ye,Pe,_e,We,Xe;J.__d&&(We=(_e=(oe=J).__v).__e,(Xe=oe.__P)&&(ye=[],(Pe=R({},_e)).__v=_e.__v+1,fe(Xe,_e,Pe,oe.__n,Xe.ownerSVGElement!==void 0,_e.__h!=null?[We]:null,ye,We==null?N(_e):We,_e.__h),ue(ye,_e),_e.__e!=We&&B(_e)))})}function U(Z,J,oe,ye,Pe,_e,We,Xe,qe,Ye){var de,K,Be,Ie,Ve,kt,rt,st=ye&&ye.__k||P,pt=st.length;for(oe.__k=[],de=0;de<J.length;de++)if((Ie=oe.__k[de]=(Ie=J[de])==null||typeof Ie=="boolean"?null:typeof Ie=="string"||typeof Ie=="number"||typeof Ie=="bigint"?z(null,Ie,null,null,Ie):Array.isArray(Ie)?z(q,{children:Ie},null,null,null):Ie.__b>0?z(Ie.type,Ie.props,Ie.key,null,Ie.__v):Ie)!=null){if(Ie.__=oe,Ie.__b=oe.__b+1,(Be=st[de])===null||Be&&Ie.key==Be.key&&Ie.type===Be.type)st[de]=void 0;else for(K=0;K<pt;K++){if((Be=st[K])&&Ie.key==Be.key&&Ie.type===Be.type){st[K]=void 0;break}Be=null}fe(Z,Ie,Be=Be||S,Pe,_e,We,Xe,qe,Ye),Ve=Ie.__e,(K=Ie.ref)&&Be.ref!=K&&(rt||(rt=[]),Be.ref&&rt.push(Be.ref,null,Ie),rt.push(K,Ie.__c||Ve,Ie)),Ve!=null?(kt==null&&(kt=Ve),typeof Ie.type=="function"&&Ie.__k===Be.__k?Ie.__d=qe=te(Ie,qe,Z):qe=ie(Z,Ie,Be,st,Ve,qe),typeof oe.type=="function"&&(oe.__d=qe)):qe&&Be.__e==qe&&qe.parentNode!=Z&&(qe=N(Be))}for(oe.__e=kt,de=pt;de--;)st[de]!=null&&(typeof oe.type=="function"&&st[de].__e!=null&&st[de].__e==oe.__d&&(oe.__d=N(ye,de+1)),Ae(st[de],st[de]));if(rt)for(de=0;de<rt.length;de++)Oe(rt[de],rt[++de],rt[++de])}function te(Z,J,oe){for(var ye,Pe=Z.__k,_e=0;Pe&&_e<Pe.length;_e++)(ye=Pe[_e])&&(ye.__=Z,J=typeof ye.type=="function"?te(ye,J,oe):ie(oe,ye,ye,Pe,ye.__e,J));return J}function $(Z,J){return J=J||[],Z==null||typeof Z=="boolean"||(Array.isArray(Z)?Z.some(function(oe){$(oe,J)}):J.push(Z)),J}function ie(Z,J,oe,ye,Pe,_e){var We,Xe,qe;if(J.__d!==void 0)We=J.__d,J.__d=void 0;else if(oe==null||Pe!=_e||Pe.parentNode==null)e:if(_e==null||_e.parentNode!==Z)Z.appendChild(Pe),We=null;else{for(Xe=_e,qe=0;(Xe=Xe.nextSibling)&&qe<ye.length;qe+=2)if(Xe==Pe)break e;Z.insertBefore(Pe,_e),We=_e}return We!==void 0?We:Pe.nextSibling}function ve(Z,J,oe){J[0]==="-"?Z.setProperty(J,oe):Z[J]=oe==null?"":typeof oe!="number"||C.test(J)?oe:oe+"px"}function ge(Z,J,oe,ye,Pe){var _e;e:if(J==="style")if(typeof oe=="string")Z.style.cssText=oe;else{if(typeof ye=="string"&&(Z.style.cssText=ye=""),ye)for(J in ye)oe&&J in oe||ve(Z.style,J,"");if(oe)for(J in oe)ye&&oe[J]===ye[J]||ve(Z.style,J,oe[J])}else if(J[0]==="o"&&J[1]==="n")_e=J!==(J=J.replace(/Capture$/,"")),J=J.toLowerCase()in Z?J.toLowerCase().slice(2):J.slice(2),Z.l||(Z.l={}),Z.l[J+_e]=oe,oe?ye||Z.addEventListener(J,_e?Ee:he,_e):Z.removeEventListener(J,_e?Ee:he,_e);else if(J!=="dangerouslySetInnerHTML"){if(Pe)J=J.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(J!=="href"&&J!=="list"&&J!=="form"&&J!=="tabIndex"&&J!=="download"&&J in Z)try{Z[J]=oe==null?"":oe;break e}catch(We){}typeof oe=="function"||(oe!=null&&(oe!==!1||J[0]==="a"&&J[1]==="r")?Z.setAttribute(J,oe):Z.removeAttribute(J))}}function he(Z){this.l[Z.type+!1](s.event?s.event(Z):Z)}function Ee(Z){this.l[Z.type+!0](s.event?s.event(Z):Z)}function fe(Z,J,oe,ye,Pe,_e,We,Xe,qe){var Ye,de,K,Be,Ie,Ve,kt,rt,st,pt,Bt,H=J.type;if(J.constructor!==void 0)return null;oe.__h!=null&&(qe=oe.__h,Xe=J.__e=oe.__e,J.__h=null,_e=[Xe]),(Ye=s.__b)&&Ye(J);try{e:if(typeof H=="function"){if(rt=J.props,st=(Ye=H.contextType)&&ye[Ye.__c],pt=Ye?st?st.props.value:Ye.__:ye,oe.__c?kt=(de=J.__c=oe.__c).__=de.__E:("prototype"in H&&H.prototype.render?J.__c=de=new H(rt,pt):(J.__c=de=new Y(rt,pt),de.constructor=H,de.render=Ne),st&&st.sub(de),de.props=rt,de.state||(de.state={}),de.context=pt,de.__n=ye,K=de.__d=!0,de.__h=[]),de.__s==null&&(de.__s=de.state),H.getDerivedStateFromProps!=null&&(de.__s==de.state&&(de.__s=R({},de.__s)),R(de.__s,H.getDerivedStateFromProps(rt,de.__s))),Be=de.props,Ie=de.state,K)H.getDerivedStateFromProps==null&&de.componentWillMount!=null&&de.componentWillMount(),de.componentDidMount!=null&&de.__h.push(de.componentDidMount);else{if(H.getDerivedStateFromProps==null&&rt!==Be&&de.componentWillReceiveProps!=null&&de.componentWillReceiveProps(rt,pt),!de.__e&&de.shouldComponentUpdate!=null&&de.shouldComponentUpdate(rt,de.__s,pt)===!1||J.__v===oe.__v){de.props=rt,de.state=de.__s,J.__v!==oe.__v&&(de.__d=!1),de.__v=J,J.__e=oe.__e,J.__k=oe.__k,J.__k.forEach(function(Q){Q&&(Q.__=J)}),de.__h.length&&We.push(de);break e}de.componentWillUpdate!=null&&de.componentWillUpdate(rt,de.__s,pt),de.componentDidUpdate!=null&&de.__h.push(function(){de.componentDidUpdate(Be,Ie,Ve)})}de.context=pt,de.props=rt,de.state=de.__s,(Ye=s.__r)&&Ye(J),de.__d=!1,de.__v=J,de.__P=Z,Ye=de.render(de.props,de.state,de.context),de.state=de.__s,de.getChildContext!=null&&(ye=R(R({},ye),de.getChildContext())),K||de.getSnapshotBeforeUpdate==null||(Ve=de.getSnapshotBeforeUpdate(Be,Ie)),Bt=Ye!=null&&Ye.type===q&&Ye.key==null?Ye.props.children:Ye,U(Z,Array.isArray(Bt)?Bt:[Bt],J,oe,ye,Pe,_e,We,Xe,qe),de.base=J.__e,J.__h=null,de.__h.length&&We.push(de),kt&&(de.__E=de.__=null),de.__e=!1}else _e==null&&J.__v===oe.__v?(J.__k=oe.__k,J.__e=oe.__e):J.__e=me(oe.__e,J,oe,ye,Pe,_e,We,qe);(Ye=s.diffed)&&Ye(J)}catch(Q){J.__v=null,(qe||_e!=null)&&(J.__e=Xe,J.__h=!!qe,_e[_e.indexOf(Xe)]=null),s.__e(Q,J,oe)}}function ue(Z,J){s.__c&&s.__c(J,Z),Z.some(function(oe){try{Z=oe.__h,oe.__h=[],Z.some(function(ye){ye.call(oe)})}catch(ye){s.__e(ye,oe.__v)}})}function me(Z,J,oe,ye,Pe,_e,We,Xe){var qe,Ye,de,K=oe.props,Be=J.props,Ie=J.type,Ve=0;if(Ie==="svg"&&(Pe=!0),_e!=null){for(;Ve<_e.length;Ve++)if((qe=_e[Ve])&&"setAttribute"in qe==!!Ie&&(Ie?qe.localName===Ie:qe.nodeType===3)){Z=qe,_e[Ve]=null;break}}if(Z==null){if(Ie===null)return document.createTextNode(Be);Z=Pe?document.createElementNS("http://www.w3.org/2000/svg",Ie):document.createElement(Ie,Be.is&&Be),_e=null,Xe=!1}if(Ie===null)K===Be||Xe&&Z.data===Be||(Z.data=Be);else{if(_e=_e&&p.call(Z.childNodes),Ye=(K=oe.props||S).dangerouslySetInnerHTML,de=Be.dangerouslySetInnerHTML,!Xe){if(_e!=null)for(K={},Ve=0;Ve<Z.attributes.length;Ve++)K[Z.attributes[Ve].name]=Z.attributes[Ve].value;(de||Ye)&&(de&&(Ye&&de.__html==Ye.__html||de.__html===Z.innerHTML)||(Z.innerHTML=de&&de.__html||""))}if(function(kt,rt,st,pt,Bt){var H;for(H in st)H==="children"||H==="key"||H in rt||ge(kt,H,null,st[H],pt);for(H in rt)Bt&&typeof rt[H]!="function"||H==="children"||H==="key"||H==="value"||H==="checked"||st[H]===rt[H]||ge(kt,H,rt[H],st[H],pt)}(Z,Be,K,Pe,Xe),de)J.__k=[];else if(Ve=J.props.children,U(Z,Array.isArray(Ve)?Ve:[Ve],J,oe,ye,Pe&&Ie!=="foreignObject",_e,We,_e?_e[0]:oe.__k&&N(oe,0),Xe),_e!=null)for(Ve=_e.length;Ve--;)_e[Ve]!=null&&G(_e[Ve]);Xe||("value"in Be&&(Ve=Be.value)!==void 0&&(Ve!==K.value||Ve!==Z.value||Ie==="progress"&&!Ve)&&ge(Z,"value",Ve,K.value,!1),"checked"in Be&&(Ve=Be.checked)!==void 0&&Ve!==Z.checked&&ge(Z,"checked",Ve,K.checked,!1))}return Z}function Oe(Z,J,oe){try{typeof Z=="function"?Z(J):Z.current=J}catch(ye){s.__e(ye,oe)}}function Ae(Z,J,oe){var ye,Pe;if(s.unmount&&s.unmount(Z),(ye=Z.ref)&&(ye.current&&ye.current!==Z.__e||Oe(ye,null,J)),(ye=Z.__c)!=null){if(ye.componentWillUnmount)try{ye.componentWillUnmount()}catch(_e){s.__e(_e,J)}ye.base=ye.__P=null}if(ye=Z.__k)for(Pe=0;Pe<ye.length;Pe++)ye[Pe]&&Ae(ye[Pe],J,typeof Z.type!="function");oe||Z.__e==null||G(Z.__e),Z.__e=Z.__d=void 0}function Ne(Z,J,oe){return this.constructor(Z,oe)}function ze(Z,J,oe){var ye,Pe,_e;s.__&&s.__(Z,J),Pe=(ye=typeof oe=="function")?null:oe&&oe.__k||J.__k,_e=[],fe(J,Z=(!ye&&oe||J).__k=X(q,null,[Z]),Pe||S,S,J.ownerSVGElement!==void 0,!ye&&oe?[oe]:Pe?null:J.firstChild?p.call(J.childNodes):null,_e,!ye&&oe?oe:Pe?Pe.__e:J.firstChild,ye),ue(_e,Z)}function Te(Z,J){ze(Z,J,Te)}function Ue(Z,J,oe){var ye,Pe,_e,We=R({},Z.props);for(_e in J)_e=="key"?ye=J[_e]:_e=="ref"?Pe=J[_e]:We[_e]=J[_e];return arguments.length>2&&(We.children=arguments.length>3?p.call(arguments,2):oe),z(Z.type,We,ye||Z.key,Pe||Z.ref,null)}function at(Z,J){var oe={__c:J="__cC"+j++,__:Z,Consumer:function(ye,Pe){return ye.children(Pe)},Provider:function(ye){var Pe,_e;return this.getChildContext||(Pe=[],(_e={})[J]=this,this.getChildContext=function(){return _e},this.shouldComponentUpdate=function(We){this.props.value!==We.value&&Pe.some(k)},this.sub=function(We){Pe.push(We);var Xe=We.componentWillUnmount;We.componentWillUnmount=function(){Pe.splice(Pe.indexOf(We),1),Xe&&Xe.call(We)}}),ye.children}};return oe.Provider.__=oe.Consumer.contextType=oe}p=P.slice,s={__e:function(Z,J){for(var oe,ye,Pe;J=J.__;)if((oe=J.__c)&&!oe.__)try{if((ye=oe.constructor)&&ye.getDerivedStateFromError!=null&&(oe.setState(ye.getDerivedStateFromError(Z)),Pe=oe.__d),oe.componentDidCatch!=null&&(oe.componentDidCatch(Z),Pe=oe.__d),Pe)return oe.__E=oe}catch(_e){Z=_e}throw Z}},b=0,Y.prototype.setState=function(Z,J){var oe;oe=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=R({},this.state),typeof Z=="function"&&(Z=Z(R({},oe),this.props)),Z&&R(oe,Z),Z!=null&&this.__v&&(J&&this.__h.push(J),k(this))},Y.prototype.forceUpdate=function(Z){this.__v&&(this.__e=!0,Z&&this.__h.push(Z),k(this))},Y.prototype.render=q,O=[],w=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,L.__r=0,j=0},function(c,f,a){var p=a(114),s=a(45),b=a(172);p||s(Object.prototype,"toString",b,{unsafe:!0})},function(c,f,a){var p=a(39),s=a(76),b=a(65),O=a(57),w=a(108),_=O.set,j=O.getterFor("Array Iterator");c.exports=w(Array,"Array",function(S,P){_(this,{type:"Array Iterator",target:p(S),index:0,kind:P})},function(){var S=j(this),P=S.target,C=S.kind,R=S.index++;return!P||R>=P.length?(S.target=void 0,{value:void 0,done:!0}):C=="keys"?{value:R,done:!1}:C=="values"?{value:P[R],done:!1}:{value:[R,P[R]],done:!1}},"values"),b.Arguments=b.Array,s("keys"),s("values"),s("entries")},function(c,f,a){var p=a(17),s=a(9),b=a(49),O=a(95),w=a(36),_=a(15),j=a(78),S=a(35),P=a(104),C=a(19),R=a(34),G=a(93),X=a(30),z=a(33),V=a(55),q=a(83),Y=a(32),N=a(38),B=a(39),k=a(82),L=a(40),U=a(66),te=a(52),$=a(61),ie=a(67),ve=a(134),ge=a(109),he=a(54),Ee=a(37),fe=a(87),ue=a(117),me=a(45),Oe=a(77),Ae=a(86),Ne=a(64),ze=a(79),Te=a(27),Ue=a(145),at=a(146),Z=a(90),J=a(57),oe=a(69).forEach,ye=Ae("hidden"),Pe=Te("toPrimitive"),_e=J.set,We=J.getterFor("Symbol"),Xe=Object.prototype,qe=s.Symbol,Ye=qe&&qe.prototype,de=s.TypeError,K=s.QObject,Be=b("JSON","stringify"),Ie=he.f,Ve=Ee.f,kt=ve.f,rt=fe.f,st=_([].push),pt=Oe("symbols"),Bt=Oe("op-symbols"),H=Oe("string-to-symbol-registry"),Q=Oe("symbol-to-string-registry"),le=Oe("wks"),we=!K||!K.prototype||!K.prototype.findChild,Ze=S&&C(function(){return te(Ve({},"a",{get:function(){return Ve(this,"a",{value:7}).a}})).a!=7})?function(De,Ge,$e){var lt=Ie(Xe,Ge);lt&&delete Xe[Ge],Ve(De,Ge,$e),lt&&De!==Xe&&Ve(Xe,Ge,lt)}:Ve,He=function(De,Ge){var $e=pt[De]=te(Ye);return _e($e,{type:"Symbol",tag:De,description:Ge}),S||($e.description=Ge),$e},Je=function(De,Ge,$e){De===Xe&&Je(Bt,Ge,$e),Y(De);var lt=k(Ge);return Y($e),R(pt,lt)?($e.enumerable?(R(De,ye)&&De[ye][lt]&&(De[ye][lt]=!1),$e=te($e,{enumerable:U(0,!1)})):(R(De,ye)||Ve(De,ye,U(1,{})),De[ye][lt]=!0),Ze(De,lt,$e)):Ve(De,lt,$e)},dt=function(De,Ge){Y(De);var $e=B(Ge),lt=$($e).concat(Nn($e));return oe(lt,function(wt){S&&!w(Pt,$e,wt)||Je(De,wt,$e[wt])}),De},Pt=function(De){var Ge=k(De),$e=w(rt,this,Ge);return!(this===Xe&&R(pt,Ge)&&!R(Bt,Ge))&&(!($e||!R(this,Ge)||!R(pt,Ge)||R(this,ye)&&this[ye][Ge])||$e)},It=function(De,Ge){var $e=B(De),lt=k(Ge);if($e!==Xe||!R(pt,lt)||R(Bt,lt)){var wt=Ie($e,lt);return!wt||!R(pt,lt)||R($e,ye)&&$e[ye][lt]||(wt.enumerable=!0),wt}},qn=function(De){var Ge=kt(B(De)),$e=[];return oe(Ge,function(lt){R(pt,lt)||R(Ne,lt)||st($e,lt)}),$e},Nn=function(De){var Ge=De===Xe,$e=kt(Ge?Bt:B(De)),lt=[];return oe($e,function(wt){!R(pt,wt)||Ge&&!R(Xe,wt)||st(lt,pt[wt])}),lt};if(P||(me(Ye=(qe=function(){if(V(Ye,this))throw de("Symbol is not a constructor");var De=arguments.length&&arguments[0]!==void 0?L(arguments[0]):void 0,Ge=ze(De),$e=function(lt){this===Xe&&w($e,Bt,lt),R(this,ye)&&R(this[ye],Ge)&&(this[ye][Ge]=!1),Ze(this,Ge,U(1,lt))};return S&&we&&Ze(Xe,Ge,{configurable:!0,set:$e}),He(Ge,De)}).prototype,"toString",function(){return We(this).tag}),me(qe,"withoutSetter",function(De){return He(ze(De),De)}),fe.f=Pt,Ee.f=Je,he.f=It,ie.f=ve.f=qn,ge.f=Nn,Ue.f=function(De){return He(Te(De),De)},S&&(Ve(Ye,"description",{configurable:!0,get:function(){return We(this).description}}),j||me(Xe,"propertyIsEnumerable",Pt,{unsafe:!0}))),p({global:!0,wrap:!0,forced:!P,sham:!P},{Symbol:qe}),oe($(le),function(De){at(De)}),p({target:"Symbol",stat:!0,forced:!P},{for:function(De){var Ge=L(De);if(R(H,Ge))return H[Ge];var $e=qe(Ge);return H[Ge]=$e,Q[$e]=Ge,$e},keyFor:function(De){if(!q(De))throw de(De+" is not a symbol");if(R(Q,De))return Q[De]},useSetter:function(){we=!0},useSimple:function(){we=!1}}),p({target:"Object",stat:!0,forced:!P,sham:!S},{create:function(De,Ge){return Ge===void 0?te(De):dt(te(De),Ge)},defineProperty:Je,defineProperties:dt,getOwnPropertyDescriptor:It}),p({target:"Object",stat:!0,forced:!P},{getOwnPropertyNames:qn,getOwnPropertySymbols:Nn}),p({target:"Object",stat:!0,forced:C(function(){ge.f(1)})},{getOwnPropertySymbols:function(De){return ge.f(N(De))}}),Be&&p({target:"JSON",stat:!0,forced:!P||C(function(){var De=qe();return Be([De])!="[null]"||Be({a:De})!="{}"||Be(Object(De))!="{}"})},{stringify:function(De,Ge,$e){var lt=ue(arguments),wt=Ge;if((z(Ge)||De!==void 0)&&!q(De))return G(Ge)||(Ge=function(Tt,Kt){if(X(wt)&&(Kt=w(wt,this,Tt,Kt)),!q(Kt))return Kt}),lt[1]=Ge,O(Be,null,lt)}}),!Ye[Pe]){var gt=Ye.valueOf;me(Ye,Pe,function(De){return w(gt,this)})}Z(qe,"Symbol"),Ne[ye]=!0},function(c,f,a){var p=a(9),s=a(143),b=a(144),O=a(3),w=a(53),_=a(27),j=_("iterator"),S=_("toStringTag"),P=O.values,C=function(G,X){if(G){if(G[j]!==P)try{w(G,j,P)}catch(V){G[j]=P}if(G[S]||w(G,S,X),s[X]){for(var z in O)if(G[z]!==O[z])try{w(G,z,O[z])}catch(V){G[z]=O[z]}}}};for(var R in s)C(p[R]&&p[R].prototype,R);C(b,"DOMTokenList")},function(c,f,a){var p=a(142).charAt,s=a(40),b=a(57),O=a(108),w=b.set,_=b.getterFor("String Iterator");O(String,"String",function(j){w(this,{type:"String Iterator",string:s(j),index:0})},function(){var j,S=_(this),P=S.string,C=S.index;return C>=P.length?{value:void 0,done:!0}:(j=p(P,C),S.index+=j.length,{value:j,done:!1})})},function(c,f,a){var p=a(17),s=a(35),b=a(9),O=a(15),w=a(34),_=a(30),j=a(55),S=a(40),P=a(37).f,C=a(129),R=b.Symbol,G=R&&R.prototype;if(s&&_(R)&&(!("description"in G)||R().description!==void 0)){var X={},z=function(){var L=arguments.length<1||arguments[0]===void 0?void 0:S(arguments[0]),U=j(G,this)?new R(L):L===void 0?R():R(L);return L===""&&(X[U]=!0),U};C(z,R),z.prototype=G,G.constructor=z;var V=String(R("test"))=="Symbol(test)",q=O(G.toString),Y=O(G.valueOf),N=/^Symbol\((.*)\)[^)]+$/,B=O("".replace),k=O("".slice);P(G,"description",{configurable:!0,get:function(){var L=Y(this),U=q(L);if(w(X,L))return"";var te=V?k(U,7,-1):B(U,N,"$1");return te===""?void 0:te}}),p({global:!0,forced:!0},{Symbol:z})}},function(c,f,a){a(146)("iterator")},function(c,f,a){(function(p){var s=function(b){return b&&b.Math==Math&&b};c.exports=s(typeof globalThis=="object"&&globalThis)||s(typeof window=="object"&&window)||s(typeof self=="object"&&self)||s(typeof p=="object"&&p)||function(){return this}()||Function("return this")()}).call(this,a(75))},function(c,f,a){a.d(f,"a",function(){return O.a}),a.d(f,"c",function(){return O.e}),a.d(f,"h",function(){return N}),a.d(f,"i",function(){return V}),a.d(f,"j",function(){return X}),a.d(f,"b",function(){return he}),a.d(f,"e",function(){return me}),a.d(f,"f",function(){return Ee}),a.d(f,"g",function(){return st});var p,s,b,O=a(1),w=0,_=[],j=O.i.__b,S=O.i.__r,P=O.i.diffed,C=O.i.__c,R=O.i.unmount;function G(H,Q){O.i.__h&&O.i.__h(s,H,w||Q),w=0;var le=s.__H||(s.__H={__:[],__h:[]});return H>=le.__.length&&le.__.push({}),le.__[H]}function X(H){return w=1,z(ie,H)}function z(H,Q,le){var we=G(p++,2);return we.t=H,we.__c||(we.__=[le?le(Q):ie(void 0,Q),function(Ze){var He=we.t(we.__[0],Ze);we.__[0]!==He&&(we.__=[He,we.__[1]],we.__c.setState({}))}],we.__c=s),we.__}function V(H,Q){var le=G(p++,3);!O.i.__s&&$(le.__H,Q)&&(le.__=H,le.__H=Q,s.__H.__h.push(le))}function q(H,Q){var le=G(p++,4);!O.i.__s&&$(le.__H,Q)&&(le.__=H,le.__H=Q,s.__h.push(le))}function Y(H,Q){var le=G(p++,7);return $(le.__H,Q)&&(le.__=H(),le.__H=Q,le.__h=H),le.__}function N(H,Q){return w=8,Y(function(){return H},Q)}function B(){var H;for(_.sort(function(Q,le){return Q.__v.__b-le.__v.__b});H=_.pop();)if(H.__P)try{H.__H.__h.forEach(U),H.__H.__h.forEach(te),H.__H.__h=[]}catch(Q){H.__H.__h=[],O.i.__e(Q,H.__v)}}O.i.__b=function(H){s=null,j&&j(H)},O.i.__r=function(H){S&&S(H),p=0;var Q=(s=H.__c).__H;Q&&(Q.__h.forEach(U),Q.__h.forEach(te),Q.__h=[])},O.i.diffed=function(H){P&&P(H);var Q=H.__c;Q&&Q.__H&&Q.__H.__h.length&&(_.push(Q)!==1&&b===O.i.requestAnimationFrame||((b=O.i.requestAnimationFrame)||L)(B)),s=null},O.i.__c=function(H,Q){Q.some(function(le){try{le.__h.forEach(U),le.__h=le.__h.filter(function(we){return!we.__||te(we)})}catch(we){Q.some(function(Ze){Ze.__h&&(Ze.__h=[])}),Q=[],O.i.__e(we,le.__v)}}),C&&C(H,Q)},O.i.unmount=function(H){R&&R(H);var Q,le=H.__c;le&&le.__H&&(le.__H.__.forEach(function(we){try{U(we)}catch(Ze){Q=Ze}}),Q&&O.i.__e(Q,le.__v))};var k=typeof requestAnimationFrame=="function";function L(H){var Q,le=function(){clearTimeout(we),k&&cancelAnimationFrame(Q),setTimeout(H)},we=setTimeout(le,100);k&&(Q=requestAnimationFrame(le))}function U(H){var Q=s,le=H.__c;typeof le=="function"&&(H.__c=void 0,le()),s=Q}function te(H){var Q=s;H.__c=H.__(),s=Q}function $(H,Q){return!H||H.length!==Q.length||Q.some(function(le,we){return le!==H[we]})}function ie(H,Q){return typeof Q=="function"?Q(H):Q}function ve(H,Q){for(var le in Q)H[le]=Q[le];return H}function ge(H,Q){for(var le in H)if(le!=="__source"&&!(le in Q))return!0;for(var we in Q)if(we!=="__source"&&H[we]!==Q[we])return!0;return!1}function he(H){this.props=H}function Ee(H,Q){function le(Ze){var He=this.props.ref,Je=He==Ze.ref;return!Je&&He&&(He.call?He(null):He.current=null),Q?!Q(this.props,Ze)||!Je:ge(this.props,Ze)}function we(Ze){return this.shouldComponentUpdate=le,Object(O.e)(H,Ze)}return we.displayName="Memo("+(H.displayName||H.name)+")",we.prototype.isReactComponent=!0,we.__f=!0,we}(he.prototype=new O.a).isPureReactComponent=!0,he.prototype.shouldComponentUpdate=function(H,Q){return ge(this.props,H)||ge(this.state,Q)};var fe=O.i.__b;O.i.__b=function(H){H.type&&H.type.__f&&H.ref&&(H.props.ref=H.ref,H.ref=null),fe&&fe(H)};var ue=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function me(H){function Q(le,we){var Ze=ve({},le);return delete Ze.ref,H(Ze,!(we=le.ref||we)||typeof we=="object"&&!("current"in we)?null:we)}return Q.$$typeof=ue,Q.render=Q,Q.prototype.isReactComponent=Q.__f=!0,Q.displayName="ForwardRef("+(H.displayName||H.name)+")",Q}var Oe=function(H,Q){return H==null?null:Object(O.k)(Object(O.k)(H).map(Q))},Ae={map:Oe,forEach:Oe,count:function(H){return H?Object(O.k)(H).length:0},only:function(H){var Q=Object(O.k)(H);if(Q.length!==1)throw"Children.only";return Q[0]},toArray:O.k},Ne=O.i.__e;O.i.__e=function(H,Q,le){if(H.then){for(var we,Ze=Q;Ze=Ze.__;)if((we=Ze.__c)&&we.__c)return Q.__e==null&&(Q.__e=le.__e,Q.__k=le.__k),we.__c(H,Q)}Ne(H,Q,le)};var ze=O.i.unmount;function Te(){this.__u=0,this.t=null,this.__b=null}function Ue(H){var Q=H.__.__c;return Q&&Q.__e&&Q.__e(H)}function at(){this.u=null,this.o=null}O.i.unmount=function(H){var Q=H.__c;Q&&Q.__R&&Q.__R(),Q&&H.__h===!0&&(H.type=null),ze&&ze(H)},(Te.prototype=new O.a).__c=function(H,Q){var le=Q.__c,we=this;we.t==null&&(we.t=[]),we.t.push(le);var Ze=Ue(we.__v),He=!1,Je=function(){He||(He=!0,le.__R=null,Ze?Ze(dt):dt())};le.__R=Je;var dt=function(){if(!--we.__u){if(we.state.__e){var It=we.state.__e;we.__v.__k[0]=function Nn(gt,De,Ge){return gt&&(gt.__v=null,gt.__k=gt.__k&&gt.__k.map(function($e){return Nn($e,De,Ge)}),gt.__c&&gt.__c.__P===De&&(gt.__e&&Ge.insertBefore(gt.__e,gt.__d),gt.__c.__e=!0,gt.__c.__P=Ge)),gt}(It,It.__c.__P,It.__c.__O)}var qn;for(we.setState({__e:we.__b=null});qn=we.t.pop();)qn.forceUpdate()}},Pt=Q.__h===!0;we.__u++||Pt||we.setState({__e:we.__b=we.__v.__k[0]}),H.then(Je,Je)},Te.prototype.componentWillUnmount=function(){this.t=[]},Te.prototype.render=function(H,Q){if(this.__b){if(this.__v.__k){var le=document.createElement("div"),we=this.__v.__k[0].__c;this.__v.__k[0]=function He(Je,dt,Pt){return Je&&(Je.__c&&Je.__c.__H&&(Je.__c.__H.__.forEach(function(It){typeof It.__c=="function"&&It.__c()}),Je.__c.__H=null),(Je=ve({},Je)).__c!=null&&(Je.__c.__P===Pt&&(Je.__c.__P=dt),Je.__c=null),Je.__k=Je.__k&&Je.__k.map(function(It){return He(It,dt,Pt)})),Je}(this.__b,le,we.__O=we.__P)}this.__b=null}var Ze=Q.__e&&Object(O.e)(O.b,null,H.fallback);return Ze&&(Ze.__h=null),[Object(O.e)(O.b,null,Q.__e?null:H.children),Ze]};var Z=function(H,Q,le){if(++le[1]===le[0]&&H.o.delete(Q),H.props.revealOrder&&(H.props.revealOrder[0]!=="t"||!H.o.size))for(le=H.u;le;){for(;le.length>3;)le.pop()();if(le[1]<le[0])break;H.u=le=le[2]}};function J(H){return this.getChildContext=function(){return H.context},H.children}function oe(H){var Q=this,le=H.i;Q.componentWillUnmount=function(){Object(O.j)(null,Q.l),Q.l=null,Q.i=null},Q.i&&Q.i!==le&&Q.componentWillUnmount(),H.__v?(Q.l||(Q.i=le,Q.l={nodeType:1,parentNode:le,childNodes:[],appendChild:function(we){this.childNodes.push(we),Q.i.appendChild(we)},insertBefore:function(we,Ze){this.childNodes.push(we),Q.i.appendChild(we)},removeChild:function(we){this.childNodes.splice(this.childNodes.indexOf(we)>>>1,1),Q.i.removeChild(we)}}),Object(O.j)(Object(O.e)(J,{context:Q.context},H.__v),Q.l)):Q.l&&Q.componentWillUnmount()}(at.prototype=new O.a).__e=function(H){var Q=this,le=Ue(Q.__v),we=Q.o.get(H);return we[0]++,function(Ze){var He=function(){Q.props.revealOrder?(we.push(Ze),Z(Q,H,we)):Ze()};le?le(He):He()}},at.prototype.render=function(H){this.u=null,this.o=new Map;var Q=Object(O.k)(H.children);H.revealOrder&&H.revealOrder[0]==="b"&&Q.reverse();for(var le=Q.length;le--;)this.o.set(Q[le],this.u=[1,0,this.u]);return H.children},at.prototype.componentDidUpdate=at.prototype.componentDidMount=function(){var H=this;this.o.forEach(function(Q,le){Z(H,le,Q)})};var ye=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,Pe=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,_e=typeof document!="undefined",We=function(H){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(H)};O.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(H){Object.defineProperty(O.a.prototype,H,{configurable:!0,get:function(){return this["UNSAFE_"+H]},set:function(Q){Object.defineProperty(this,H,{configurable:!0,writable:!0,value:Q})}})});var Xe=O.i.event;function qe(){}function Ye(){return this.cancelBubble}function de(){return this.defaultPrevented}O.i.event=function(H){return Xe&&(H=Xe(H)),H.persist=qe,H.isPropagationStopped=Ye,H.isDefaultPrevented=de,H.nativeEvent=H};var K,Be={configurable:!0,get:function(){return this.class}},Ie=O.i.vnode;O.i.vnode=function(H){var Q=H.type,le=H.props,we=le;if(typeof Q=="string"){var Ze=Q.indexOf("-")===-1;for(var He in we={},le){var Je=le[He];_e&&He==="children"&&Q==="noscript"||He==="value"&&"defaultValue"in le&&Je==null||(He==="defaultValue"&&"value"in le&&le.value==null?He="value":He==="download"&&Je===!0?Je="":/ondoubleclick/i.test(He)?He="ondblclick":/^onchange(textarea|input)/i.test(He+Q)&&!We(le.type)?He="oninput":/^onfocus$/i.test(He)?He="onfocusin":/^onblur$/i.test(He)?He="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(He)?He=He.toLowerCase():Ze&&Pe.test(He)?He=He.replace(/[A-Z0-9]/,"-$&").toLowerCase():Je===null&&(Je=void 0),we[He]=Je)}Q=="select"&&we.multiple&&Array.isArray(we.value)&&(we.value=Object(O.k)(le.children).forEach(function(dt){dt.props.selected=we.value.indexOf(dt.props.value)!=-1})),Q=="select"&&we.defaultValue!=null&&(we.value=Object(O.k)(le.children).forEach(function(dt){dt.props.selected=we.multiple?we.defaultValue.indexOf(dt.props.value)!=-1:we.defaultValue==dt.props.value})),H.props=we,le.class!=le.className&&(Be.enumerable="className"in le,le.className!=null&&(we.class=le.className),Object.defineProperty(we,"className",Be))}H.$$typeof=ye,Ie&&Ie(H)};var Ve=O.i.__r;O.i.__r=function(H){Ve&&Ve(H),K=H.__c};var kt={ReactCurrentDispatcher:{current:{readContext:function(H){return K.__n[H.__c].props.value}}}};function rt(H){return!!H&&H.$$typeof===ye}var st=function(H,Q){return H(Q)},pt=O.b,Bt={useState:X,useReducer:z,useEffect:V,useLayoutEffect:q,useRef:function(H){return w=5,Y(function(){return{current:H}},[])},useImperativeHandle:function(H,Q,le){w=6,q(function(){typeof H=="function"?H(Q()):H&&(H.current=Q())},le==null?le:le.concat(H))},useMemo:Y,useCallback:N,useContext:function(H){var Q=s.context[H.__c],le=G(p++,9);return le.c=H,Q?(le.__==null&&(le.__=!0,Q.sub(s)),Q.props.value):H.__},useDebugValue:function(H,Q){O.i.useDebugValue&&O.i.useDebugValue(Q?Q(H):H)},version:"17.0.2",Children:Ae,render:function(H,Q,le){return Q.__k==null&&(Q.textContent=""),Object(O.j)(H,Q),typeof le=="function"&&le(),H?H.__c:null},hydrate:function(H,Q,le){return Object(O.h)(H,Q),typeof le=="function"&&le(),H?H.__c:null},unmountComponentAtNode:function(H){return!!H.__k&&(Object(O.j)(null,H),!0)},createPortal:function(H,Q){return Object(O.e)(oe,{__v:H,i:Q})},createElement:O.e,createContext:O.d,createFactory:function(H){return O.e.bind(null,H)},cloneElement:function(H){return rt(H)?O.c.apply(null,arguments):H},createRef:O.f,Fragment:O.b,isValidElement:rt,findDOMNode:function(H){return H&&(H.base||H.nodeType===1&&H)||null},Component:O.a,PureComponent:he,memo:Ee,forwardRef:me,flushSync:function(H,Q){return H(Q)},unstable_batchedUpdates:st,StrictMode:pt,Suspense:Te,SuspenseList:at,lazy:function(H){var Q,le,we;function Ze(He){if(Q||(Q=H()).then(function(Je){le=Je.default||Je},function(Je){we=Je}),we)throw we;if(!le)throw Q;return Object(O.e)(le,He)}return Ze.displayName="Lazy",Ze.__f=!0,Ze},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:kt};f.d=Bt},function(c,f,a){var p=a(9),s=a(143),b=a(144),O=a(173),w=a(53),_=function(S){if(S&&S.forEach!==O)try{w(S,"forEach",O)}catch(P){S.forEach=O}};for(var j in s)s[j]&&_(p[j]&&p[j].prototype);_(b)},function(c,f,a){a(17)({target:"Object",stat:!0},{setPrototypeOf:a(111)})},function(c,f,a){var p=a(17),s=a(19),b=a(38),O=a(89),w=a(132);p({target:"Object",stat:!0,forced:s(function(){O(1)}),sham:!w},{getPrototypeOf:function(_){return O(b(_))}})},function(c,f,a){var p=a(17),s=a(49),b=a(95),O=a(194),w=a(152),_=a(32),j=a(33),S=a(52),P=a(19),C=s("Reflect","construct"),R=Object.prototype,G=[].push,X=P(function(){function q(){}return!(C(function(){},[],q)instanceof q)}),z=!P(function(){C(function(){})}),V=X||z;p({target:"Reflect",stat:!0,forced:V,sham:V},{construct:function(q,Y){w(q),_(Y);var N=arguments.length<3?q:w(arguments[2]);if(z&&!X)return C(q,Y,N);if(q==N){switch(Y.length){case 0:return new q;case 1:return new q(Y[0]);case 2:return new q(Y[0],Y[1]);case 3:return new q(Y[0],Y[1],Y[2]);case 4:return new q(Y[0],Y[1],Y[2],Y[3])}var B=[null];return b(G,B,Y),new(b(O,q,B))}var k=N.prototype,L=S(j(k)?k:R),U=b(q,L,Y);return j(U)?U:L}})},function(c,f){var a=Function.prototype,p=a.bind,s=a.call,b=p&&p.bind(s);c.exports=p?function(O){return O&&b(s,O)}:function(O){return O&&function(){return s.apply(O,arguments)}}},function(c,f,a){var p=a(17),s=a(9),b=a(93),O=a(94),w=a(33),_=a(62),j=a(43),S=a(39),P=a(58),C=a(27),R=a(70),G=a(117),X=R("slice"),z=C("species"),V=s.Array,q=Math.max;p({target:"Array",proto:!0,forced:!X},{slice:function(Y,N){var B,k,L,U=S(this),te=j(U),$=_(Y,te),ie=_(N===void 0?te:N,te);if(b(U)&&(B=U.constructor,(O(B)&&(B===V||b(B.prototype))||w(B)&&(B=B[z])===null)&&(B=void 0),B===V||B===void 0))return G(U,$,ie);for(k=new(B===void 0?V:B)(q(ie-$,0)),L=0;$<ie;$++,L++)$ in U&&P(k,L,U[$]);return k.length=L,k}})},function(c,f,a){var p=a(9),s=a(54).f,b=a(53),O=a(45),w=a(103),_=a(129),j=a(110);c.exports=function(S,P){var C,R,G,X,z,V=S.target,q=S.global,Y=S.stat;if(C=q?p:Y?p[V]||w(V,{}):(p[V]||{}).prototype)for(R in P){if(X=P[R],G=S.noTargetGet?(z=s(C,R))&&z.value:C[R],!j(q?R:V+(Y?".":"#")+R,S.forced)&&G!==void 0){if(typeof X==typeof G)continue;_(X,G)}(S.sham||G&&G.sham)&&b(X,"sham",!0),O(C,R,X,S)}}},function(c,f,a){var p=a(17),s=a(96);p({target:"RegExp",proto:!0,forced:/./.exec!==s},{exec:s})},function(c,f){c.exports=function(a){try{return!!a()}catch(p){return!0}}},function(c,f,a){var p=a(17),s=a(38),b=a(61);p({target:"Object",stat:!0,forced:a(19)(function(){b(1)})},{keys:function(O){return b(s(O))}})},function(c,f,a){var p=a(17),s=a(19),b=a(39),O=a(54).f,w=a(35),_=s(function(){O(1)});p({target:"Object",stat:!0,forced:!w||_,sham:!w},{getOwnPropertyDescriptor:function(j,S){return O(b(j),S)}})},function(c,f,a){var p=a(17),s=a(69).filter;p({target:"Array",proto:!0,forced:!a(70)("filter")},{filter:function(b){return s(this,b,arguments.length>1?arguments[1]:void 0)}})},function(c,f,a){var p=a(17),s=a(35),b=a(130),O=a(39),w=a(54),_=a(58);p({target:"Object",stat:!0,sham:!s},{getOwnPropertyDescriptors:function(j){for(var S,P,C=O(j),R=w.f,G=b(C),X={},z=0;G.length>z;)(P=R(C,S=G[z++]))!==void 0&&_(X,S,P);return X}})},function(c,f,a){var p=a(35),s=a(88).EXISTS,b=a(15),O=a(37).f,w=Function.prototype,_=b(w.toString),j=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,S=b(j.exec);p&&!s&&O(w,"name",{configurable:!0,get:function(){try{return S(j,_(this))[1]}catch(P){return""}}})},function(c,f,a){var p=a(17),s=a(176);p({target:"Array",stat:!0,forced:!a(140)(function(b){Array.from(b)})},{from:s})},,function(c,f,a){var p=a(9),s=a(77),b=a(34),O=a(79),w=a(104),_=a(124),j=s("wks"),S=p.Symbol,P=S&&S.for,C=_?S:S&&S.withoutSetter||O;c.exports=function(R){if(!b(j,R)||!w&&typeof j[R]!="string"){var G="Symbol."+R;w&&b(S,R)?j[R]=S[R]:j[R]=_&&P?P(G):C(G)}return j[R]}},function(c,f,a){var p=a(17),s=a(9),b=a(19),O=a(93),w=a(33),_=a(38),j=a(43),S=a(58),P=a(115),C=a(70),R=a(27),G=a(80),X=R("isConcatSpreadable"),z=s.TypeError,V=G>=51||!b(function(){var N=[];return N[X]=!1,N.concat()[0]!==N}),q=C("concat"),Y=function(N){if(!w(N))return!1;var B=N[X];return B!==void 0?!!B:O(N)};p({target:"Array",proto:!0,forced:!V||!q},{concat:function(N){var B,k,L,U,te,$=_(this),ie=P($,0),ve=0;for(B=-1,L=arguments.length;B<L;B++)if(Y(te=B===-1?$:arguments[B])){if(ve+(U=j(te))>9007199254740991)throw z("Maximum allowed index exceeded");for(k=0;k<U;k++,ve++)k in te&&S(ie,ve,te[k])}else{if(ve>=9007199254740991)throw z("Maximum allowed index exceeded");S(ie,ve++,te)}return ie.length=ve,ie}})},function(c,f,a){var p=a(100),s=typeof self=="object"&&self&&self.Object===Object&&self,b=p.a||s||Function("return this")();f.a=b},function(c,f){c.exports=function(a){return typeof a=="function"}},function(c,f,a){var p=a(17),s=a(196);p({target:"Object",stat:!0,forced:Object.assign!==s},{assign:s})},function(c,f,a){var p=a(9),s=a(33),b=p.String,O=p.TypeError;c.exports=function(w){if(s(w))return w;throw O(b(w)+" is not an object")}},function(c,f,a){var p=a(30);c.exports=function(s){return typeof s=="object"?s!==null:p(s)}},function(c,f,a){var p=a(15),s=a(38),b=p({}.hasOwnProperty);c.exports=Object.hasOwn||function(O,w){return b(s(O),w)}},function(c,f,a){var p=a(19);c.exports=!p(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(c,f){var a=Function.prototype.call;c.exports=a.bind?a.bind(a):function(){return a.apply(a,arguments)}},function(c,f,a){var p=a(9),s=a(35),b=a(125),O=a(32),w=a(82),_=p.TypeError,j=Object.defineProperty;f.f=s?j:function(S,P,C){if(O(S),P=w(P),O(C),b)try{return j(S,P,C)}catch(R){}if("get"in C||"set"in C)throw _("Accessors not supported");return"value"in C&&(S[P]=C.value),S}},function(c,f,a){var p=a(9),s=a(44),b=p.Object;c.exports=function(O){return b(s(O))}},function(c,f,a){var p=a(74),s=a(44);c.exports=function(b){return p(s(b))}},function(c,f,a){var p=a(9),s=a(92),b=p.String;c.exports=function(O){if(s(O)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return b(O)}},function(c,f,a){var p=a(17),s=a(69).map;p({target:"Array",proto:!0,forced:!a(70)("map")},{map:function(b){return s(this,b,arguments.length>1?arguments[1]:void 0)}})},function(c,f,a){(function(p){a.d(f,"d",function(){return O}),a.d(f,"c",function(){return w}),a.d(f,"b",function(){return _}),a.d(f,"a",function(){return S});var s=a(10),b=function(P,C){var R=typeof Symbol=="function"&&P[Symbol.iterator];if(!R)return P;var G,X,z=R.call(P),V=[];try{for(;(C===void 0||C-- >0)&&!(G=z.next()).done;)V.push(G.value)}catch(q){X={error:q}}finally{try{G&&!G.done&&(R=z.return)&&R.call(z)}finally{if(X)throw X.error}}return V};function O(){var P=b(Object(s.j)(0),2)[1];return Object(s.h)(function(){P(function(C){return C+1})},[])}function w(P){if(!P||typeof P!="object")return!1;var C=Object.getPrototypeOf(P);return!C||C===Object.prototype}function _(P){return typeof Symbol=="function"?Symbol.for(P):"__$mobx-react "+P+"__"}var j={};function S(){return typeof window!="undefined"?window:p!==void 0?p:typeof self!="undefined"?self:j}}).call(this,a(75))},function(c,f,a){var p=a(85);c.exports=function(s){return p(s.length)}},function(c,f,a){var p=a(9).TypeError;c.exports=function(s){if(s==null)throw p("Can't call method on "+s);return s}},function(c,f,a){var p=a(9),s=a(30),b=a(34),O=a(53),w=a(103),_=a(107),j=a(57),S=a(88).CONFIGURABLE,P=j.get,C=j.enforce,R=String(String).split("String");(c.exports=function(G,X,z,V){var q,Y=!!V&&!!V.unsafe,N=!!V&&!!V.enumerable,B=!!V&&!!V.noTargetGet,k=V&&V.name!==void 0?V.name:X;s(z)&&(String(k).slice(0,7)==="Symbol("&&(k="["+String(k).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!b(z,"name")||S&&z.name!==k)&&O(z,"name",k),(q=C(z)).source||(q.source=R.join(typeof k=="string"?k:""))),G!==p?(Y?!B&&G[X]&&(N=!0):delete G[X],N?G[X]=z:O(G,X,z)):N?G[X]=z:w(X,z)})(Function.prototype,"toString",function(){return s(this)&&P(this).source||_(this)})},function(c,f,a){var p=a(17),s=a(36),b=a(33),O=a(32),w=a(195),_=a(54),j=a(89);p({target:"Reflect",stat:!0},{get:function S(P,C){var R,G,X=arguments.length<3?P:arguments[2];return O(P)===X?P[C]:(R=_.f(P,C))?w(R)?R.value:R.get===void 0?void 0:s(R.get,X):b(G=j(P))?S(G,C,X):void 0}})},function(c,f,a){(function(p){var s=a(29),b=a(156),O=h&&!h.nodeType&&h,w=O&&typeof p=="object"&&p&&!p.nodeType&&p,_=w&&w.exports===O?s.a.Buffer:void 0,j=(_?_.isBuffer:void 0)||b.a;f.a=j}).call(this,a(118)(c))},function(c,f,a){(function(p){var s=a(100),b=h&&!h.nodeType&&h,O=b&&typeof p=="object"&&p&&!p.nodeType&&p,w=O&&O.exports===b&&s.a.process,_=function(){try{var j=O&&O.require&&O.require("util").types;return j||w&&w.binding&&w.binding("util")}catch(S){}}();f.a=_}).call(this,a(118)(c))},function(c,f,a){var p=a(9),s=a(30),b=function(O){return s(O)?O:void 0};c.exports=function(O,w){return arguments.length<2?b(p[O]):p[O]&&p[O][w]}},function(c,f,a){var p=a(17),s=a(200).entries;p({target:"Object",stat:!0},{entries:function(b){return s(b)}})},function(c,f,a){var p=a(15),s=p({}.toString),b=p("".slice);c.exports=function(O){return b(s(O),8,-1)}},function(c,f,a){var p,s=a(32),b=a(159),O=a(106),w=a(64),_=a(161),j=a(105),S=a(86),P=S("IE_PROTO"),C=function(){},R=function(z){return"<script>"+z+"<\/script>"},G=function(z){z.write(R("")),z.close();var V=z.parentWindow.Object;return z=null,V},X=function(){try{p=new ActiveXObject("htmlfile")}catch(Y){}var z,V;X=typeof document!="undefined"?document.domain&&p?G(p):((V=j("iframe")).style.display="none",_.appendChild(V),V.src=String("javascript:"),(z=V.contentWindow.document).open(),z.write(R("document.F=Object")),z.close(),z.F):G(p);for(var q=O.length;q--;)delete X.prototype[O[q]];return X()};w[P]=!0,c.exports=Object.create||function(z,V){var q;return z!==null?(C.prototype=s(z),q=new C,C.prototype=null,q[P]=z):q=X(),V===void 0?q:b(q,V)}},function(c,f,a){var p=a(35),s=a(37),b=a(66);c.exports=p?function(O,w,_){return s.f(O,w,b(1,_))}:function(O,w,_){return O[w]=_,O}},function(c,f,a){var p=a(35),s=a(36),b=a(87),O=a(66),w=a(39),_=a(82),j=a(34),S=a(125),P=Object.getOwnPropertyDescriptor;f.f=p?P:function(C,R){if(C=w(C),R=_(R),S)try{return P(C,R)}catch(G){}if(j(C,R))return O(!s(b.f,C,R),C[R])}},function(c,f,a){var p=a(15);c.exports=p({}.isPrototypeOf)},function(c,f,a){var p=a(60);c.exports=function(s,b){var O=s[b];return O==null?void 0:p(O)}},function(c,f,a){var p,s,b,O=a(162),w=a(9),_=a(15),j=a(33),S=a(53),P=a(34),C=a(102),R=a(86),G=a(64),X=w.TypeError,z=w.WeakMap;if(O||C.state){var V=C.state||(C.state=new z),q=_(V.get),Y=_(V.has),N=_(V.set);p=function(k,L){if(Y(V,k))throw new X("Object already initialized");return L.facade=k,N(V,k,L),L},s=function(k){return q(V,k)||{}},b=function(k){return Y(V,k)}}else{var B=R("state");G[B]=!0,p=function(k,L){if(P(k,B))throw new X("Object already initialized");return L.facade=k,S(k,B,L),L},s=function(k){return P(k,B)?k[B]:{}},b=function(k){return P(k,B)}}c.exports={set:p,get:s,has:b,enforce:function(k){return b(k)?s(k):p(k,{})},getterFor:function(k){return function(L){var U;if(!j(L)||(U=s(L)).type!==k)throw X("Incompatible receiver, "+k+" required");return U}}}},function(c,f,a){var p=a(82),s=a(37),b=a(66);c.exports=function(O,w,_){var j=p(w);j in O?s.f(O,j,b(0,_)):O[j]=_}},function(c,f,a){var p=a(17),s=a(201),b=a(76);p({target:"Array",proto:!0},{fill:s}),b("fill")},function(c,f,a){var p=a(9),s=a(30),b=a(84),O=p.TypeError;c.exports=function(w){if(s(w))return w;throw O(b(w)+" is not a function")}},function(c,f,a){var p=a(127),s=a(106);c.exports=Object.keys||function(b){return p(b,s)}},function(c,f,a){var p=a(63),s=Math.max,b=Math.min;c.exports=function(O,w){var _=p(O);return _<0?s(_+w,0):b(_,w)}},function(c,f){var a=Math.ceil,p=Math.floor;c.exports=function(s){var b=+s;return b!=b||b===0?0:(b>0?p:a)(b)}},function(c,f){c.exports={}},function(c,f){c.exports={}},function(c,f){c.exports=function(a,p){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:p}}},function(c,f,a){var p=a(127),s=a(106).concat("length","prototype");f.f=Object.getOwnPropertyNames||function(b){return p(b,s)}},function(c,f,a){a(165)("Map",function(p){return function(){return p(this,arguments.length?arguments[0]:void 0)}},a(169))},function(c,f,a){var p=a(91),s=a(15),b=a(74),O=a(38),w=a(43),_=a(115),j=s([].push),S=function(P){var C=P==1,R=P==2,G=P==3,X=P==4,z=P==6,V=P==7,q=P==5||z;return function(Y,N,B,k){for(var L,U,te=O(Y),$=b(te),ie=p(N,B),ve=w($),ge=0,he=k||_,Ee=C?he(Y,ve):R||V?he(Y,0):void 0;ve>ge;ge++)if((q||ge in $)&&(U=ie(L=$[ge],ge,te),P))if(C)Ee[ge]=U;else if(U)switch(P){case 3:return!0;case 5:return L;case 6:return ge;case 2:j(Ee,L)}else switch(P){case 4:return!1;case 7:j(Ee,L)}return z?-1:G||X?X:Ee}};c.exports={forEach:S(0),map:S(1),filter:S(2),some:S(3),every:S(4),find:S(5),findIndex:S(6),filterReject:S(7)}},function(c,f,a){var p=a(19),s=a(27),b=a(80),O=s("species");c.exports=function(w){return b>=51||!p(function(){var _=[];return(_.constructor={})[O]=function(){return{foo:1}},_[w](Boolean).foo!==1})}},function(c,f,a){var p=a(95),s=a(36),b=a(15),O=a(119),w=a(150),_=a(32),j=a(44),S=a(189),P=a(120),C=a(85),R=a(40),G=a(56),X=a(112),z=a(121),V=a(96),q=a(147),Y=a(19),N=q.UNSUPPORTED_Y,B=Math.min,k=[].push,L=b(/./.exec),U=b(k),te=b("".slice);O("split",function($,ie,ve){var ge;return ge="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(he,Ee){var fe=R(j(this)),ue=Ee===void 0?4294967295:Ee>>>0;if(ue===0)return[];if(he===void 0)return[fe];if(!w(he))return s(ie,fe,he,ue);for(var me,Oe,Ae,Ne=[],ze=(he.ignoreCase?"i":"")+(he.multiline?"m":"")+(he.unicode?"u":"")+(he.sticky?"y":""),Te=0,Ue=new RegExp(he.source,ze+"g");(me=s(V,Ue,fe))&&!((Oe=Ue.lastIndex)>Te&&(U(Ne,te(fe,Te,me.index)),me.length>1&&me.index<fe.length&&p(k,Ne,X(me,1)),Ae=me[0].length,Te=Oe,Ne.length>=ue));)Ue.lastIndex===me.index&&Ue.lastIndex++;return Te===fe.length?!Ae&&L(Ue,"")||U(Ne,""):U(Ne,te(fe,Te)),Ne.length>ue?X(Ne,0,ue):Ne}:"0".split(void 0,0).length?function(he,Ee){return he===void 0&&Ee===0?[]:s(ie,this,he,Ee)}:ie,[function(he,Ee){var fe=j(this),ue=he==null?void 0:G(he,$);return ue?s(ue,he,fe,Ee):s(ge,R(fe),he,Ee)},function(he,Ee){var fe=_(this),ue=R(he),me=ve(ge,fe,ue,Ee,ge!==ie);if(me.done)return me.value;var Oe=S(fe,RegExp),Ae=fe.unicode,Ne=(fe.ignoreCase?"i":"")+(fe.multiline?"m":"")+(fe.unicode?"u":"")+(N?"g":"y"),ze=new Oe(N?"^(?:"+fe.source+")":fe,Ne),Te=Ee===void 0?4294967295:Ee>>>0;if(Te===0)return[];if(ue.length===0)return z(ze,ue)===null?[ue]:[];for(var Ue=0,at=0,Z=[];at<ue.length;){ze.lastIndex=N?0:at;var J,oe=z(ze,N?te(ue,at):ue);if(oe===null||(J=B(C(ze.lastIndex+(N?at:0)),ue.length))===Ue)at=P(ue,at,Ae);else{if(U(Z,te(ue,Ue,at)),Z.length===Te)return Z;for(var ye=1;ye<=oe.length-1;ye++)if(U(Z,oe[ye]),Z.length===Te)return Z;at=Ue=J}}return U(Z,te(ue,Ue)),Z}]},!!Y(function(){var $=/(?:)/,ie=$.exec;$.exec=function(){return ie.apply(this,arguments)};var ve="ab".split($);return ve.length!==2||ve[0]!=="a"||ve[1]!=="b"}),N)},function(c,f,a){var p=a(35),s=a(9),b=a(15),O=a(110),w=a(45),_=a(34),j=a(141),S=a(55),P=a(83),C=a(126),R=a(19),G=a(67).f,X=a(54).f,z=a(37).f,V=a(192),q=a(153).trim,Y=s.Number,N=Y.prototype,B=s.TypeError,k=b("".slice),L=b("".charCodeAt),U=function(he){var Ee=C(he,"number");return typeof Ee=="bigint"?Ee:te(Ee)},te=function(he){var Ee,fe,ue,me,Oe,Ae,Ne,ze,Te=C(he,"number");if(P(Te))throw B("Cannot convert a Symbol value to a number");if(typeof Te=="string"&&Te.length>2){if(Te=q(Te),(Ee=L(Te,0))===43||Ee===45){if((fe=L(Te,2))===88||fe===120)return NaN}else if(Ee===48){switch(L(Te,1)){case 66:case 98:ue=2,me=49;break;case 79:case 111:ue=8,me=55;break;default:return+Te}for(Ae=(Oe=k(Te,2)).length,Ne=0;Ne<Ae;Ne++)if((ze=L(Oe,Ne))<48||ze>me)return NaN;return parseInt(Oe,ue)}}return+Te};if(O("Number",!Y(" 0o1")||!Y("0b1")||Y("+0x1"))){for(var $,ie=function(he){var Ee=arguments.length<1?0:Y(U(he)),fe=this;return S(N,fe)&&R(function(){V(fe)})?j(Object(Ee),fe,ie):Ee},ve=p?G(Y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),ge=0;ve.length>ge;ge++)_(Y,$=ve[ge])&&!_(ie,$)&&z(ie,$,X(Y,$));ie.prototype=N,N.constructor=ie,w(s,"Number",ie)}},function(c,f,a){a(17)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(c,f,a){var p=a(9),s=a(15),b=a(19),O=a(51),w=p.Object,_=s("".split);c.exports=b(function(){return!w("z").propertyIsEnumerable(0)})?function(j){return O(j)=="String"?_(j,""):w(j)}:w},function(c,f){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch(p){typeof window=="object"&&(a=window)}c.exports=a},function(c,f,a){var p=a(27),s=a(52),b=a(37),O=p("unscopables"),w=Array.prototype;w[O]==null&&b.f(w,O,{configurable:!0,value:s(null)}),c.exports=function(_){w[O][_]=!0}},function(c,f,a){var p=a(78),s=a(102);(c.exports=function(b,O){return s[b]||(s[b]=O!==void 0?O:{})})("versions",[]).push({version:"3.19.3",mode:p?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},function(c,f){c.exports=!1},function(c,f,a){var p=a(15),s=0,b=Math.random(),O=p(1 .toString);c.exports=function(w){return"Symbol("+(w===void 0?"":w)+")_"+O(++s+b,36)}},function(c,f,a){var p,s,b=a(9),O=a(81),w=b.process,_=b.Deno,j=w&&w.versions||_&&_.version,S=j&&j.v8;S&&(s=(p=S.split("."))[0]>0&&p[0]<4?1:+(p[0]+p[1])),!s&&O&&(!(p=O.match(/Edge\/(\d+)/))||p[1]>=74)&&(p=O.match(/Chrome\/(\d+)/))&&(s=+p[1]),c.exports=s},function(c,f,a){var p=a(49);c.exports=p("navigator","userAgent")||""},function(c,f,a){var p=a(126),s=a(83);c.exports=function(b){var O=p(b,"string");return s(O)?O:O+""}},function(c,f,a){var p=a(9),s=a(49),b=a(30),O=a(55),w=a(124),_=p.Object;c.exports=w?function(j){return typeof j=="symbol"}:function(j){var S=s("Symbol");return b(S)&&O(S.prototype,_(j))}},function(c,f,a){var p=a(9).String;c.exports=function(s){try{return p(s)}catch(b){return"Object"}}},function(c,f,a){var p=a(63),s=Math.min;c.exports=function(b){return b>0?s(p(b),9007199254740991):0}},function(c,f,a){var p=a(77),s=a(79),b=p("keys");c.exports=function(O){return b[O]||(b[O]=s(O))}},function(c,f,a){var p={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,b=s&&!p.call({1:2},1);f.f=b?function(O){var w=s(this,O);return!!w&&w.enumerable}:p},function(c,f,a){var p=a(35),s=a(34),b=Function.prototype,O=p&&Object.getOwnPropertyDescriptor,w=s(b,"name"),_=w&&function(){}.name==="something",j=w&&(!p||p&&O(b,"name").configurable);c.exports={EXISTS:w,PROPER:_,CONFIGURABLE:j}},function(c,f,a){var p=a(9),s=a(34),b=a(30),O=a(38),w=a(86),_=a(132),j=w("IE_PROTO"),S=p.Object,P=S.prototype;c.exports=_?S.getPrototypeOf:function(C){var R=O(C);if(s(R,j))return R[j];var G=R.constructor;return b(G)&&R instanceof G?G.prototype:R instanceof S?P:null}},function(c,f,a){var p=a(37).f,s=a(34),b=a(27)("toStringTag");c.exports=function(O,w,_){O&&!s(O=_?O:O.prototype,b)&&p(O,b,{configurable:!0,value:w})}},function(c,f,a){var p=a(15),s=a(60),b=p(p.bind);c.exports=function(O,w){return s(O),w===void 0?O:b?b(O,w):function(){return O.apply(w,arguments)}}},function(c,f,a){var p=a(9),s=a(114),b=a(30),O=a(51),w=a(27)("toStringTag"),_=p.Object,j=O(function(){return arguments}())=="Arguments";c.exports=s?O:function(S){var P,C,R;return S===void 0?"Undefined":S===null?"Null":typeof(C=function(G,X){try{return G[X]}catch(z){}}(P=_(S),w))=="string"?C:j?O(P):(R=O(P))=="Object"&&b(P.callee)?"Arguments":R}},function(c,f,a){var p=a(51);c.exports=Array.isArray||function(s){return p(s)=="Array"}},function(c,f,a){var p=a(15),s=a(19),b=a(30),O=a(92),w=a(49),_=a(107),j=function(){},S=[],P=w("Reflect","construct"),C=/^\s*(?:class|function)\b/,R=p(C.exec),G=!C.exec(j),X=function(z){if(!b(z))return!1;try{return P(j,S,z),!0}catch(V){return!1}};c.exports=!P||s(function(){var z;return X(X.call)||!X(Object)||!X(function(){z=!0})||z})?function(z){if(!b(z))return!1;switch(O(z)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return G||!!R(C,_(z))}:X},function(c,f){var a=Function.prototype,p=a.apply,s=a.bind,b=a.call;c.exports=typeof Reflect=="object"&&Reflect.apply||(s?b.bind(p):function(){return b.apply(p,arguments)})},function(c,f,a){var p,s,b=a(36),O=a(15),w=a(40),_=a(178),j=a(147),S=a(77),P=a(52),C=a(57).get,R=a(179),G=a(180),X=S("native-string-replace",String.prototype.replace),z=RegExp.prototype.exec,V=z,q=O("".charAt),Y=O("".indexOf),N=O("".replace),B=O("".slice),k=(s=/b*/g,b(z,p=/a/,"a"),b(z,s,"a"),p.lastIndex!==0||s.lastIndex!==0),L=j.BROKEN_CARET,U=/()??/.exec("")[1]!==void 0;(k||U||L||R||G)&&(V=function(te){var $,ie,ve,ge,he,Ee,fe,ue=this,me=C(ue),Oe=w(te),Ae=me.raw;if(Ae)return Ae.lastIndex=ue.lastIndex,$=b(V,Ae,Oe),ue.lastIndex=Ae.lastIndex,$;var Ne=me.groups,ze=L&&ue.sticky,Te=b(_,ue),Ue=ue.source,at=0,Z=Oe;if(ze&&(Te=N(Te,"y",""),Y(Te,"g")===-1&&(Te+="g"),Z=B(Oe,ue.lastIndex),ue.lastIndex>0&&(!ue.multiline||ue.multiline&&q(Oe,ue.lastIndex-1)!==`
`)&&(Ue="(?: "+Ue+")",Z=" "+Z,at++),ie=new RegExp("^(?:"+Ue+")",Te)),U&&(ie=new RegExp("^"+Ue+"$(?!\\s)",Te)),k&&(ve=ue.lastIndex),ge=b(z,ze?ie:ue,Z),ze?ge?(ge.input=B(ge.input,at),ge[0]=B(ge[0],at),ge.index=ue.lastIndex,ue.lastIndex+=ge[0].length):ue.lastIndex=0:k&&ge&&(ue.lastIndex=ue.global?ge.index+ge[0].length:ve),U&&ge&&ge.length>1&&b(X,ge[0],ie,function(){for(he=1;he<arguments.length-2;he++)arguments[he]===void 0&&(ge[he]=void 0)}),ge&&Ne)for(ge.groups=Ee=P(null),he=0;he<Ne.length;he++)Ee[(fe=Ne[he])[0]]=ge[fe[1]];return ge}),c.exports=V},function(c,f,a){var p=a(17),s=a(9),b=a(62),O=a(63),w=a(43),_=a(38),j=a(115),S=a(58),P=a(70)("splice"),C=s.TypeError,R=Math.max,G=Math.min;p({target:"Array",proto:!0,forced:!P},{splice:function(X,z){var V,q,Y,N,B,k,L=_(this),U=w(L),te=b(X,U),$=arguments.length;if($===0?V=q=0:$===1?(V=0,q=U-te):(V=$-2,q=G(R(O(z),0),U-te)),U+V-q>9007199254740991)throw C("Maximum allowed length exceeded");for(Y=j(L,q),N=0;N<q;N++)(B=te+N)in L&&S(Y,N,L[B]);if(Y.length=q,V<q){for(N=te;N<U-q;N++)k=N+V,(B=N+q)in L?L[k]=L[B]:delete L[k];for(N=U;N>U-q+V;N--)delete L[N-1]}else if(V>q)for(N=U-q;N>te;N--)k=N+V-1,(B=N+q-1)in L?L[k]=L[B]:delete L[k];for(N=0;N<V;N++)L[N+te]=arguments[N+2];return L.length=U-q+V,Y}})},function(c,f,a){var p=a(17),s=a(15),b=a(74),O=a(39),w=a(116),_=s([].join),j=b!=Object,S=w("join",",");p({target:"Array",proto:!0,forced:j||!S},{join:function(P){return _(O(this),P===void 0?",":P)}})},function(c,f,a){var p=a(17),s=a(197);p({target:"String",proto:!0,forced:a(198)("anchor")},{anchor:function(b){return s(this,"a","name",b)}})},function(c,f,a){(function(p){var s=typeof p=="object"&&p&&p.Object===Object&&p;f.a=s}).call(this,a(75))},function(c,f,a){(function(p){var s=a(29),b=h&&!h.nodeType&&h,O=b&&typeof p=="object"&&p&&!p.nodeType&&p,w=O&&O.exports===b?s.a.Buffer:void 0,_=w?w.allocUnsafe:void 0;f.a=function(j,S){if(S)return j.slice();var P=j.length,C=_?_(P):new j.constructor(P);return j.copy(C),C}}).call(this,a(118)(c))},function(c,f,a){var p=a(9),s=a(103),b=p["__core-js_shared__"]||s("__core-js_shared__",{});c.exports=b},function(c,f,a){var p=a(9),s=Object.defineProperty;c.exports=function(b,O){try{s(p,b,{value:O,configurable:!0,writable:!0})}catch(w){p[b]=O}return O}},function(c,f,a){var p=a(80),s=a(19);c.exports=!!Object.getOwnPropertySymbols&&!s(function(){var b=Symbol();return!String(b)||!(Object(b)instanceof Symbol)||!Symbol.sham&&p&&p<41})},function(c,f,a){var p=a(9),s=a(33),b=p.document,O=s(b)&&s(b.createElement);c.exports=function(w){return O?b.createElement(w):{}}},function(c,f){c.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(c,f,a){var p=a(15),s=a(30),b=a(102),O=p(Function.toString);s(b.inspectSource)||(b.inspectSource=function(w){return O(w)}),c.exports=b.inspectSource},function(c,f,a){var p=a(17),s=a(36),b=a(78),O=a(88),w=a(30),_=a(163),j=a(89),S=a(111),P=a(90),C=a(53),R=a(45),G=a(27),X=a(65),z=a(131),V=O.PROPER,q=O.CONFIGURABLE,Y=z.IteratorPrototype,N=z.BUGGY_SAFARI_ITERATORS,B=G("iterator"),k=function(){return this};c.exports=function(L,U,te,$,ie,ve,ge){_(te,U,$);var he,Ee,fe,ue=function(Ue){if(Ue===ie&&ze)return ze;if(!N&&Ue in Ae)return Ae[Ue];switch(Ue){case"keys":case"values":case"entries":return function(){return new te(this,Ue)}}return function(){return new te(this)}},me=U+" Iterator",Oe=!1,Ae=L.prototype,Ne=Ae[B]||Ae["@@iterator"]||ie&&Ae[ie],ze=!N&&Ne||ue(ie),Te=U=="Array"&&Ae.entries||Ne;if(Te&&(he=j(Te.call(new L)))!==Object.prototype&&he.next&&(b||j(he)===Y||(S?S(he,Y):w(he[B])||R(he,B,k)),P(he,me,!0,!0),b&&(X[me]=k)),V&&ie=="values"&&Ne&&Ne.name!=="values"&&(!b&&q?C(Ae,"name","values"):(Oe=!0,ze=function(){return s(Ne,this)})),ie)if(Ee={values:ue("values"),keys:ve?ze:ue("keys"),entries:ue("entries")},ge)for(fe in Ee)(N||Oe||!(fe in Ae))&&R(Ae,fe,Ee[fe]);else p({target:U,proto:!0,forced:N||Oe},Ee);return b&&!ge||Ae[B]===ze||R(Ae,B,ze,{name:ie}),X[U]=ze,Ee}},function(c,f){f.f=Object.getOwnPropertySymbols},function(c,f,a){var p=a(19),s=a(30),b=/#|\.prototype\./,O=function(P,C){var R=_[w(P)];return R==S||R!=j&&(s(C)?p(C):!!C)},w=O.normalize=function(P){return String(P).replace(b,".").toLowerCase()},_=O.data={},j=O.NATIVE="N",S=O.POLYFILL="P";c.exports=O},function(c,f,a){var p=a(15),s=a(32),b=a(164);c.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var O,w=!1,_={};try{(O=p(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(_,[]),w=_ instanceof Array}catch(j){}return function(j,S){return s(j),b(S),w?O(j,S):j.__proto__=S,j}}():void 0)},function(c,f,a){var p=a(9),s=a(62),b=a(43),O=a(58),w=p.Array,_=Math.max;c.exports=function(j,S,P){for(var C=b(j),R=s(S,C),G=s(P===void 0?C:P,C),X=w(_(G-R,0)),z=0;R<G;R++,z++)O(X,z,j[R]);return X.length=z,X}},function(c,f,a){var p=a(92),s=a(56),b=a(65),O=a(27)("iterator");c.exports=function(w){if(w!=null)return s(w,O)||s(w,"@@iterator")||b[p(w)]}},function(c,f,a){var p={};p[a(27)("toStringTag")]="z",c.exports=String(p)==="[object z]"},function(c,f,a){var p=a(174);c.exports=function(s,b){return new(p(s))(b===0?0:b)}},function(c,f,a){var p=a(19);c.exports=function(s,b){var O=[][s];return!!O&&p(function(){O.call(null,b||function(){throw 1},1)})}},function(c,f,a){var p=a(15);c.exports=p([].slice)},function(c,f){c.exports=function(a){if(!a.webpackPolyfill){var p=Object.create(a);p.children||(p.children=[]),Object.defineProperty(p,"loaded",{enumerable:!0,get:function(){return p.l}}),Object.defineProperty(p,"id",{enumerable:!0,get:function(){return p.i}}),Object.defineProperty(p,"exports",{enumerable:!0}),p.webpackPolyfill=1}return p}},function(c,f,a){a(18);var p=a(15),s=a(45),b=a(96),O=a(19),w=a(27),_=a(53),j=w("species"),S=RegExp.prototype;c.exports=function(P,C,R,G){var X=w(P),z=!O(function(){var N={};return N[X]=function(){return 7},""[P](N)!=7}),V=z&&!O(function(){var N=!1,B=/a/;return P==="split"&&((B={}).constructor={},B.constructor[j]=function(){return B},B.flags="",B[X]=/./[X]),B.exec=function(){return N=!0,null},B[X](""),!N});if(!z||!V||R){var q=p(/./[X]),Y=C(X,""[P],function(N,B,k,L,U){var te=p(N),$=B.exec;return $===b||$===S.exec?z&&!U?{done:!0,value:q(B,k,L)}:{done:!0,value:te(k,B,L)}:{done:!1}});s(String.prototype,P,Y[0]),s(S,X,Y[1])}G&&_(S[X],"sham",!0)}},function(c,f,a){var p=a(142).charAt;c.exports=function(s,b,O){return b+(O?p(s,b).length:1)}},function(c,f,a){var p=a(9),s=a(36),b=a(32),O=a(30),w=a(51),_=a(96),j=p.TypeError;c.exports=function(S,P){var C=S.exec;if(O(C)){var R=s(C,S,P);return R!==null&&b(R),R}if(w(S)==="RegExp")return s(_,S,P);throw j("RegExp#exec called on incompatible receiver")}},function(c,f,a){var p=a(95),s=a(36),b=a(15),O=a(119),w=a(19),_=a(32),j=a(30),S=a(63),P=a(85),C=a(40),R=a(44),G=a(120),X=a(56),z=a(193),V=a(121),q=a(27)("replace"),Y=Math.max,N=Math.min,B=b([].concat),k=b([].push),L=b("".indexOf),U=b("".slice),te="a".replace(/./,"$0")==="$0",$=!!/./[q]&&/./[q]("a","$0")==="";O("replace",function(ie,ve,ge){var he=$?"$":"$0";return[function(Ee,fe){var ue=R(this),me=Ee==null?void 0:X(Ee,q);return me?s(me,Ee,ue,fe):s(ve,C(ue),Ee,fe)},function(Ee,fe){var ue=_(this),me=C(Ee);if(typeof fe=="string"&&L(fe,he)===-1&&L(fe,"$<")===-1){var Oe=ge(ve,ue,me,fe);if(Oe.done)return Oe.value}var Ae=j(fe);Ae||(fe=C(fe));var Ne=ue.global;if(Ne){var ze=ue.unicode;ue.lastIndex=0}for(var Te=[];;){var Ue=V(ue,me);if(Ue===null||(k(Te,Ue),!Ne))break;C(Ue[0])===""&&(ue.lastIndex=G(me,P(ue.lastIndex),ze))}for(var at,Z="",J=0,oe=0;oe<Te.length;oe++){for(var ye=C((Ue=Te[oe])[0]),Pe=Y(N(S(Ue.index),me.length),0),_e=[],We=1;We<Ue.length;We++)k(_e,(at=Ue[We])===void 0?at:String(at));var Xe=Ue.groups;if(Ae){var qe=B([ye],_e,Pe,me);Xe!==void 0&&k(qe,Xe);var Ye=C(p(fe,void 0,qe))}else Ye=z(ye,me,Pe,_e,Xe,fe);Pe>=J&&(Z+=U(me,J,Pe)+Ye,J=Pe+ye.length)}return Z+U(me,J)}]},!!w(function(){var ie=/./;return ie.exec=function(){var ve=[];return ve.groups={a:"7"},ve},"".replace(ie,"$<a>")!=="7"})||!te||$)},function(c,f,a){a(17)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(c,f,a){var p=a(104);c.exports=p&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(c,f,a){var p=a(35),s=a(19),b=a(105);c.exports=!p&&!s(function(){return Object.defineProperty(b("div"),"a",{get:function(){return 7}}).a!=7})},function(c,f,a){var p=a(9),s=a(36),b=a(33),O=a(83),w=a(56),_=a(160),j=a(27),S=p.TypeError,P=j("toPrimitive");c.exports=function(C,R){if(!b(C)||O(C))return C;var G,X=w(C,P);if(X){if(R===void 0&&(R="default"),G=s(X,C,R),!b(G)||O(G))return G;throw S("Can't convert object to primitive value")}return R===void 0&&(R="number"),_(C,R)}},function(c,f,a){var p=a(15),s=a(34),b=a(39),O=a(128).indexOf,w=a(64),_=p([].push);c.exports=function(j,S){var P,C=b(j),R=0,G=[];for(P in C)!s(w,P)&&s(C,P)&&_(G,P);for(;S.length>R;)s(C,P=S[R++])&&(~O(G,P)||_(G,P));return G}},function(c,f,a){var p=a(39),s=a(62),b=a(43),O=function(w){return function(_,j,S){var P,C=p(_),R=b(C),G=s(S,R);if(w&&j!=j){for(;R>G;)if((P=C[G++])!=P)return!0}else for(;R>G;G++)if((w||G in C)&&C[G]===j)return w||G||0;return!w&&-1}};c.exports={includes:O(!0),indexOf:O(!1)}},function(c,f,a){var p=a(34),s=a(130),b=a(54),O=a(37);c.exports=function(w,_){for(var j=s(_),S=O.f,P=b.f,C=0;C<j.length;C++){var R=j[C];p(w,R)||S(w,R,P(_,R))}}},function(c,f,a){var p=a(49),s=a(15),b=a(67),O=a(109),w=a(32),_=s([].concat);c.exports=p("Reflect","ownKeys")||function(j){var S=b.f(w(j)),P=O.f;return P?_(S,P(j)):S}},function(c,f,a){var p,s,b,O=a(19),w=a(30),_=a(52),j=a(89),S=a(45),P=a(27),C=a(78),R=P("iterator"),G=!1;[].keys&&("next"in(b=[].keys())?(s=j(j(b)))!==Object.prototype&&(p=s):G=!0),p==null||O(function(){var X={};return p[R].call(X)!==X})?p={}:C&&(p=_(p)),w(p[R])||S(p,R,function(){return this}),c.exports={IteratorPrototype:p,BUGGY_SAFARI_ITERATORS:G}},function(c,f,a){var p=a(19);c.exports=!p(function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype})},function(c,f,a){var p=a(17),s=a(15),b=a(64),O=a(33),w=a(34),_=a(37).f,j=a(67),S=a(134),P=a(166),C=a(79),R=a(168),G=!1,X=C("meta"),z=0,V=function(Y){_(Y,X,{value:{objectID:"O"+z++,weakData:{}}})},q=c.exports={enable:function(){q.enable=function(){},G=!0;var Y=j.f,N=s([].splice),B={};B[X]=1,Y(B).length&&(j.f=function(k){for(var L=Y(k),U=0,te=L.length;U<te;U++)if(L[U]===X){N(L,U,1);break}return L},p({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:S.f}))},fastKey:function(Y,N){if(!O(Y))return typeof Y=="symbol"?Y:(typeof Y=="string"?"S":"P")+Y;if(!w(Y,X)){if(!P(Y))return"F";if(!N)return"E";V(Y)}return Y[X].objectID},getWeakData:function(Y,N){if(!w(Y,X)){if(!P(Y))return!0;if(!N)return!1;V(Y)}return Y[X].weakData},onFreeze:function(Y){return R&&G&&P(Y)&&!w(Y,X)&&V(Y),Y}};b[X]=!0},function(c,f,a){var p=a(51),s=a(39),b=a(67).f,O=a(112),w=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];c.exports.f=function(_){return w&&p(_)=="Window"?function(j){try{return b(j)}catch(S){return O(w)}}(_):b(s(_))}},function(c,f,a){var p=a(9),s=a(91),b=a(36),O=a(32),w=a(84),_=a(136),j=a(43),S=a(55),P=a(137),C=a(113),R=a(138),G=p.TypeError,X=function(V,q){this.stopped=V,this.result=q},z=X.prototype;c.exports=function(V,q,Y){var N,B,k,L,U,te,$,ie=Y&&Y.that,ve=!(!Y||!Y.AS_ENTRIES),ge=!(!Y||!Y.IS_ITERATOR),he=!(!Y||!Y.INTERRUPTED),Ee=s(q,ie),fe=function(me){return N&&R(N,"normal",me),new X(!0,me)},ue=function(me){return ve?(O(me),he?Ee(me[0],me[1],fe):Ee(me[0],me[1])):he?Ee(me,fe):Ee(me)};if(ge)N=V;else{if(!(B=C(V)))throw G(w(V)+" is not iterable");if(_(B)){for(k=0,L=j(V);L>k;k++)if((U=ue(V[k]))&&S(z,U))return U;return new X(!1)}N=P(V,B)}for(te=N.next;!($=b(te,N)).done;){try{U=ue($.value)}catch(me){R(N,"throw",me)}if(typeof U=="object"&&U&&S(z,U))return U}return new X(!1)}},function(c,f,a){var p=a(27),s=a(65),b=p("iterator"),O=Array.prototype;c.exports=function(w){return w!==void 0&&(s.Array===w||O[b]===w)}},function(c,f,a){var p=a(9),s=a(36),b=a(60),O=a(32),w=a(84),_=a(113),j=p.TypeError;c.exports=function(S,P){var C=arguments.length<2?_(S):P;if(b(C))return O(s(C,S));throw j(w(S)+" is not iterable")}},function(c,f,a){var p=a(36),s=a(32),b=a(56);c.exports=function(O,w,_){var j,S;s(O);try{if(!(j=b(O,"return"))){if(w==="throw")throw _;return _}j=p(j,O)}catch(P){S=!0,j=P}if(w==="throw")throw _;if(S)throw j;return s(j),_}},function(c,f,a){var p=a(9),s=a(55),b=p.TypeError;c.exports=function(O,w){if(s(w,O))return O;throw b("Incorrect invocation")}},function(c,f,a){var p=a(27)("iterator"),s=!1;try{var b=0,O={next:function(){return{done:!!b++}},return:function(){s=!0}};O[p]=function(){return this},Array.from(O,function(){throw 2})}catch(w){}c.exports=function(w,_){if(!_&&!s)return!1;var j=!1;try{var S={};S[p]=function(){return{next:function(){return{done:j=!0}}}},w(S)}catch(P){}return j}},function(c,f,a){var p=a(30),s=a(33),b=a(111);c.exports=function(O,w,_){var j,S;return b&&p(j=w.constructor)&&j!==_&&s(S=j.prototype)&&S!==_.prototype&&b(O,S),O}},function(c,f,a){var p=a(15),s=a(63),b=a(40),O=a(44),w=p("".charAt),_=p("".charCodeAt),j=p("".slice),S=function(P){return function(C,R){var G,X,z=b(O(C)),V=s(R),q=z.length;return V<0||V>=q?P?"":void 0:(G=_(z,V))<55296||G>56319||V+1===q||(X=_(z,V+1))<56320||X>57343?P?w(z,V):G:P?j(z,V,V+2):X-56320+(G-55296<<10)+65536}};c.exports={codeAt:S(!1),charAt:S(!0)}},function(c,f){c.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(c,f,a){var p=a(105)("span").classList,s=p&&p.constructor&&p.constructor.prototype;c.exports=s===Object.prototype?void 0:s},function(c,f,a){var p=a(27);f.f=p},function(c,f,a){var p=a(175),s=a(34),b=a(145),O=a(37).f;c.exports=function(w){var _=p.Symbol||(p.Symbol={});s(_,w)||O(_,w,{value:b.f(w)})}},function(c,f,a){var p=a(19),s=a(9).RegExp,b=p(function(){var _=s("a","y");return _.lastIndex=2,_.exec("abcd")!=null}),O=b||p(function(){return!s("a","y").sticky}),w=b||p(function(){var _=s("^r","gy");return _.lastIndex=2,_.exec("str")!=null});c.exports={BROKEN_CARET:w,MISSED_STICKY:O,UNSUPPORTED_Y:b}},function(c,f,a){var p=a(17),s=a(128).includes,b=a(76);p({target:"Array",proto:!0},{includes:function(O){return s(this,O,arguments.length>1?arguments[1]:void 0)}}),b("includes")},function(c,f,a){var p=a(17),s=a(15),b=a(187),O=a(44),w=a(40),_=a(188),j=s("".indexOf);p({target:"String",proto:!0,forced:!_("includes")},{includes:function(S){return!!~j(w(O(this)),w(b(S)),arguments.length>1?arguments[1]:void 0)}})},function(c,f,a){var p=a(33),s=a(51),b=a(27)("match");c.exports=function(O){var w;return p(O)&&((w=O[b])!==void 0?!!w:s(O)=="RegExp")}},function(c,f){var a,p,s=c.exports={};function b(){throw new Error("setTimeout has not been defined")}function O(){throw new Error("clearTimeout has not been defined")}function w(z){if(a===setTimeout)return setTimeout(z,0);if((a===b||!a)&&setTimeout)return a=setTimeout,setTimeout(z,0);try{return a(z,0)}catch(V){try{return a.call(null,z,0)}catch(q){return a.call(this,z,0)}}}(function(){try{a=typeof setTimeout=="function"?setTimeout:b}catch(z){a=b}try{p=typeof clearTimeout=="function"?clearTimeout:O}catch(z){p=O}})();var _,j=[],S=!1,P=-1;function C(){S&&_&&(S=!1,_.length?j=_.concat(j):P=-1,j.length&&R())}function R(){if(!S){var z=w(C);S=!0;for(var V=j.length;V;){for(_=j,j=[];++P<V;)_&&_[P].run();P=-1,V=j.length}_=null,S=!1,function(q){if(p===clearTimeout)return clearTimeout(q);if((p===O||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(q);try{p(q)}catch(Y){try{return p.call(null,q)}catch(N){return p.call(this,q)}}}(z)}}function G(z,V){this.fun=z,this.array=V}function X(){}s.nextTick=function(z){var V=new Array(arguments.length-1);if(arguments.length>1)for(var q=1;q<arguments.length;q++)V[q-1]=arguments[q];j.push(new G(z,V)),j.length!==1||S||w(R)},G.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=X,s.addListener=X,s.once=X,s.off=X,s.removeListener=X,s.removeAllListeners=X,s.emit=X,s.prependListener=X,s.prependOnceListener=X,s.listeners=function(z){return[]},s.binding=function(z){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(z){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(c,f,a){var p=a(9),s=a(94),b=a(84),O=p.TypeError;c.exports=function(w){if(s(w))return w;throw O(b(w)+" is not a constructor")}},function(c,f,a){var p=a(15),s=a(44),b=a(40),O=a(154),w=p("".replace),_="["+O+"]",j=RegExp("^"+_+_+"*"),S=RegExp(_+_+"*$"),P=function(C){return function(R){var G=b(s(R));return 1&C&&(G=w(G,j,"")),2&C&&(G=w(G,S,"")),G}};c.exports={start:P(1),end:P(2),trim:P(3)}},function(c,f){c.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(c,f,a){var p=a(36),s=a(119),b=a(32),O=a(85),w=a(40),_=a(44),j=a(56),S=a(120),P=a(121);s("match",function(C,R,G){return[function(X){var z=_(this),V=X==null?void 0:j(X,C);return V?p(V,X,z):new RegExp(X)[C](w(z))},function(X){var z=b(this),V=w(X),q=G(R,z,V);if(q.done)return q.value;if(!z.global)return P(z,V);var Y=z.unicode;z.lastIndex=0;for(var N,B=[],k=0;(N=P(z,V))!==null;){var L=w(N[0]);B[k]=L,L===""&&(z.lastIndex=S(V,O(z.lastIndex),Y)),k++}return k===0?null:B}]})},function(c,f,a){f.a=function(){return!1}},function(c,f,a){(function(p){a.d(f,"a",function(){return V});var s=a(0);function b(N){throw new Error("[mobx-utils] "+N)}function O(N,B){B===void 0&&(B="Illegal state"),N||b(B)}var w=function(N){return N&&N!==Object.prototype&&Object.getOwnPropertyNames(N).concat(w(Object.getPrototypeOf(N))||[])},_=function(N){return function(B){var k=w(B);return k.filter(function(L,U){return k.indexOf(L)===U})}(N).filter(function(B){return B!=="constructor"&&!~B.indexOf("__")})};function j(N){switch(this.state){case"pending":return N.pending&&N.pending(this.value);case"rejected":return N.rejected&&N.rejected(this.value);case"fulfilled":return N.fulfilled?N.fulfilled(this.value):this.value}}function S(N,B){if(O(arguments.length<=2,"fromPromise expects up to two arguments"),O(typeof N=="function"||typeof N=="object"&&N&&typeof N.then=="function","Please pass a promise or function to fromPromise"),N.isPromiseBasedObservable===!0)return N;typeof N=="function"&&(N=new Promise(N));var k=N;N.then(Object(s.k)("observableFromPromise-resolve",function(U){k.value=U,k.state="fulfilled"}),Object(s.k)("observableFromPromise-reject",function(U){k.value=U,k.state="rejected"})),k.isPromiseBasedObservable=!0,k.case=j;var L=B&&B.state==="fulfilled"?B.value:void 0;return Object(s.q)(k,{value:L,state:"pending"},{},{deep:!1}),k}(function(N){N.reject=Object(s.k)("fromPromise.reject",function(B){var k=N(Promise.reject(B));return k.state="rejected",k.value=B,k}),N.resolve=Object(s.k)("fromPromise.resolve",function(B){B===void 0&&(B=void 0);var k=N(Promise.resolve(B));return k.state="fulfilled",k.value=B,k})})(S||(S={}));var P=function(N,B,k,L){var U,te=arguments.length,$=te<3?B:L===null?L=Object.getOwnPropertyDescriptor(B,k):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(N,B,k,L);else for(var ie=N.length-1;ie>=0;ie--)(U=N[ie])&&($=(te<3?U($):te>3?U(B,k,$):U(B,k))||$);return te>3&&$&&Object.defineProperty(B,k,$),$};(function(){function N(B,k){var L=this;Object(s.G)(function(){L.current=k,L.subscription=B.subscribe(L)})}N.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},N.prototype.next=function(B){this.current=B},N.prototype.complete=function(){this.dispose()},N.prototype.error=function(B){this.current=B,this.dispose()},P([s.C.ref],N.prototype,"current",void 0),P([s.k.bound],N.prototype,"next",null),P([s.k.bound],N.prototype,"complete",null),P([s.k.bound],N.prototype,"error",null)})();var C=function(){return(C=Object.assign||function(N){for(var B,k=1,L=arguments.length;k<L;k++)for(var U in B=arguments[k])Object.prototype.hasOwnProperty.call(B,U)&&(N[U]=B[U]);return N}).apply(this,arguments)},R=function(N,B,k,L){var U,te=arguments.length,$=te<3?B:L===null?L=Object.getOwnPropertyDescriptor(B,k):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(N,B,k,L);else for(var ie=N.length-1;ie>=0;ie--)(U=N[ie])&&($=(te<3?U($):te>3?U(B,k,$):U(B,k))||$);return te>3&&$&&Object.defineProperty(B,k,$),$},G=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function N(B){var k=this;this.model=B,this.localValues=s.C.map({}),this.localComputedValues=s.C.map({}),this.isPropertyDirty=function(L){return k.localValues.has(L)},O(Object(s.A)(B),"createViewModel expects an observable object"),_(B).forEach(function(L){if(L!==s.a&&L!=="__mobxDidRunLazyInitializers"){if(O(G.indexOf(L)===-1,"The propertyname "+L+" is reserved and cannot be used with viewModels"),Object(s.w)(B,L)){var U=Object(s.h)(B,L).derivation;k.localComputedValues.set(L,Object(s.m)(U.bind(k)))}var te=Object.getOwnPropertyDescriptor(B,L),$=te?{enumerable:te.enumerable}:{};Object.defineProperty(k,L,C(C({},$),{configurable:!0,get:function(){return Object(s.w)(B,L)?k.localComputedValues.get(L).get():k.isPropertyDirty(L)?k.localValues.get(L):k.model[L]},set:Object(s.k)(function(ie){ie!==k.model[L]?k.localValues.set(L,ie):k.localValues.delete(L)})}))}})}Object.defineProperty(N.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),N.prototype.submit=function(){var B=this;Object(s.B)(this.localValues).forEach(function(k){var L=B.localValues.get(k),U=B.model[k];Object(s.y)(U)?U.replace(L):Object(s.z)(U)?(U.clear(),U.merge(L)):Object(s.v)(L)||(B.model[k]=L)}),this.localValues.clear()},N.prototype.reset=function(){this.localValues.clear()},N.prototype.resetProperty=function(B){this.localValues.delete(B)},R([s.m],N.prototype,"isDirty",null),R([s.m],N.prototype,"changedValues",null),R([s.k.bound],N.prototype,"submit",null),R([s.k.bound],N.prototype,"reset",null),R([s.k.bound],N.prototype,"resetProperty",null)})();function X(N){if(!N)return"ROOT";for(var B=[];N.parent;)B.push(N.path),N=N.parent;return B.reverse().join("/")}function z(N){return Object(s.A)(N)||Object(s.y)(N)||Object(s.z)(N)}function V(N,B){var k=new WeakMap;function L($){var ie=k.get($.object);(function(ve,ge){switch(ve.type){case"add":U(ve.newValue,ge,ve.name);break;case"update":te(ve.oldValue),U(ve.newValue,ge,ve.name||""+ve.index);break;case"remove":case"delete":te(ve.oldValue);break;case"splice":ve.removed.map(te),ve.added.forEach(function(fe,ue){return U(fe,ge,""+(ve.index+ue))});for(var he=ve.index+ve.addedCount;he<ve.object.length;he++)if(z(ve.object[he])){var Ee=k.get(ve.object[he]);Ee&&(Ee.path=""+he)}}})($,ie),B($,X(ie),N)}function U($,ie,ve){if(z($)){var ge=k.get($);if(ge){if(ge.parent!==ie||ge.path!==ve)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+X(ie)+"/"+ve+"', but it already exists at '"+X(ge.parent)+"/"+ge.path+"'")}else{var he={parent:ie,path:ve,dispose:Object(s.D)($,L)};k.set($,he),Object(s.p)($).forEach(function(Ee){var fe=Ee[0];return U(Ee[1],he,fe)})}}}function te($){if(z($)){var ie=k.get($);if(!ie)return;k.delete($),ie.dispose(),Object(s.L)($).forEach(te)}}return U(N,void 0,""),function(){te(N)}}var q,Y=(q=function(N,B){return(q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,L){k.__proto__=L}||function(k,L){for(var U in L)L.hasOwnProperty(U)&&(k[U]=L[U])})(N,B)},function(N,B){function k(){this.constructor=N}q(N,B),N.prototype=B===null?Object.create(B):(k.prototype=B.prototype,new k)});(function(N){function B(k,L,U){var te=U===void 0?{}:U,$=te.name,ie=$===void 0?"ogm"+(1e3*Math.random()|0):$,ve=te.keyToName,ge=ve===void 0?function(fe){return""+fe}:ve,he=N.call(this)||this;he._keyToName=ge,he._groupBy=L,he._ogmInfoKey=Symbol("ogmInfo"+ie),he._base=k;for(var Ee=0;Ee<k.length;Ee++)he._addItem(k[Ee]);return he._disposeBaseObserver=Object(s.D)(he._base,function(fe){if(fe.type==="splice")Object(s.J)(function(){for(var ue=0,me=fe.removed;ue<me.length;ue++){var Oe=me[ue];he._removeItem(Oe)}for(var Ae=0,Ne=fe.added;Ae<Ne.length;Ae++){var ze=Ne[Ae];he._addItem(ze)}});else{if(fe.type!=="update")throw new Error("illegal state");Object(s.J)(function(){he._removeItem(fe.oldValue),he._addItem(fe.newValue)})}}),he}Y(B,N),B.prototype.clear=function(){throw new Error("not supported")},B.prototype.delete=function(k){throw new Error("not supported")},B.prototype.set=function(k,L){throw new Error("not supported")},B.prototype.dispose=function(){this._disposeBaseObserver();for(var k=0;k<this._base.length;k++){var L=this._base[k];L[this._ogmInfoKey].reaction(),delete L[this._ogmInfoKey]}},B.prototype._getGroupArr=function(k){var L=N.prototype.get.call(this,k);return L===void 0&&(L=Object(s.C)([],{name:"GroupArray["+this._keyToName(k)+"]",deep:!1}),N.prototype.set.call(this,k,L)),L},B.prototype._removeFromGroupArr=function(k,L){var U=N.prototype.get.call(this,k);U.length===1?N.prototype.delete.call(this,k):(L===U.length-1||(U[L]=U[U.length-1],U[L][this._ogmInfoKey].groupArrIndex=L),U.length--)},B.prototype._addItem=function(k){var L=this,U=this._groupBy(k),te=this._getGroupArr(U),$={groupByValue:U,groupArrIndex:te.length,reaction:Object(s.F)(function(){return L._groupBy(k)},function(ie,ve){var ge=k[L._ogmInfoKey];L._removeFromGroupArr(ge.groupByValue,ge.groupArrIndex);var he=L._getGroupArr(ie),Ee=he.length;he.push(k),ge.groupByValue=ie,ge.groupArrIndex=Ee})};Object.defineProperty(k,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:$}),te.push(k)},B.prototype._removeItem=function(k){var L=k[this._ogmInfoKey];this._removeFromGroupArr(L.groupByValue,L.groupArrIndex),L.reaction(),delete k[this._ogmInfoKey]}})(s.b),function(){function N(B,k){this.base=B,this.args=k,this.closestIdx=0,this.isDisposed=!1;for(var L=this.closest=this.root=B,U=0;U<this.args.length-1&&(L=L.get(k[U]));U++)this.closest=L;this.closestIdx=U}return N.prototype.exists=function(){this.assertNotDisposed();var B=this.args.length;return this.closestIdx>=B-1&&this.closest.has(this.args[B-1])},N.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},N.prototype.set=function(B){this.assertNotDisposed();for(var k=this.args.length,L=this.closest,U=this.closestIdx;U<k-1;U++){var te=new Map;L.set(this.args[U],te),L=te}this.closestIdx=k-1,this.closest=L,L.set(this.args[k-1],B)},N.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var B=this.args.length;this.closest.delete(this.args[B-1]);for(var k=this.root,L=[k],U=0;U<B-1;U++)k=k.get(this.args[U]),L.push(k);for(U=L.length-1;U>0;U--)L[U].size===0&&L[U-1].delete(this.args[U-1]);this.isDisposed=!0},N.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},N}(),Promise.resolve(),typeof queueMicrotask!="undefined"||p!==void 0&&p.nextTick}).call(this,a(151))},function(c,f,a){var p;(function(s,b,O){if(s){for(var w,_={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},j={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},S={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},P={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},C=1;C<20;++C)_[111+C]="f"+C;for(C=0;C<=9;++C)_[C+96]=C.toString();q.prototype.bind=function(Y,N,B){return Y=Y instanceof Array?Y:[Y],this._bindMultiple.call(this,Y,N,B),this},q.prototype.unbind=function(Y,N){return this.bind.call(this,Y,function(){},N)},q.prototype.trigger=function(Y,N){return this._directMap[Y+":"+N]&&this._directMap[Y+":"+N]({},Y),this},q.prototype.reset=function(){return this._callbacks={},this._directMap={},this},q.prototype.stopCallback=function(Y,N){if((" "+N.className+" ").indexOf(" mousetrap ")>-1||function k(L,U){return L!==null&&L!==b&&(L===U||k(L.parentNode,U))}(N,this.target))return!1;if("composedPath"in Y&&typeof Y.composedPath=="function"){var B=Y.composedPath()[0];B!==Y.target&&(N=B)}return N.tagName=="INPUT"||N.tagName=="SELECT"||N.tagName=="TEXTAREA"||N.isContentEditable},q.prototype.handleKey=function(){var Y=this;return Y._handleKey.apply(Y,arguments)},q.addKeycodes=function(Y){for(var N in Y)Y.hasOwnProperty(N)&&(_[N]=Y[N]);w=null},q.init=function(){var Y=q(b);for(var N in Y)N.charAt(0)!=="_"&&(q[N]=function(B){return function(){return Y[B].apply(Y,arguments)}}(N))},q.init(),s.Mousetrap=q,c.exports&&(c.exports=q),(p=function(){return q}.call(f,a,f,c))===void 0||(c.exports=p)}function R(Y,N,B){Y.addEventListener?Y.addEventListener(N,B,!1):Y.attachEvent("on"+N,B)}function G(Y){if(Y.type=="keypress"){var N=String.fromCharCode(Y.which);return Y.shiftKey||(N=N.toLowerCase()),N}return _[Y.which]?_[Y.which]:j[Y.which]?j[Y.which]:String.fromCharCode(Y.which).toLowerCase()}function X(Y){return Y=="shift"||Y=="ctrl"||Y=="alt"||Y=="meta"}function z(Y,N,B){return B||(B=function(){if(!w)for(var k in w={},_)k>95&&k<112||_.hasOwnProperty(k)&&(w[_[k]]=k);return w}()[Y]?"keydown":"keypress"),B=="keypress"&&N.length&&(B="keydown"),B}function V(Y,N){var B,k,L,U=[];for(B=function(te){return te==="+"?["+"]:(te=te.replace(/\+{2}/g,"+plus")).split("+")}(Y),L=0;L<B.length;++L)k=B[L],P[k]&&(k=P[k]),N&&N!="keypress"&&S[k]&&(k=S[k],U.push("shift")),X(k)&&U.push(k);return{key:k,modifiers:U,action:N=z(k,U,N)}}function q(Y){var N=this;if(Y=Y||b,!(N instanceof q))return new q(Y);N.target=Y,N._callbacks={},N._directMap={};var B,k={},L=!1,U=!1,te=!1;function $(fe){fe=fe||{};var ue,me=!1;for(ue in k)fe[ue]?me=!0:k[ue]=0;me||(te=!1)}function ie(fe,ue,me,Oe,Ae,Ne){var ze,Te,Ue,at,Z=[],J=me.type;if(!N._callbacks[fe])return[];for(J=="keyup"&&X(fe)&&(ue=[fe]),ze=0;ze<N._callbacks[fe].length;++ze)if(Te=N._callbacks[fe][ze],(Oe||!Te.seq||k[Te.seq]==Te.level)&&J==Te.action&&(J=="keypress"&&!me.metaKey&&!me.ctrlKey||(Ue=ue,at=Te.modifiers,Ue.sort().join(",")===at.sort().join(",")))){var oe=!Oe&&Te.combo==Ae,ye=Oe&&Te.seq==Oe&&Te.level==Ne;(oe||ye)&&N._callbacks[fe].splice(ze,1),Z.push(Te)}return Z}function ve(fe,ue,me,Oe){N.stopCallback(ue,ue.target||ue.srcElement,me,Oe)||fe(ue,me)===!1&&(function(Ae){Ae.preventDefault?Ae.preventDefault():Ae.returnValue=!1}(ue),function(Ae){Ae.stopPropagation?Ae.stopPropagation():Ae.cancelBubble=!0}(ue))}function ge(fe){typeof fe.which!="number"&&(fe.which=fe.keyCode);var ue=G(fe);ue&&(fe.type!="keyup"||L!==ue?N.handleKey(ue,function(me){var Oe=[];return me.shiftKey&&Oe.push("shift"),me.altKey&&Oe.push("alt"),me.ctrlKey&&Oe.push("ctrl"),me.metaKey&&Oe.push("meta"),Oe}(fe),fe):L=!1)}function he(fe,ue,me,Oe){function Ae(Ue){return function(){te=Ue,++k[fe],clearTimeout(B),B=setTimeout($,1e3)}}function Ne(Ue){ve(me,Ue,fe),Oe!=="keyup"&&(L=G(Ue)),setTimeout($,10)}k[fe]=0;for(var ze=0;ze<ue.length;++ze){var Te=ze+1===ue.length?Ne:Ae(Oe||V(ue[ze+1]).action);Ee(ue[ze],Te,Oe,fe,ze)}}function Ee(fe,ue,me,Oe,Ae){N._directMap[fe+":"+me]=ue;var Ne,ze=(fe=fe.replace(/\s+/g," ")).split(" ");ze.length>1?he(fe,ze,ue,me):(Ne=V(fe,me),N._callbacks[Ne.key]=N._callbacks[Ne.key]||[],ie(Ne.key,Ne.modifiers,{type:Ne.action},Oe,fe,Ae),N._callbacks[Ne.key][Oe?"unshift":"push"]({callback:ue,modifiers:Ne.modifiers,action:Ne.action,seq:Oe,level:Ae,combo:fe}))}N._handleKey=function(fe,ue,me){var Oe,Ae=ie(fe,ue,me),Ne={},ze=0,Te=!1;for(Oe=0;Oe<Ae.length;++Oe)Ae[Oe].seq&&(ze=Math.max(ze,Ae[Oe].level));for(Oe=0;Oe<Ae.length;++Oe)if(Ae[Oe].seq){if(Ae[Oe].level!=ze)continue;Te=!0,Ne[Ae[Oe].seq]=1,ve(Ae[Oe].callback,me,Ae[Oe].combo,Ae[Oe].seq)}else Te||ve(Ae[Oe].callback,me,Ae[Oe].combo);var Ue=me.type=="keypress"&&U;me.type!=te||X(fe)||Ue||$(Ne),U=Te&&me.type=="keydown"},N._bindMultiple=function(fe,ue,me){for(var Oe=0;Oe<fe.length;++Oe)Ee(fe[Oe],ue,me)},R(Y,"keypress",ge),R(Y,"keydown",ge),R(Y,"keyup",ge)}})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)},function(c,f,a){var p=a(35),s=a(37),b=a(32),O=a(39),w=a(61);c.exports=p?Object.defineProperties:function(_,j){b(_);for(var S,P=O(j),C=w(j),R=C.length,G=0;R>G;)s.f(_,S=C[G++],P[S]);return _}},function(c,f,a){var p=a(9),s=a(36),b=a(30),O=a(33),w=p.TypeError;c.exports=function(_,j){var S,P;if(j==="string"&&b(S=_.toString)&&!O(P=s(S,_))||b(S=_.valueOf)&&!O(P=s(S,_))||j!=="string"&&b(S=_.toString)&&!O(P=s(S,_)))return P;throw w("Can't convert object to primitive value")}},function(c,f,a){var p=a(49);c.exports=p("document","documentElement")},function(c,f,a){var p=a(9),s=a(30),b=a(107),O=p.WeakMap;c.exports=s(O)&&/native code/.test(b(O))},function(c,f,a){var p=a(131).IteratorPrototype,s=a(52),b=a(66),O=a(90),w=a(65),_=function(){return this};c.exports=function(j,S,P,C){var R=S+" Iterator";return j.prototype=s(p,{next:b(+!C,P)}),O(j,R,!1,!0),w[R]=_,j}},function(c,f,a){var p=a(9),s=a(30),b=p.String,O=p.TypeError;c.exports=function(w){if(typeof w=="object"||s(w))return w;throw O("Can't set "+b(w)+" as a prototype")}},function(c,f,a){var p=a(17),s=a(9),b=a(15),O=a(110),w=a(45),_=a(133),j=a(135),S=a(139),P=a(30),C=a(33),R=a(19),G=a(140),X=a(90),z=a(141);c.exports=function(V,q,Y){var N=V.indexOf("Map")!==-1,B=V.indexOf("Weak")!==-1,k=N?"set":"add",L=s[V],U=L&&L.prototype,te=L,$={},ie=function(ue){var me=b(U[ue]);w(U,ue,ue=="add"?function(Oe){return me(this,Oe===0?0:Oe),this}:ue=="delete"?function(Oe){return!(B&&!C(Oe))&&me(this,Oe===0?0:Oe)}:ue=="get"?function(Oe){return B&&!C(Oe)?void 0:me(this,Oe===0?0:Oe)}:ue=="has"?function(Oe){return!(B&&!C(Oe))&&me(this,Oe===0?0:Oe)}:function(Oe,Ae){return me(this,Oe===0?0:Oe,Ae),this})};if(O(V,!P(L)||!(B||U.forEach&&!R(function(){new L().entries().next()}))))te=Y.getConstructor(q,V,N,k),_.enable();else if(O(V,!0)){var ve=new te,ge=ve[k](B?{}:-0,1)!=ve,he=R(function(){ve.has(1)}),Ee=G(function(ue){new L(ue)}),fe=!B&&R(function(){for(var ue=new L,me=5;me--;)ue[k](me,me);return!ue.has(-0)});Ee||((te=q(function(ue,me){S(ue,U);var Oe=z(new L,ue,te);return me!=null&&j(me,Oe[k],{that:Oe,AS_ENTRIES:N}),Oe})).prototype=U,U.constructor=te),(he||fe)&&(ie("delete"),ie("has"),N&&ie("get")),(fe||ge)&&ie(k),B&&U.clear&&delete U.clear}return $[V]=te,p({global:!0,forced:te!=L},$),X(te,V),B||Y.setStrong(te,V,N),te}},function(c,f,a){var p=a(19),s=a(33),b=a(51),O=a(167),w=Object.isExtensible,_=p(function(){});c.exports=_||O?function(j){return!!s(j)&&(!O||b(j)!="ArrayBuffer")&&(!w||w(j))}:w},function(c,f,a){var p=a(19);c.exports=p(function(){if(typeof ArrayBuffer=="function"){var s=new ArrayBuffer(8);Object.isExtensible(s)&&Object.defineProperty(s,"a",{value:8})}})},function(c,f,a){var p=a(19);c.exports=!p(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(c,f,a){var p=a(37).f,s=a(52),b=a(170),O=a(91),w=a(139),_=a(135),j=a(108),S=a(171),P=a(35),C=a(133).fastKey,R=a(57),G=R.set,X=R.getterFor;c.exports={getConstructor:function(z,V,q,Y){var N=z(function(te,$){w(te,B),G(te,{type:V,index:s(null),first:void 0,last:void 0,size:0}),P||(te.size=0),$!=null&&_($,te[Y],{that:te,AS_ENTRIES:q})}),B=N.prototype,k=X(V),L=function(te,$,ie){var ve,ge,he=k(te),Ee=U(te,$);return Ee?Ee.value=ie:(he.last=Ee={index:ge=C($,!0),key:$,value:ie,previous:ve=he.last,next:void 0,removed:!1},he.first||(he.first=Ee),ve&&(ve.next=Ee),P?he.size++:te.size++,ge!=="F"&&(he.index[ge]=Ee)),te},U=function(te,$){var ie,ve=k(te),ge=C($);if(ge!=="F")return ve.index[ge];for(ie=ve.first;ie;ie=ie.next)if(ie.key==$)return ie};return b(B,{clear:function(){for(var te=k(this),$=te.index,ie=te.first;ie;)ie.removed=!0,ie.previous&&(ie.previous=ie.previous.next=void 0),delete $[ie.index],ie=ie.next;te.first=te.last=void 0,P?te.size=0:this.size=0},delete:function(te){var $=k(this),ie=U(this,te);if(ie){var ve=ie.next,ge=ie.previous;delete $.index[ie.index],ie.removed=!0,ge&&(ge.next=ve),ve&&(ve.previous=ge),$.first==ie&&($.first=ve),$.last==ie&&($.last=ge),P?$.size--:this.size--}return!!ie},forEach:function(te){for(var $,ie=k(this),ve=O(te,arguments.length>1?arguments[1]:void 0);$=$?$.next:ie.first;)for(ve($.value,$.key,this);$&&$.removed;)$=$.previous},has:function(te){return!!U(this,te)}}),b(B,q?{get:function(te){var $=U(this,te);return $&&$.value},set:function(te,$){return L(this,te===0?0:te,$)}}:{add:function(te){return L(this,te=te===0?0:te,te)}}),P&&p(B,"size",{get:function(){return k(this).size}}),N},setStrong:function(z,V,q){var Y=V+" Iterator",N=X(V),B=X(Y);j(z,V,function(k,L){G(this,{type:Y,target:k,state:N(k),kind:L,last:void 0})},function(){for(var k=B(this),L=k.kind,U=k.last;U&&U.removed;)U=U.previous;return k.target&&(k.last=U=U?U.next:k.state.first)?L=="keys"?{value:U.key,done:!1}:L=="values"?{value:U.value,done:!1}:{value:[U.key,U.value],done:!1}:(k.target=void 0,{value:void 0,done:!0})},q?"entries":"values",!q,!0),S(V)}}},function(c,f,a){var p=a(45);c.exports=function(s,b,O){for(var w in b)p(s,w,b[w],O);return s}},function(c,f,a){var p=a(49),s=a(37),b=a(27),O=a(35),w=b("species");c.exports=function(_){var j=p(_),S=s.f;O&&j&&!j[w]&&S(j,w,{configurable:!0,get:function(){return this}})}},function(c,f,a){var p=a(114),s=a(92);c.exports=p?{}.toString:function(){return"[object "+s(this)+"]"}},function(c,f,a){var p=a(69).forEach,s=a(116)("forEach");c.exports=s?[].forEach:function(b){return p(this,b,arguments.length>1?arguments[1]:void 0)}},function(c,f,a){var p=a(9),s=a(93),b=a(94),O=a(33),w=a(27)("species"),_=p.Array;c.exports=function(j){var S;return s(j)&&(S=j.constructor,(b(S)&&(S===_||s(S.prototype))||O(S)&&(S=S[w])===null)&&(S=void 0)),S===void 0?_:S}},function(c,f,a){var p=a(9);c.exports=p},function(c,f,a){var p=a(9),s=a(91),b=a(36),O=a(38),w=a(177),_=a(136),j=a(94),S=a(43),P=a(58),C=a(137),R=a(113),G=p.Array;c.exports=function(X){var z=O(X),V=j(this),q=arguments.length,Y=q>1?arguments[1]:void 0,N=Y!==void 0;N&&(Y=s(Y,q>2?arguments[2]:void 0));var B,k,L,U,te,$,ie=R(z),ve=0;if(!ie||this==G&&_(ie))for(B=S(z),k=V?new this(B):G(B);B>ve;ve++)$=N?Y(z[ve],ve):z[ve],P(k,ve,$);else for(te=(U=C(z,ie)).next,k=V?new this:[];!(L=b(te,U)).done;ve++)$=N?w(U,Y,[L.value,ve],!0):L.value,P(k,ve,$);return k.length=ve,k}},function(c,f,a){var p=a(32),s=a(138);c.exports=function(b,O,w,_){try{return _?O(p(w)[0],w[1]):O(w)}catch(j){s(b,"throw",j)}}},function(c,f,a){var p=a(32);c.exports=function(){var s=p(this),b="";return s.global&&(b+="g"),s.ignoreCase&&(b+="i"),s.multiline&&(b+="m"),s.dotAll&&(b+="s"),s.unicode&&(b+="u"),s.sticky&&(b+="y"),b}},function(c,f,a){var p=a(19),s=a(9).RegExp;c.exports=p(function(){var b=s(".","s");return!(b.dotAll&&b.exec(`
`)&&b.flags==="s")})},function(c,f,a){var p=a(19),s=a(9).RegExp;c.exports=p(function(){var b=s("(?<a>b)","g");return b.exec("b").groups.a!=="b"||"b".replace(b,"$<a>c")!=="bc"})},function(c,f,a){var p=a(17),s=a(15),b=a(60),O=a(38),w=a(43),_=a(40),j=a(19),S=a(182),P=a(116),C=a(183),R=a(184),G=a(80),X=a(185),z=[],V=s(z.sort),q=s(z.push),Y=j(function(){z.sort(void 0)}),N=j(function(){z.sort(null)}),B=P("sort"),k=!j(function(){if(G)return G<70;if(!(C&&C>3)){if(R)return!0;if(X)return X<603;var L,U,te,$,ie="";for(L=65;L<76;L++){switch(U=String.fromCharCode(L),L){case 66:case 69:case 70:case 72:te=3;break;case 68:case 71:te=4;break;default:te=2}for($=0;$<47;$++)z.push({k:U+$,v:te})}for(z.sort(function(ve,ge){return ge.v-ve.v}),$=0;$<z.length;$++)U=z[$].k.charAt(0),ie.charAt(ie.length-1)!==U&&(ie+=U);return ie!=="DGBEFHACIJK"}});p({target:"Array",proto:!0,forced:Y||!N||!B||!k},{sort:function(L){L!==void 0&&b(L);var U=O(this);if(k)return L===void 0?V(U):V(U,L);var te,$,ie=[],ve=w(U);for($=0;$<ve;$++)$ in U&&q(ie,U[$]);for(S(ie,function(ge){return function(he,Ee){return Ee===void 0?-1:he===void 0?1:ge!==void 0?+ge(he,Ee)||0:_(he)>_(Ee)?1:-1}}(L)),te=ie.length,$=0;$<te;)U[$]=ie[$++];for(;$<ve;)delete U[$++];return U}})},function(c,f,a){var p=a(112),s=Math.floor,b=function(_,j){var S=_.length,P=s(S/2);return S<8?O(_,j):w(_,b(p(_,0,P),j),b(p(_,P),j),j)},O=function(_,j){for(var S,P,C=_.length,R=1;R<C;){for(P=R,S=_[R];P&&j(_[P-1],S)>0;)_[P]=_[--P];P!==R++&&(_[P]=S)}return _},w=function(_,j,S,P){for(var C=j.length,R=S.length,G=0,X=0;G<C||X<R;)_[G+X]=G<C&&X<R?P(j[G],S[X])<=0?j[G++]:S[X++]:G<C?j[G++]:S[X++];return _};c.exports=b},function(c,f,a){var p=a(81).match(/firefox\/(\d+)/i);c.exports=!!p&&+p[1]},function(c,f,a){var p=a(81);c.exports=/MSIE|Trident/.test(p)},function(c,f,a){var p=a(81).match(/AppleWebKit\/(\d+)\./);c.exports=!!p&&+p[1]},function(c,f,a){var p=a(17),s=a(69).find,b=a(76),O=!0;"find"in[]&&Array(1).find(function(){O=!1}),p({target:"Array",proto:!0,forced:O},{find:function(w){return s(this,w,arguments.length>1?arguments[1]:void 0)}}),b("find")},function(c,f,a){var p=a(9),s=a(150),b=p.TypeError;c.exports=function(O){if(s(O))throw b("The method doesn't accept regular expressions");return O}},function(c,f,a){var p=a(27)("match");c.exports=function(s){var b=/./;try{"/./"[s](b)}catch(O){try{return b[p]=!1,"/./"[s](b)}catch(w){}}return!1}},function(c,f,a){var p=a(32),s=a(152),b=a(27)("species");c.exports=function(O,w){var _,j=p(O).constructor;return j===void 0||(_=p(j)[b])==null?w:s(_)}},function(c,f,a){var p=a(17),s=a(153).trim;p({target:"String",proto:!0,forced:a(191)("trim")},{trim:function(){return s(this)}})},function(c,f,a){var p=a(88).PROPER,s=a(19),b=a(154);c.exports=function(O){return s(function(){return!!b[O]()||"\u200B\x85\u180E"[O]()!=="\u200B\x85\u180E"||p&&b[O].name!==O})}},function(c,f,a){var p=a(15);c.exports=p(1 .valueOf)},function(c,f,a){var p=a(15),s=a(38),b=Math.floor,O=p("".charAt),w=p("".replace),_=p("".slice),j=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,S=/\$([$&'`]|\d{1,2})/g;c.exports=function(P,C,R,G,X,z){var V=R+P.length,q=G.length,Y=S;return X!==void 0&&(X=s(X),Y=j),w(z,Y,function(N,B){var k;switch(O(B,0)){case"$":return"$";case"&":return P;case"`":return _(C,0,R);case"'":return _(C,V);case"<":k=X[_(B,1,-1)];break;default:var L=+B;if(L===0)return N;if(L>q){var U=b(L/10);return U===0?N:U<=q?G[U-1]===void 0?O(B,1):G[U-1]+O(B,1):N}k=G[L-1]}return k===void 0?"":k})}},function(c,f,a){var p=a(9),s=a(15),b=a(60),O=a(33),w=a(34),_=a(117),j=p.Function,S=s([].concat),P=s([].join),C={},R=function(G,X,z){if(!w(C,X)){for(var V=[],q=0;q<X;q++)V[q]="a["+q+"]";C[X]=j("C,a","return new C("+P(V,",")+")")}return C[X](G,z)};c.exports=j.bind||function(G){var X=b(this),z=X.prototype,V=_(arguments,1),q=function(){var Y=S(V,_(arguments));return this instanceof q?R(X,Y.length,Y):X.apply(G,Y)};return O(z)&&(q.prototype=z),q}},function(c,f,a){var p=a(34);c.exports=function(s){return s!==void 0&&(p(s,"value")||p(s,"writable"))}},function(c,f,a){var p=a(35),s=a(15),b=a(36),O=a(19),w=a(61),_=a(109),j=a(87),S=a(38),P=a(74),C=Object.assign,R=Object.defineProperty,G=s([].concat);c.exports=!C||O(function(){if(p&&C({b:1},C(R({},"a",{enumerable:!0,get:function(){R(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var X={},z={},V=Symbol();return X[V]=7,"abcdefghijklmnopqrst".split("").forEach(function(q){z[q]=q}),C({},X)[V]!=7||w(C({},z)).join("")!="abcdefghijklmnopqrst"})?function(X,z){for(var V=S(X),q=arguments.length,Y=1,N=_.f,B=j.f;q>Y;)for(var k,L=P(arguments[Y++]),U=N?G(w(L),N(L)):w(L),te=U.length,$=0;te>$;)k=U[$++],p&&!b(B,L,k)||(V[k]=L[k]);return V}:C},function(c,f,a){var p=a(15),s=a(44),b=a(40),O=/"/g,w=p("".replace);c.exports=function(_,j,S,P){var C=b(s(_)),R="<"+j;return S!==""&&(R+=" "+S+'="'+w(b(P),O,"&quot;")+'"'),R+">"+C+"</"+j+">"}},function(c,f,a){var p=a(19);c.exports=function(s){return p(function(){var b=""[s]('"');return b!==b.toLowerCase()||b.split('"').length>3})}},function(c,f,a){var p=a(17),s=Math.hypot,b=Math.abs,O=Math.sqrt;p({target:"Math",stat:!0,forced:!!s&&s(1/0,NaN)!==1/0},{hypot:function(w,_){for(var j,S,P=0,C=0,R=arguments.length,G=0;C<R;)G<(j=b(arguments[C++]))?(P=P*(S=G/j)*S+1,G=j):P+=j>0?(S=j/G)*S:j;return G===1/0?1/0:G*O(P)}})},function(c,f,a){var p=a(35),s=a(15),b=a(61),O=a(39),w=s(a(87).f),_=s([].push),j=function(S){return function(P){for(var C,R=O(P),G=b(R),X=G.length,z=0,V=[];X>z;)C=G[z++],p&&!w(R,C)||_(V,S?[C,R[C]]:R[C]);return V}};c.exports={entries:j(!0),values:j(!1)}},function(c,f,a){var p=a(38),s=a(62),b=a(43);c.exports=function(O){for(var w=p(this),_=b(w),j=arguments.length,S=s(j>1?arguments[1]:void 0,_),P=j>2?arguments[2]:void 0,C=P===void 0?_:s(P,_);C>S;)w[S++]=O;return w}},function(c,f,a){a.r(f),a.d(f,"observer",function(){return Mn}),a.d(f,"LogicFlow",function(){return zc}),a.d(f,"h",function(){return K.g}),a.d(f,"LogicFlowUtil",function(){return p}),a.d(f,"BaseNode",function(){return lr}),a.d(f,"RectNode",function(){return tc}),a.d(f,"CircleNode",function(){return rc}),a.d(f,"PolygonNode",function(){return ic}),a.d(f,"DiamondNode",function(){return uc}),a.d(f,"EllipseNode",function(){return sc}),a.d(f,"TextNode",function(){return fc}),a.d(f,"HtmlNode",function(){return dc}),a.d(f,"BaseEdge",function(){return oi}),a.d(f,"LineEdge",function(){return xc}),a.d(f,"PolylineEdge",function(){return Sc}),a.d(f,"BezierEdge",function(){return kc}),a.d(f,"Arrow",function(){return zh}),a.d(f,"BaseEdgeModel",function(){return vu}),a.d(f,"BezierEdgeModel",function(){return zu}),a.d(f,"LineEdgeModel",function(){return bu}),a.d(f,"PolylineEdgeModel",function(){return Ou}),a.d(f,"BaseNodeModel",function(){return ar}),a.d(f,"CircleNodeModel",function(){return Fu}),a.d(f,"DiamondNodeModel",function(){return Gu}),a.d(f,"EllipseNodeModel",function(){return Hu}),a.d(f,"PolygonNodeModel",function(){return Yu}),a.d(f,"RectNodeModel",function(){return Vu}),a.d(f,"TextNodeModel",function(){return Wu}),a.d(f,"HtmlNodeModel",function(){return Zu}),a.d(f,"EditConfigModel",function(){return Es}),a.d(f,"GraphModel",function(){return yf}),a.d(f,"SnaplineModel",function(){return Gd}),a.d(f,"Keyboard",function(){return Ay}),a.d(f,"get",function(){return lp}),a.d(f,"defaults",function(){return pp});var p={};a.r(p),a.d(p,"createUuid",function(){return so}),a.d(p,"refreshGraphId",function(){return Kg}),a.d(p,"createDrag",function(){return oa}),a.d(p,"StepDrag",function(){return po});var s=a(0),b=a(10);if(!b.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!s.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var O=a(42),w=Object(O.b)("observerBatching");function _(e){e()}var j=!1;function S(){return j}function P(e){return Object(s.t)(e)}var C,R=1e4,G=new Set;function X(){C===void 0&&(C=setTimeout(z,1e4))}function z(){C=void 0;var e=Date.now();G.forEach(function(t){var n=t.current;n&&e>=n.cleanAt&&(n.reaction.dispose(),t.current=null,G.delete(t))}),G.size>0&&X()}var V=!1,q=[],Y={};function N(e){return"observer"+e}function B(e,t,n){t===void 0&&(t="observed"),n===void 0&&(n=Y),S();var r,i=function(m){return function(){V?q.push(m):m()}}((n.useForceUpdate||O.d)()),o=b.d.useRef(null);if(!o.current){var u=new s.c(N(t),function(){l.mounted?i():(u.dispose(),o.current=null)}),l=function(m){return{cleanAt:Date.now()+R,reaction:m}}(u);o.current=l,r=o,G.add(r),X()}var d=o.current.reaction;return b.d.useDebugValue(d,P),b.d.useEffect(function(){var m;return m=o,G.delete(m),o.current?o.current.mounted=!0:(o.current={reaction:new s.c(N(t),function(){i()}),cleanAt:1/0},i()),function(){o.current.reaction.dispose(),o.current=null}},[]),function(m){V=!0,q=[];try{var E=m();V=!1;var A=q.length>0?q:void 0;return b.d.useLayoutEffect(function(){A&&A.forEach(function(M){return M()})},[A]),E}finally{V=!1}}(function(){var m,E;if(d.track(function(){try{m=e()}catch(A){E=A}}),E)throw E;return m})}var k=function(){return(k=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function L(e,t){var n,r,i,o=k({forwardRef:!1},t),u=e.displayName||e.name,l=function(d,m){return B(function(){return e(d,m)},u)};return l.displayName=u,n=o.forwardRef?Object(b.f)(Object(b.e)(l)):Object(b.f)(l),r=e,i=n,Object.keys(r).forEach(function(d){U[d]||Object.defineProperty(i,d,Object.getOwnPropertyDescriptor(r,d))}),n.displayName=u,n}var U={$$typeof:!0,render:!0,compare:!0,type:!0};function te(e){var t=e.children,n=e.render,r=t||n;return typeof r!="function"?null:B(r)}function $(e,t,n,r,i){var o=t==="children"?"render":"children",u=typeof e[t]=="function",l=typeof e[o]=="function";return u&&l?new Error("MobX Observer: Do not use children and render in the same time in`"+n):u||l?null:new Error("Invalid prop `"+i+"` of type `"+typeof e[t]+"` supplied to `"+n+"`, expected `function`.")}te.propTypes={children:$,render:$},te.displayName="Observer";var ie;(ie=b.g)||(ie=_),Object(s.n)({reactionScheduler:ie}),Object(O.a)()[w]=!0;var ve=0,ge={};function he(e){return ge[e]||(ge[e]=function(t){if(typeof Symbol=="function")return Symbol(t);var n="__$mobx-react "+t+" ("+ve+")";return ve++,n}(e)),ge[e]}function Ee(e,t){if(fe(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.hasOwnProperty.call(t,n[i])||!fe(e[n[i]],t[n[i]]))return!1;return!0}function fe(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function ue(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}var me=he("patchMixins"),Oe=he("patchedDefinition");function Ae(e,t){for(var n=this,r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t.locks++;try{var u;return e!=null&&(u=e.apply(this,i)),u}finally{t.locks--,t.locks===0&&t.methods.forEach(function(l){l.apply(n,i)})}}function Ne(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];Ae.call.apply(Ae,[this,e,t].concat(r))}}function ze(e,t,n){var r=function(l,d){var m=l[me]=l[me]||{},E=m[d]=m[d]||{};return E.locks=E.locks||0,E.methods=E.methods||[],E}(e,t);r.methods.indexOf(n)<0&&r.methods.push(n);var i=Object.getOwnPropertyDescriptor(e,t);if(!i||!i[Oe]){var o=e[t],u=function l(d,m,E,A,M){var I,W=Ne(M,A);return(I={})[Oe]=!0,I.get=function(){return W},I.set=function(ee){if(this===d)W=Ne(ee,A);else{var ae=l(this,m,E,A,ee);Object.defineProperty(this,m,ae)}},I.configurable=!0,I.enumerable=E,I}(e,t,i?i.enumerable:void 0,r,o);Object.defineProperty(e,t,u)}}var Te=s.a||"$mobx",Ue=he("isMobXReactObserver"),at=he("isUnmounted"),Z=he("skipRender"),J=he("isForcingUpdate");function oe(e){var t=e.prototype;if(e[Ue]){var n=ye(t);console.warn("The provided component class ("+n+`) 
                has already been declared as an observer component.`)}else e[Ue]=!0;if(t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==b.b)if(t.shouldComponentUpdate){if(t.shouldComponentUpdate!==_e)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else t.shouldComponentUpdate=_e;We(t,"props"),We(t,"state");var r=t.render;return t.render=function(){return Pe.call(this,r)},ze(t,"componentWillUnmount",function(){var i;if((i=this.render[Te])===null||i===void 0||i.dispose(),this[at]=!0,!this.render[Te]){var o=ye(this);console.warn("The reactive render of an observer class component ("+o+`) 
                was overriden after MobX attached. This may result in a memory leak if the 
                overriden reactive render was not properly disposed.`)}}),e}function ye(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function Pe(e){var t=this;ue(this,Z,!1),ue(this,J,!1);var n=ye(this),r=e.bind(this),i=!1,o=new s.c(n+".render()",function(){if(!i&&(i=!0,t[at]!==!0)){var l=!0;try{ue(t,J,!0),t[Z]||b.a.prototype.forceUpdate.call(t),l=!1}finally{ue(t,J,!1),l&&o.dispose()}}});function u(){i=!1;var l=void 0,d=void 0;if(o.track(function(){try{d=Object(s.d)(!1,r)}catch(m){l=m}}),l)throw l;return d}return o.reactComponent=this,u[Te]=o,this.render=u,u.call(this)}function _e(e,t){return this.state!==t||!Ee(this.props,e)}function We(e,t){var n=he("reactProp_"+t+"_valueHolder"),r=he("reactProp_"+t+"_atomHolder");function i(){return this[r]||ue(this,r,Object(s.o)("reactive "+t)),this[r]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){var o=!1;return s.f&&s.e&&(o=Object(s.f)(!0)),i.call(this).reportObserved(),s.f&&s.e&&Object(s.e)(o),this[n]},set:function(o){this[J]||Ee(this[n],o)?ue(this,n,o):(ue(this,n,o),ue(this,Z,!0),i.call(this).reportChanged(),ue(this,Z,!1))}})}var Xe=typeof Symbol=="function"&&Symbol.for,qe=Xe?Symbol.for("react.forward_ref"):typeof b.e=="function"&&Object(b.e)(function(e){return null}).$$typeof,Ye=Xe?Symbol.for("react.memo"):typeof b.f=="function"&&Object(b.f)(function(e){return null}).$$typeof;function de(e){if(e.isMobxInjector===!0&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),Ye&&e.$$typeof===Ye)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(qe&&e.$$typeof===qe){var t=e.render;if(typeof t!="function")throw new Error("render property of ForwardRef was not a function");return Object(b.e)(function(){var n=arguments;return Object(b.c)(te,null,function(){return t.apply(void 0,n)})})}return typeof e!="function"||e.prototype&&e.prototype.render||e.isReactClass||Object.prototype.isPrototypeOf.call(b.a,e)?oe(e):L(e)}if(!b.a)throw new Error("mobx-react requires React to be available");if(!s.C)throw new Error("mobx-react requires mobx to be available");var K=a(1);a(3),a(68),a(2),a(6),a(5),a(11),a(41),a(24),a(20),a(4),a(22),a(21),a(23),a(7),a(8),a(16),a(25),a(18),a(28),a(181),a(186),a(97),a(148),a(149);var Be=function(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},Ie=function(){this.__data__=[],this.size=0},Ve=function(e,t){return e===t||e!=e&&t!=t},kt=function(e,t){for(var n=e.length;n--;)if(Ve(e[n][0],t))return n;return-1},rt=Array.prototype.splice,st=function(e){var t=this.__data__,n=kt(t,e);return!(n<0)&&(n==t.length-1?t.pop():rt.call(t,n,1),--this.size,!0)},pt=function(e){var t=this.__data__,n=kt(t,e);return n<0?void 0:t[n][1]},Bt=function(e){return kt(this.__data__,e)>-1},H=function(e,t){var n=this.__data__,r=kt(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function Q(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Q.prototype.clear=Ie,Q.prototype.delete=st,Q.prototype.get=pt,Q.prototype.has=Bt,Q.prototype.set=H;var le=Q,we=function(){this.__data__=new le,this.size=0},Ze=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},He=function(e){return this.__data__.get(e)},Je=function(e){return this.__data__.has(e)},dt=a(29),Pt=dt.a.Symbol,It=Object.prototype,qn=It.hasOwnProperty,Nn=It.toString,gt=Pt?Pt.toStringTag:void 0,De=function(e){var t=qn.call(e,gt),n=e[gt];try{e[gt]=void 0;var r=!0}catch(o){}var i=Nn.call(e);return r&&(t?e[gt]=n:delete e[gt]),i},Ge=Object.prototype.toString,$e=function(e){return Ge.call(e)},lt=Pt?Pt.toStringTag:void 0,wt=function(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":lt&&lt in Object(e)?De(e):$e(e)},Tt=function(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")},Kt,jo=function(e){if(!Tt(e))return!1;var t=wt(e);return t=="[object Function]"||t=="[object GeneratorFunction]"||t=="[object AsyncFunction]"||t=="[object Proxy]"},Cn=dt.a["__core-js_shared__"],$n=(Kt=/[^.]+$/.exec(Cn&&Cn.keys&&Cn.keys.IE_PROTO||""))?"Symbol(src)_1."+Kt:"",Jr=function(e){return!!$n&&$n in e},Ba=Function.prototype.toString,On=function(e){if(e!=null){try{return Ba.call(e)}catch(t){}try{return e+""}catch(t){}}return""},Qr=/^\[object .+?Constructor\]$/,bi=Function.prototype,Ce=Object.prototype,Fa=bi.toString,mi=Ce.hasOwnProperty,Oi=RegExp("^"+Fa.call(mi).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),an=function(e){return!(!Tt(e)||Jr(e))&&(jo(e)?Oi:Qr).test(On(e))},un=function(e,t){return e==null?void 0:e[t]},Rn=function(e,t){var n=un(e,t);return an(n)?n:void 0},dr=Rn(dt.a,"Map"),_n=Rn(Object,"create"),So=function(){this.__data__=_n?_n(null):{},this.size=0},_i=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ua=Object.prototype.hasOwnProperty,eo=function(e){var t=this.__data__;if(_n){var n=t[e];return n==="__lodash_hash_undefined__"?void 0:n}return Ua.call(t,e)?t[e]:void 0},Ga=Object.prototype.hasOwnProperty,wi=function(e){var t=this.__data__;return _n?t[e]!==void 0:Ga.call(t,e)},Ha=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=_n&&t===void 0?"__lodash_hash_undefined__":t,this};function Jn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Jn.prototype.clear=So,Jn.prototype.delete=_i,Jn.prototype.get=eo,Jn.prototype.has=wi,Jn.prototype.set=Ha;var xi=Jn,In=function(){this.size=0,this.__data__={hash:new xi,map:new(dr||le),string:new xi}},Xa=function(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null},to=function(e,t){var n=e.__data__;return Xa(t)?n[typeof t=="string"?"string":"hash"]:n.map},Po=function(e){var t=to(this,e).delete(e);return this.size-=t?1:0,t},Ao=function(e){return to(this,e).get(e)},Ya=function(e){return to(this,e).has(e)},Ei=function(e,t){var n=to(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function hr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}hr.prototype.clear=In,hr.prototype.delete=Po,hr.prototype.get=Ao,hr.prototype.has=Ya,hr.prototype.set=Ei;var yr=hr,ji=function(e,t){var n=this.__data__;if(n instanceof le){var r=n.__data__;if(!dr||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new yr(r)}return n.set(e,t),this.size=n.size,this};function vr(e){var t=this.__data__=new le(e);this.size=t.size}vr.prototype.clear=we,vr.prototype.delete=Ze,vr.prototype.get=He,vr.prototype.has=Je,vr.prototype.set=ji;var Ln=vr,Si=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Pi=function(e){return this.__data__.has(e)};function Mr(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new yr;++t<n;)this.add(e[t])}Mr.prototype.add=Mr.prototype.push=Si,Mr.prototype.has=Pi;var Ai=Mr,Va=function(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},ki=function(e,t){return e.has(t)},Ti=function(e,t,n,r,i,o){var u=1&n,l=e.length,d=t.length;if(l!=d&&!(u&&d>l))return!1;var m=o.get(e),E=o.get(t);if(m&&E)return m==t&&E==e;var A=-1,M=!0,I=2&n?new Ai:void 0;for(o.set(e,t),o.set(t,e);++A<l;){var W=e[A],ee=t[A];if(r)var ae=u?r(ee,W,A,t,e,o):r(W,ee,A,e,t,o);if(ae!==void 0){if(ae)continue;M=!1;break}if(I){if(!Va(t,function(re,se){if(!ki(I,se)&&(W===re||i(W,re,n,r,o)))return I.push(se)})){M=!1;break}}else if(W!==ee&&!i(W,ee,n,r,o)){M=!1;break}}return o.delete(e),o.delete(t),M},Dr=dt.a.Uint8Array,Mi=function(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n},Wa=function(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n},Di=Pt?Pt.prototype:void 0,ko=Di?Di.valueOf:void 0,Nr=function(e,t,n,r,i,o,u){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new Dr(e),new Dr(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ve(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var l=Mi;case"[object Set]":var d=1&r;if(l||(l=Wa),e.size!=t.size&&!d)return!1;var m=u.get(e);if(m)return m==t;r|=2,u.set(e,t);var E=Ti(l(e),l(t),r,i,o,u);return u.delete(e),E;case"[object Symbol]":if(ko)return ko.call(e)==ko.call(t)}return!1},zn=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},Ft=Array.isArray,Ni=function(e,t,n){var r=t(e);return Ft(e)?r:zn(r,n(e))},Ka=function(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var u=e[n];t(u,n,e)&&(o[i++]=u)}return o},Ci=function(){return[]},gr=Object.prototype.propertyIsEnumerable,Ri=Object.getOwnPropertySymbols,To=Ri?function(e){return e==null?[]:(e=Object(e),Ka(Ri(e),function(t){return gr.call(e,t)}))}:Ci,dn=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},hn=function(e){return e!=null&&typeof e=="object"},Mo=function(e){return hn(e)&&wt(e)=="[object Arguments]"},Ii=Object.prototype,no=Ii.hasOwnProperty,ro=Ii.propertyIsEnumerable,Cr=Mo(function(){return arguments}())?Mo:function(e){return hn(e)&&no.call(e,"callee")&&!ro.call(e,"callee")},Rr=a(47),yn=/^(?:0|[1-9]\d*)$/,Bn=function(e,t){var n=typeof e;return!!(t=t==null?9007199254740991:t)&&(n=="number"||n!="symbol"&&yn.test(e))&&e>-1&&e%1==0&&e<t},tn=function(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=9007199254740991},ut={};ut["[object Float32Array]"]=ut["[object Float64Array]"]=ut["[object Int8Array]"]=ut["[object Int16Array]"]=ut["[object Int32Array]"]=ut["[object Uint8Array]"]=ut["[object Uint8ClampedArray]"]=ut["[object Uint16Array]"]=ut["[object Uint32Array]"]=!0,ut["[object Arguments]"]=ut["[object Array]"]=ut["[object ArrayBuffer]"]=ut["[object Boolean]"]=ut["[object DataView]"]=ut["[object Date]"]=ut["[object Error]"]=ut["[object Function]"]=ut["[object Map]"]=ut["[object Number]"]=ut["[object Object]"]=ut["[object RegExp]"]=ut["[object Set]"]=ut["[object String]"]=ut["[object WeakMap]"]=!1;var Ir=function(e){return hn(e)&&tn(e.length)&&!!ut[wt(e)]},Zt=function(e){return function(t){return e(t)}},br=a(48),Li=br.a&&br.a.isTypedArray,oo=Li?Zt(Li):Ir,wn=Object.prototype.hasOwnProperty,Do=function(e,t){var n=Ft(e),r=!n&&Cr(e),i=!n&&!r&&Object(Rr.a)(e),o=!n&&!r&&!i&&oo(e),u=n||r||i||o,l=u?dn(e.length,String):[],d=l.length;for(var m in e)!t&&!wn.call(e,m)||u&&(m=="length"||i&&(m=="offset"||m=="parent")||o&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||Bn(m,d))||l.push(m);return l},Za=Object.prototype,nn=function(e){var t=e&&e.constructor;return e===(typeof t=="function"&&t.prototype||Za)},No=function(e,t){return function(n){return e(t(n))}},qa=No(Object.keys,Object),Co=Object.prototype.hasOwnProperty,qt=function(e){if(!nn(e))return qa(e);var t=[];for(var n in Object(e))Co.call(e,n)&&n!="constructor"&&t.push(n);return t},Qn=function(e){return e!=null&&tn(e.length)&&!jo(e)},er=function(e){return Qn(e)?Do(e):qt(e)},Yt=function(e){return Ni(e,er,To)},zi=Object.prototype.hasOwnProperty,Ro=function(e,t,n,r,i,o){var u=1&n,l=Yt(e),d=l.length;if(d!=Yt(t).length&&!u)return!1;for(var m=d;m--;){var E=l[m];if(!(u?E in t:zi.call(t,E)))return!1}var A=o.get(e),M=o.get(t);if(A&&M)return A==t&&M==e;var I=!0;o.set(e,t),o.set(t,e);for(var W=u;++m<d;){var ee=e[E=l[m]],ae=t[E];if(r)var re=u?r(ae,ee,E,t,e,o):r(ee,ae,E,e,t,o);if(!(re===void 0?ee===ae||i(ee,ae,n,r,o):re)){I=!1;break}W||(W=E=="constructor")}if(I&&!W){var se=e.constructor,pe=t.constructor;se==pe||!("constructor"in e)||!("constructor"in t)||typeof se=="function"&&se instanceof se&&typeof pe=="function"&&pe instanceof pe||(I=!1)}return o.delete(e),o.delete(t),I},io=Rn(dt.a,"DataView"),ao=Rn(dt.a,"Promise"),uo=Rn(dt.a,"Set"),Io=Rn(dt.a,"WeakMap"),cn=On(io),vn=On(dr),Lr=On(ao),Bi=On(uo),Lo=On(Io),Fn=wt;(io&&Fn(new io(new ArrayBuffer(1)))!="[object DataView]"||dr&&Fn(new dr)!="[object Map]"||ao&&Fn(ao.resolve())!="[object Promise]"||uo&&Fn(new uo)!="[object Set]"||Io&&Fn(new Io)!="[object WeakMap]")&&(Fn=function(e){var t=wt(e),n=t=="[object Object]"?e.constructor:void 0,r=n?On(n):"";if(r)switch(r){case cn:return"[object DataView]";case vn:return"[object Map]";case Lr:return"[object Promise]";case Bi:return"[object Set]";case Lo:return"[object WeakMap]"}return t});var zr=Fn,Br=Object.prototype.hasOwnProperty,$a=function(e,t,n,r,i,o){var u=Ft(e),l=Ft(t),d=u?"[object Array]":zr(e),m=l?"[object Array]":zr(t),E=(d=d=="[object Arguments]"?"[object Object]":d)=="[object Object]",A=(m=m=="[object Arguments]"?"[object Object]":m)=="[object Object]",M=d==m;if(M&&Object(Rr.a)(e)){if(!Object(Rr.a)(t))return!1;u=!0,E=!1}if(M&&!E)return o||(o=new Ln),u||oo(e)?Ti(e,t,n,r,i,o):Nr(e,t,d,n,r,i,o);if(!(1&n)){var I=E&&Br.call(e,"__wrapped__"),W=A&&Br.call(t,"__wrapped__");if(I||W){var ee=I?e.value():e,ae=W?t.value():t;return o||(o=new Ln),i(ee,ae,n,r,o)}}return!!M&&(o||(o=new Ln),Ro(e,t,n,r,i,o))},y=function e(t,n,r,i,o){return t===n||(t==null||n==null||!hn(t)&&!hn(n)?t!=t&&n!=n:$a(t,n,r,i,e,o))},g=function(e,t,n,r){var i=n.length,o=i,u=!r;if(e==null)return!o;for(e=Object(e);i--;){var l=n[i];if(u&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<o;){var d=(l=n[i])[0],m=e[d],E=l[1];if(u&&l[2]){if(m===void 0&&!(d in e))return!1}else{var A=new Ln;if(r)var M=r(m,E,d,e,t,A);if(!(M===void 0?y(E,m,3,r,A):M))return!1}}return!0},x=function(e){return e==e&&!Tt(e)},T=function(e){for(var t=er(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,x(i)]}return t},D=function(e,t){return function(n){return n!=null&&n[e]===t&&(t!==void 0||e in Object(n))}},F=function(e){var t=T(e);return t.length==1&&t[0][2]?D(t[0][0],t[0][1]):function(n){return n===e||g(n,e,t)}},ne=function(e){return typeof e=="symbol"||hn(e)&&wt(e)=="[object Symbol]"},be=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ke=/^\w*$/,nt=function(e,t){if(Ft(e))return!1;var n=typeof e;return!(n!="number"&&n!="symbol"&&n!="boolean"&&e!=null&&!ne(e))||ke.test(e)||!be.test(e)||t!=null&&e in Object(t)};function tt(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var u=e.apply(this,r);return n.cache=o.set(i,u)||o,u};return n.cache=new(tt.Cache||yr),n}tt.Cache=yr;var bt=tt,ht=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ft=/\\(\\)?/g,xt=function(e){var t=bt(e,function(r){return n.size===500&&n.clear(),r}),n=t.cache;return t}(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(ht,function(n,r,i,o){t.push(i?o.replace(ft,"$1"):r||n)}),t}),mt=Pt?Pt.prototype:void 0,yt=mt?mt.toString:void 0,xn=function e(t){if(typeof t=="string")return t;if(Ft(t))return Be(t,e)+"";if(ne(t))return yt?yt.call(t):"";var n=t+"";return n=="0"&&1/t==-1/0?"-0":n},Ja=function(e){return e==null?"":xn(e)},Fr=function(e,t){return Ft(e)?e:nt(e,t)?[e]:xt(Ja(e))},mr=function(e){if(typeof e=="string"||ne(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t},Ur=function(e,t){for(var n=0,r=(t=Fr(t,e)).length;e!=null&&n<r;)e=e[mr(t[n++])];return n&&n==r?e:void 0},zo=function(e,t,n){var r=e==null?void 0:Ur(e,t);return r===void 0?n:r},$t=function(e,t){return e!=null&&t in Object(e)},Fi=function(e,t,n){for(var r=-1,i=(t=Fr(t,e)).length,o=!1;++r<i;){var u=mr(t[r]);if(!(o=e!=null&&n(e,u)))break;e=e[u]}return o||++r!=i?o:!!(i=e==null?0:e.length)&&tn(i)&&Bn(u,i)&&(Ft(e)||Cr(e))},Bo=function(e,t){return e!=null&&Fi(e,t,$t)},zv=function(e,t){return nt(e)&&x(t)?D(mr(e),t):function(n){var r=zo(n,e);return r===void 0&&r===t?Bo(n,e):y(t,r,3)}},Qa=function(e){return e},Bv=function(e){return function(t){return t==null?void 0:t[e]}},Fv=function(e){return function(t){return Ur(t,e)}},Uv=function(e){return nt(e)?Bv(mr(e)):Fv(e)},Gv=function(e){return typeof e=="function"?e:e==null?Qa:typeof e=="object"?Ft(e)?zv(e[0],e[1]):F(e):Uv(e)},es=function(e){return function(t,n,r){for(var i=-1,o=Object(t),u=r(t),l=u.length;l--;){var d=u[e?l:++i];if(n(o[d],d,o)===!1)break}return t}}(),Hv=function(e,t){return function(n,r){if(n==null)return n;if(!Qn(n))return e(n,r);for(var i=n.length,o=t?i:-1,u=Object(n);(t?o--:++o<i)&&r(u[o],o,u)!==!1;);return n}}(function(e,t){return e&&es(e,t,er)}),Xv=function(e,t){var n=-1,r=Qn(e)?Array(e.length):[];return Hv(e,function(i,o,u){r[++n]=t(i,o,u)}),r},Ui=function(e,t){return(Ft(e)?Be:Xv)(e,Gv(t))},Gi=function(){try{var e=Rn(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),eu=function(e,t,n){t=="__proto__"&&Gi?Gi(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Yv=Object.prototype.hasOwnProperty,Hi=function(e,t,n){var r=e[t];Yv.call(e,t)&&Ve(r,n)&&(n!==void 0||t in e)||eu(e,t,n)},co=function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,u=t.length;++o<u;){var l=t[o],d=r?r(n[l],e[l],l,n,e):void 0;d===void 0&&(d=e[l]),i?eu(n,l,d):Hi(n,l,d)}return n},Vv=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},ts=Math.max,ns=function(e,t,n){return t=ts(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=ts(r.length-t,0),u=Array(o);++i<o;)u[i]=r[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=r[i];return l[t]=n(u),Vv(e,this,l)}},Wv=function(e){return function(){return e}},Kv=Gi?function(e,t){return Gi(e,"toString",{configurable:!0,enumerable:!1,value:Wv(t),writable:!0})}:Qa,Zv=Date.now,rs=function(e){var t=0,n=0;return function(){var r=Zv(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(Kv),qv=function(e,t){return rs(ns(e,t,Qa),e+"")},$v=function(e,t,n){if(!Tt(n))return!1;var r=typeof t;return!!(r=="number"?Qn(n)&&Bn(t,n.length):r=="string"&&t in n)&&Ve(n[t],e)},os=function(e){return qv(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,u=i>2?n[2]:void 0;for(o=e.length>3&&typeof o=="function"?(i--,o):void 0,u&&$v(n[0],n[1],u)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var l=n[r];l&&e(t,l,r,o)}return t})},Jv=Object.prototype.hasOwnProperty,Jt=os(function(e,t){if(nn(t)||Qn(t))co(t,er(t),e);else for(var n in t)Jv.call(t,n)&&Hi(e,n,t[n])}),Qv=function(e,t,n,r){if(!Tt(e))return e;for(var i=-1,o=(t=Fr(t,e)).length,u=o-1,l=e;l!=null&&++i<o;){var d=mr(t[i]),m=n;if(d==="__proto__"||d==="constructor"||d==="prototype")return e;if(i!=u){var E=l[d];(m=r?r(E,d,l):void 0)===void 0&&(m=Tt(E)?E:Bn(t[i+1])?[]:{})}Hi(l,d,m),l=l[d]}return e},eg=function(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var u=t[r],l=Ur(e,u);n(l,u)&&Qv(o,Fr(u,e),l)}return o},tg=function(e,t){return eg(e,t,function(n,r){return Bo(e,r)})},is=Pt?Pt.isConcatSpreadable:void 0,ng=function(e){return Ft(e)||Cr(e)||!!(is&&e&&e[is])},rg=function e(t,n,r,i,o){var u=-1,l=t.length;for(r||(r=ng),o||(o=[]);++u<l;){var d=t[u];n>0&&r(d)?n>1?e(d,n-1,r,i,o):zn(o,d):i||(o[o.length]=d)}return o},og=function(e){return e!=null&&e.length?rg(e,1):[]},Nt,as,us,cs,ss,ls,fs,ps,ds,hs,ys,vs,gs,bs,ms,Os,_s,Fo=function(e){return rs(ns(e,void 0,og),e+"")}(function(e,t){return e==null?{}:tg(e,t)});function Vt(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ig(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ws(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ut(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Ot,xs,ct,Lt,Qe,St,ag={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},tu=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey"],Es=(as=Ut((Nt=function(){function e(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),Vt(this,"isSilentMode",as,this),Vt(this,"stopZoomGraph",us,this),Vt(this,"stopScrollGraph",cs,this),Vt(this,"stopMoveGraph",ss,this),Vt(this,"adjustEdge",ls,this),Vt(this,"adjustEdgeMiddle",fs,this),Vt(this,"adjustEdgeStartAndEnd",ps,this),Vt(this,"adjustNodePosition",ds,this),Vt(this,"hideAnchors",hs,this),Vt(this,"hoverOutline",ys,this),Vt(this,"nodeSelectedOutline",vs,this),Vt(this,"edgeSelectedOutline",gs,this),Vt(this,"nodeTextEdit",bs,this),Vt(this,"edgeTextEdit",ms,this),Vt(this,"nodeTextDraggable",Os,this),Vt(this,"edgeTextDraggable",_s,this),ws(this,"multipleSelectKey",""),ws(this,"defaultConfig",{}),Jt(this,this.getConfigDetail(r))}var t,n;return t=e,(n=[{key:"updateEditConfig",value:function(r){var i=this.getConfigDetail(r);Jt(this,i)}},{key:"getConfigDetail",value:function(r){var i=r.isSilentMode,o=r.textEdit,u={};if(i===!1&&Jt(u,this.defaultConfig),i===!0){var l=Fo(ag,tu);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable},Jt(u,l)}o===!1&&Jt(u,{nodeTextEdit:!1,edgeTextEdit:!1});var d=Fo(r,tu);return Jt(u,d)}},{key:"getConfig",value:function(){return Fo(this,tu)}}])&&ig(t.prototype,n),e}()).prototype,"isSilentMode",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),us=Ut(Nt.prototype,"stopZoomGraph",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),cs=Ut(Nt.prototype,"stopScrollGraph",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ss=Ut(Nt.prototype,"stopMoveGraph",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ls=Ut(Nt.prototype,"adjustEdge",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),fs=Ut(Nt.prototype,"adjustEdgeMiddle",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ps=Ut(Nt.prototype,"adjustEdgeStartAndEnd",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ds=Ut(Nt.prototype,"adjustNodePosition",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),hs=Ut(Nt.prototype,"hideAnchors",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ys=Ut(Nt.prototype,"hoverOutline",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),vs=Ut(Nt.prototype,"nodeSelectedOutline",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),gs=Ut(Nt.prototype,"edgeSelectedOutline",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),bs=Ut(Nt.prototype,"nodeTextEdit",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ms=Ut(Nt.prototype,"edgeTextEdit",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Os=Ut(Nt.prototype,"nodeTextDraggable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_s=Ut(Nt.prototype,"edgeTextDraggable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ut(Nt.prototype,"updateEditConfig",[s.k],Object.getOwnPropertyDescriptor(Nt.prototype,"updateEditConfig"),Nt.prototype),Nt);a(98),function(e){e[e.DEFAULT=1]="DEFAULT",e[e.TEXT_EDIT=2]="TEXT_EDIT",e[e.SHOW_MENU=3]="SHOW_MENU",e[e.ALLOW_CONNECT=4]="ALLOW_CONNECT",e[e.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(Ot||(Ot={})),function(e){e.KEY="logic-flow",e.NODE_NAME="lf-node",e.EDGE_NAME="lf-edge"}(xs||(xs={})),function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.HTML_NODE="html-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"}(ct||(ct={})),function(e){e.NODE="node",e.EDGE="edge",e.GRAPH="graph"}(Lt||(Lt={})),function(e){e.ELEMENT_CLICK="element:click",e.NODE_CLICK="node:click",e.NODE_DBCLICK="node:dbclick",e.NODE_DELETE="node:delete",e.NODE_ADD="node:add",e.NODE_DND_ADD="node:dnd-add",e.NODE_DND_DRAG="node:dnd-drag",e.NODE_MOUSEDOWN="node:mousedown",e.NODE_DRAGSTART="node:dragstart",e.NODE_DRAG="node:drag",e.NODE_DROP="node:drop",e.NODE_MOUSEUP="node:mouseup",e.NODE_MOUSEMOVE="node:mousemove",e.NODE_MOUSEENTER="node:mouseenter",e.NODE_MOUSELEAVE="node:mouseleave",e.NODE_CONTEXTMENU="node:contextmenu",e.EDGE_DELETE="edge:delete",e.EDGE_ADD="edge:add",e.EDGE_CLICK="edge:click",e.EDGE_DBCLICK="edge:dbclick",e.EDGE_MOUSEENTER="edge:mouseenter",e.EDGE_MOUSELEAVE="edge:mouseleave",e.EDGE_CONTEXTMENU="edge:contextmenu",e.EDGE_ADJUST="edge:adjust",e.EDGE_EXCHANGE_NODE="edge:exchange-node",e.ANCHOR_DRAGSTART="anchor:dragstart",e.ANCHOR_DROP="anchor:drop",e.BLANK_MOUSEDOWN="blank:mousedown",e.BLANK_DRAGSTART="blank:dragstart",e.BLANK_DRAG="blank:drag",e.BLANK_DROP="blank:drop",e.BLANK_MOUSEMOVE="blank:mousemove",e.BLANK_MOUSEUP="blank:mouseup",e.BLANK_CLICK="blank:click",e.BLANK_CONTEXTMENU="blank:contextmenu",e.SELECTION_MOUSEDOWN="selection:mousedown",e.SELECTION_DRAGSTART="selection:dragstart",e.SELECTION_DRAG="selection:drag",e.SELECTION_DROP="selection:drop",e.SELECTION_MOUSEMOVE="selection:mousemove",e.SELECTION_MOUSEUP="selection:mouseup",e.SELECTION_CONTEXTMENU="selection:contextmenu",e.CONNECTION_NOT_ALLOWED="connection:not-allowed",e.HISTORY_CHANGE="history:change",e.TEXT_UPDATE="text:update",e.GRAPH_TRANSFORM="graph:transform",e.GRAPH_RENDERED="graph:rendered"}(Qe||(Qe={})),function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"}(St||(St={}));var sn,Ct,js,Ss,Ps,As,ks,Ts,Ms;function Xi(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Ds(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Ds(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ds(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gr(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ug(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function En(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}(function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INCREASE=1]="INCREASE"})(sn||(sn={}));var cg=(js=En((Ct=function(){function e(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),nu(this,"MINI_SCALE_SIZE",.2),nu(this,"MAX_SCALE_SIZE",16),Gr(this,"SCALE_X",js,this),Gr(this,"SKEW_Y",Ss,this),Gr(this,"SKEW_X",Ps,this),Gr(this,"SCALE_Y",As,this),Gr(this,"TRANSLATE_X",ks,this),Gr(this,"TRANSLATE_Y",Ts,this),Gr(this,"ZOOM_SIZE",Ms,this),nu(this,"eventCenter",void 0),this.eventCenter=r}var t,n;return t=e,(n=[{key:"setZoomMiniSize",value:function(r){this.MINI_SCALE_SIZE=r}},{key:"setZoomMaxSize",value:function(r){this.MAX_SCALE_SIZE=r}},{key:"HtmlPointToCanvasPoint",value:function(r){var i=Xi(r,2),o=i[0],u=i[1];return[(o-this.TRANSLATE_X)/this.SCALE_X,(u-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(r){var i=Xi(r,2),o=i[0],u=i[1];return[o*this.SCALE_X+this.TRANSLATE_X,u*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(r,i,o){var u=Xi(r,2),l=u[0],d=u[1];return[l+i/this.SCALE_X,d+o/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(r,i){return[r/this.SCALE_X,i/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var r=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(r,")")}}},{key:"zoom",value:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],i=arguments.length>1?arguments[1]:void 0,o=this.SCALE_X,u=this.SCALE_Y;return r===!0?(o+=this.ZOOM_SIZE,u+=this.ZOOM_SIZE):r===!1?(o-=this.ZOOM_SIZE,u-=this.ZOOM_SIZE):typeof r=="number"&&(o=r,u=r),o<this.MINI_SCALE_SIZE||o>this.MAX_SCALE_SIZE||(i&&(this.TRANSLATE_X-=(o-this.SCALE_X)*i[0],this.TRANSLATE_Y-=(u-this.SCALE_Y)*i[1]),this.SCALE_X=o,this.SCALE_Y=u,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(r){this.eventCenter.emit(Qe.GRAPH_TRANSFORM,{type:r,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(r,i){this.TRANSLATE_X+=r,this.TRANSLATE_Y+=i,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(r,i,o,u){var l=Xi(this.CanvasPointToHtmlPoint([r,i]),2),d=o/2-l[0],m=u/2-l[1];this.TRANSLATE_X+=d,this.TRANSLATE_Y+=m,this.emitGraphTransform("focusOn")}}])&&ug(t.prototype,n),e}()).prototype,"SCALE_X",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ss=En(Ct.prototype,"SKEW_Y",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ps=En(Ct.prototype,"SKEW_X",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),As=En(Ct.prototype,"SCALE_Y",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ks=En(Ct.prototype,"TRANSLATE_X",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ts=En(Ct.prototype,"TRANSLATE_Y",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ms=En(Ct.prototype,"ZOOM_SIZE",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),En(Ct.prototype,"zoom",[s.k],Object.getOwnPropertyDescriptor(Ct.prototype,"zoom"),Ct.prototype),En(Ct.prototype,"resetZoom",[s.k],Object.getOwnPropertyDescriptor(Ct.prototype,"resetZoom"),Ct.prototype),En(Ct.prototype,"translate",[s.k],Object.getOwnPropertyDescriptor(Ct.prototype,"translate"),Ct.prototype),En(Ct.prototype,"focusOn",[s.k],Object.getOwnPropertyDescriptor(Ct.prototype,"focusOn"),Ct.prototype),Ct),sg=function(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e},lg=function(e,t){return e&&co(t,er(t),e)},fg=function(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t},pg=Object.prototype.hasOwnProperty,dg=function(e){if(!Tt(e))return fg(e);var t=nn(e),n=[];for(var r in e)(r!="constructor"||!t&&pg.call(e,r))&&n.push(r);return n},Uo=function(e){return Qn(e)?Do(e,!0):dg(e)},hg=function(e,t){return e&&co(t,Uo(t),e)},Ns=a(101),Cs=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},yg=function(e,t){return co(e,To(e),t)},ru=No(Object.getPrototypeOf,Object),Rs=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)zn(t,To(e)),e=ru(e);return t}:Ci,vg=function(e,t){return co(e,Rs(e),t)},gg=function(e){return Ni(e,Uo,Rs)},bg=Object.prototype.hasOwnProperty,mg=function(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&bg.call(e,"index")&&(n.index=e.index,n.input=e.input),n},ou=function(e){var t=new e.constructor(e.byteLength);return new Dr(t).set(new Dr(e)),t},Og=function(e,t){var n=t?ou(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},_g=/\w*$/,wg=function(e){var t=new e.constructor(e.source,_g.exec(e));return t.lastIndex=e.lastIndex,t},Is=Pt?Pt.prototype:void 0,Ls=Is?Is.valueOf:void 0,xg=function(e){return Ls?Object(Ls.call(e)):{}},zs=function(e,t){var n=t?ou(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},Eg=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return ou(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return Og(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return zs(e,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return wg(e);case"[object Set]":return new r;case"[object Symbol]":return xg(e)}},Bs=Object.create,jg=function(){function e(){}return function(t){if(!Tt(t))return{};if(Bs)return Bs(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),Fs=function(e){return typeof e.constructor!="function"||nn(e)?{}:jg(ru(e))},Sg=function(e){return hn(e)&&zr(e)=="[object Map]"},Us=br.a&&br.a.isMap,Pg=Us?Zt(Us):Sg,Ag=function(e){return hn(e)&&zr(e)=="[object Set]"},Gs=br.a&&br.a.isSet,kg=Gs?Zt(Gs):Ag,Et={};Et["[object Arguments]"]=Et["[object Array]"]=Et["[object ArrayBuffer]"]=Et["[object DataView]"]=Et["[object Boolean]"]=Et["[object Date]"]=Et["[object Float32Array]"]=Et["[object Float64Array]"]=Et["[object Int8Array]"]=Et["[object Int16Array]"]=Et["[object Int32Array]"]=Et["[object Map]"]=Et["[object Number]"]=Et["[object Object]"]=Et["[object RegExp]"]=Et["[object Set]"]=Et["[object String]"]=Et["[object Symbol]"]=Et["[object Uint8Array]"]=Et["[object Uint8ClampedArray]"]=Et["[object Uint16Array]"]=Et["[object Uint32Array]"]=!0,Et["[object Error]"]=Et["[object Function]"]=Et["[object WeakMap]"]=!1;var Tg=function e(t,n,r,i,o,u){var l,d=1&n,m=2&n,E=4&n;if(r&&(l=o?r(t,i,o,u):r(t)),l!==void 0)return l;if(!Tt(t))return t;var A=Ft(t);if(A){if(l=mg(t),!d)return Cs(t,l)}else{var M=zr(t),I=M=="[object Function]"||M=="[object GeneratorFunction]";if(Object(Rr.a)(t))return Object(Ns.a)(t,d);if(M=="[object Object]"||M=="[object Arguments]"||I&&!o){if(l=m||I?{}:Fs(t),!d)return m?vg(t,hg(l,t)):yg(t,lg(l,t))}else{if(!Et[M])return o?t:{};l=Eg(t,M,d)}}u||(u=new Ln);var W=u.get(t);if(W)return W;u.set(t,l),kg(t)?t.forEach(function(ae){l.add(e(ae,n,r,ae,t,u))}):Pg(t)&&t.forEach(function(ae,re){l.set(re,e(ae,n,r,re,t,u))});var ee=A?void 0:(E?m?gg:Yt:m?Uo:er)(t);return sg(ee||t,function(ae,re){ee&&(ae=t[re=ae]),Hi(l,re,e(ae,n,r,re,t,u))}),l},Mt=function(e){return Tg(e,5)},iu=function(e,t,n){(n!==void 0&&!Ve(e[t],n)||n===void 0&&!(t in e))&&eu(e,t,n)},Mg=function(e){return hn(e)&&Qn(e)},Dg=Function.prototype,Ng=Object.prototype,Hs=Dg.toString,Cg=Ng.hasOwnProperty,Rg=Hs.call(Object),Ig=function(e){if(!hn(e)||wt(e)!="[object Object]")return!1;var t=ru(e);if(t===null)return!0;var n=Cg.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Hs.call(n)==Rg},au=function(e,t){if((t!=="constructor"||typeof e[t]!="function")&&t!="__proto__")return e[t]},Lg=function(e){return co(e,Uo(e))},zg=function(e,t,n,r,i,o,u){var l=au(e,n),d=au(t,n),m=u.get(d);if(m)iu(e,n,m);else{var E=o?o(l,d,n+"",e,t,u):void 0,A=E===void 0;if(A){var M=Ft(d),I=!M&&Object(Rr.a)(d),W=!M&&!I&&oo(d);E=d,M||I||W?Ft(l)?E=l:Mg(l)?E=Cs(l):I?(A=!1,E=Object(Ns.a)(d,!0)):W?(A=!1,E=zs(d,!0)):E=[]:Ig(d)||Cr(d)?(E=l,Cr(l)?E=Lg(l):Tt(l)&&!jo(l)||(E=Fs(d))):A=!1}A&&(u.set(d,E),i(E,d,r,o,u),u.delete(d)),iu(e,n,E)}},Bg=function e(t,n,r,i,o){t!==n&&es(n,function(u,l){if(o||(o=new Ln),Tt(u))zg(t,n,l,r,e,i,o);else{var d=i?i(au(t,l),u,l+"",t,n,o):void 0;d===void 0&&(d=u),iu(t,l,d)}},Uo)},Xs=os(function(e,t,n){Bg(e,t,n)}),Fg={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}}},Ys=function(e){var t=Mt(Fg);return e&&(t=Xs(t,e)),t};a(71),a(190);function Ug(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Gg=function(){function e(){var r,i,o;(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,e),o={},(i="_events")in(r=this)?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o}var t,n;return t=e,(n=[{key:"on",value:function(r,i,o){var u=this;return r==null||r.split(",").forEach(function(l){l=l.trim(),u._events[l]||(u._events[l]=[]),u._events[l].push({callback:i,once:!!o})}),this}},{key:"once",value:function(r,i){var o=this;r==null||r.split(",").forEach(function(u){return u=u.trim(),o.on(u,i,!0)})}},{key:"emit",value:function(r,i){var o=this;r==null||r.split(",").forEach(function(u){var l=o._events[u]||[],d=o._events["*"]||[],m=function(E){for(var A=E.length,M=0;M<A;M++)if(E[M]){var I=E[M],W=I.callback;I.once&&(E.splice(M,1),E.length===0&&delete o._events[u],A--,M--),W.apply(o,[i])}};m(l),m(d)})}},{key:"off",value:function(r,i){var o=this;return r||(this._events={}),r.split(",").forEach(function(u){if(i){for(var l=o._events[u]||[],d=l.length,m=0;m<d;m++)l[m].callback===i&&(l.splice(m,1),d--,m--);l.length===0&&delete o._events[u]}else delete o._events[u]}),this}},{key:"getEvents",value:function(){return this._events}}])&&Ug(t.prototype,n),e}();function Yi(e,t){return t*Math.round(e/t)||e}function Vs(e,t){return e%t}function uu(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Ws(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Ws(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ws(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var cu,su=function(e,t,n){var r=uu(e,2),i=r[0],o=r[1],u=uu(t,2),l=u[0],d=u[1],m=uu(n,2),E=m[0],A=m[1];return i>l&&i<E&&o>d&&o<A},Ks=function(e,t){var n=!1;switch(t.multipleSelectKey){case"meta":n=e.metaKey;break;case"alt":n=e.altKey;break;case"shift":n=e.shiftKey;break;default:n=!1}return n},Hg=(a(72),a(155),a(122),a(73),a(12),a(13),a(14),a(46),a(31),new Uint8Array(16));function Xg(){if(!cu&&!(cu=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return cu(Hg)}for(var Yg=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Vg=function(e){return typeof e=="string"&&Yg.test(e)},Gt=[],lu=0;lu<256;++lu)Gt.push((lu+256).toString(16).substr(1));var Wg=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Gt[e[t+0]]+Gt[e[t+1]]+Gt[e[t+2]]+Gt[e[t+3]]+"-"+Gt[e[t+4]]+Gt[e[t+5]]+"-"+Gt[e[t+6]]+Gt[e[t+7]]+"-"+Gt[e[t+8]]+Gt[e[t+9]]+"-"+Gt[e[t+10]]+Gt[e[t+11]]+Gt[e[t+12]]+Gt[e[t+13]]+Gt[e[t+14]]+Gt[e[t+15]]).toLowerCase();if(!Vg(n))throw TypeError("Stringified UUID is invalid");return n},fu=function(e,t,n){var r=(e=e||{}).random||(e.rng||Xg)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return Wg(r)},so=function(){return fu()},Kg=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=e.nodes.reduce(function(r,i){return r[i.id]=t+fu(),i.id=r[i.id],r},{});return e.edges.forEach(function(r){r.id=t+fu(),r.sourceNodeId=n[r.sourceNodeId],r.targetNodeId=n[r.targetNodeId]}),e},Go=(a(99),a(199),function(e,t,n){var r=e.x,i=e.y;return(r-t.x)*(r-n.x)<=0&&(i-t.y)*(i-n.y)<=0});function Zs(e){return(Zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function qs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $s(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qs(Object(n),!0).forEach(function(r){Zg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qs(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var je,Js,Qs,el,tl,nl,rl,ol,il,al,ul,cl,sl,ll,fl,pl,dl,pu=function(e){return e.anchors},Vi=function(e,t){for(var n,r=t.nodes,i=r.length-1;i>=0;i--){var o=r[i];if(Jg(e,o)){var u=$g(e,o);if(u){var l={node:o,anchorIndex:u.index,anchor:u.anchor};n&&!qg(o,n.node,t)||(n=l)}}}return n},qg=function(e,t,n){return e.zIndex>t.zIndex||n.nodesMap[e.id].index>n.nodesMap[t.id].index},$g=function(e,t){for(var n,r=pu(t),i=Number.MAX_SAFE_INTEGER,o=0;o<r.length;o++){var u=Un(e.x,e.y,r[o].x,r[o].y);u<i&&(i=u,n={index:o,anchor:$s($s({},r[o]),{},{x:r[o].x,y:r[o].y,id:r[o].id})})}return n},Un=function(e,t,n,r){return Math.hypot(e-n,t-r)},Or=function(e,t){var n=!1,r=ln(t);return e.x>=r.minX-0&&e.x<=r.maxX+0&&e.y>=r.minY-0&&e.y<=r.maxY+0&&(n=!0),n},Jg=function(e,t){var n=!1,r=ln(t);return e.x>=r.minX-5&&e.x<=r.maxX+5&&e.y>=r.minY-5&&e.y<=r.maxY+5&&(n=!0),n},ln=function(e){var t=e.x,n=e.y,r=e.width,i=e.height;return{minX:t-r/2,minY:n-i/2,maxX:t+r/2,maxY:n+i/2,x:t,y:n,width:r,height:i,centerX:t,centerY:n}},hl=function(e,t,n){var r,i=function(u){var l=u,d=l.x,m=l.y,E=l.width,A=l.height,M=l.radius;return[{x:d-E/2+M,y:m-A/2+M,r:M},{x:d+E/2-M,y:m-A/2+M,r:M},{x:d-E/2+M,y:m+A/2-M,r:M},{x:d+E/2-M,y:m+A/2-M,r:M}]}(n),o=Number.MAX_SAFE_INTEGER;return i.forEach(function(u){var l=Un(e.x,e.y,u.x,u.y);l<o&&(o=l,r=u)}),du(e,t,r)},du=function(e,t,n){var r,i=n,o=i.x,u=i.y,l=i.r;if(t===St.HORIZONTAL){var d=o-Math.sqrt(l*l-(e.y-u)*(e.y-u)),m=o+Math.sqrt(l*l-(e.y-u)*(e.y-u));r={x:Math.abs(d-e.x)<Math.abs(m-e.x)?d:m,y:e.y}}else if(t===St.VERTICAL){var E=u-Math.sqrt(l*l-(e.x-o)*(e.x-o)),A=u+Math.sqrt(l*l-(e.x-o)*(e.x-o)),M=Math.abs(E-e.y)<Math.abs(A-e.y)?E:A;r={x:e.x,y:M}}return r},yl=function(e,t){var n=t,r=!1,i=n.x-n.width/2+n.radius,o=n.x+n.width/2-n.radius,u=n.y-n.height/2+n.radius,l=n.y+n.height/2-n.radius,d=n.x,m=n.y,E=n.width,A=n.height;return e.y===m+A/2||e.y===m-A/2?r=e.x>i&&e.x<o:e.x!==d+E/2&&e.x!==d-E/2||(r=e.y>u&&e.y<l),r},vl=function(e,t,n){var r,i=n,o=i.x,u=i.y,l=i.rx,d=i.ry;if(t===St.HORIZONTAL){var m=o-Math.sqrt(l*l-(e.y-u)*(e.y-u)*l*l/(d*d)),E=o+Math.sqrt(l*l-(e.y-u)*(e.y-u)*l*l/(d*d));r={x:Math.abs(m-e.x)<Math.abs(E-e.x)?m:E,y:e.y}}else if(t===St.VERTICAL){var A=u-Math.sqrt(d*d-(e.x-o)*(e.x-o)*d*d/(l*l)),M=u+Math.sqrt(d*d-(e.x-o)*(e.x-o)*d*d/(l*l)),I=Math.abs(A-e.y)<Math.abs(M-e.y)?A:M;r={x:e.x,y:I}}return r},gl=function(e,t,n){for(var r,i=n.pointsPosition,o=Number.MAX_SAFE_INTEGER,u=[],l=0;l<i.length;l++)u.push({start:i[l],end:i[(l+1)%i.length]});return u.forEach(function(d){var m=d.start,E=d.end,A=m,M=E;m.x>E.x&&(A=E,M=m);var I={x:e.x,y:e.y};if(A.x===M.x&&t===St.HORIZONTAL&&(I={x:A.x,y:e.y}),A.y===M.y&&t===St.VERTICAL&&(I={x:e.x,y:A.y}),A.x!==M.x&&A.y!==M.y){var W=(M.y-A.y)/(M.x-A.x),ee=(A.x*M.y-M.x*A.y)/(A.x-M.x);t===St.HORIZONTAL?I={x:(e.y-ee)/W,y:e.y}:t===St.VERTICAL&&(I={x:e.x,y:W*e.x+ee})}if(Go(I,m,E)){var ae=Un(I.x,I.y,e.x,e.y);ae<o&&(o=ae,r=I)}}),r},bl=function(e,t,n,r){var i=e.x,o=e.y;return t.x>e.x?i=e.x+n/2:t.x<e.x&&(i=e.x-n/2),t.y>e.y?o=e.y+r/2:t.y<e.y&&(o=e.y-r/2),{x:i,y:o}},ml=function(e){var t=e.rows,n=e.style,r=e.rowsLength,i=e.className,o=document.createElement("div");o.style.fontSize=n.fontSize,o.style.width=n.width,o.className=i,o.style.lineHeight=n.lineHeight,o.style.padding=n.padding,n.fontFamily&&(o.style.fontFamily=n.fontFamily),r>1?t.forEach(function(l){var d=document.createElement("div");d.textContent=l,o.appendChild(d)}):o.textContent=t,document.body.appendChild(o);var u=o.clientHeight;return document.body.removeChild(o),u},hu=function(e){var t=e.rows,n=e.rowsLength,r=e.fontSize,i=0;return t&&t.forEach(function(o){var u=Wl(o);i=u>i?u:i}),{width:Math.ceil(i/2)*r+r/4,height:n*(r+2)+r/4}},Wi=function(e){return Zs(e)!=="object"?{isAllPass:!!e,msg:e?"":"\u4E0D\u5141\u8BB8\u8FDE\u63A5"}:e},Ol={node:!1,edge:!1},Qg={node:!0,edge:!0},eb={stroke:"red",strokeDasharray:"10 200",className:"lf-edge-animation"},Gn=function(e){try{return JSON.parse(JSON.stringify(e))}catch(t){return e}},tb=1e3,nb=999,yu=function(){return++tb};function _l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ki(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_l(Object(n),!0).forEach(function(r){jn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_l(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wt(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function rb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ot(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var vu=(Js=ot((je=function(){function e(r,i){(function(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")})(this,e),jn(this,"id",so()),Wt(this,"type",Js,this),Wt(this,"sourceNodeId",Qs,this),Wt(this,"targetNodeId",el,this),Wt(this,"startPoint",tl,this),Wt(this,"endPoint",nl,this),Wt(this,"text",rl,this),Wt(this,"properties",ol,this),Wt(this,"points",il,this),Wt(this,"pointsList",al,this),Wt(this,"isSelected",ul,this),Wt(this,"isHovered",cl,this),Wt(this,"isHitable",sl,this),Wt(this,"draggable",ll,this),Wt(this,"visible",fl,this),jn(this,"graphModel",void 0),Wt(this,"zIndex",pl,this),jn(this,"BaseType",Lt.EDGE),jn(this,"modelType",ct.EDGE),Wt(this,"state",dl,this),jn(this,"additionStateData",void 0),jn(this,"sourceAnchorId",""),jn(this,"targetAnchorId",""),jn(this,"menu",void 0),jn(this,"customTextPosition",!1),jn(this,"animationData",eb),this.graphModel=i,this.initEdgeData(r),this.setAttributes(),this.setAnchors(),this.initPoints(),this.formatText(r)}var t,n;return t=e,(n=[{key:"initEdgeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var i=this.graphModel.idGenerator,o=i&&i(r.type);o&&(r.id=o);var u=this.createId();u&&(r.id=u)}Jt(this,_b(r)),this.graphModel.overlapMode===sn.INCREASE&&(this.zIndex=r.zIndex||yu())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){var r=this.graphModel.theme.baseEdge;return Mt(r)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.edgeText;return Mt(r)}},{key:"getAnimation",value:function(){var r=this.animationData;return Mt(r)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return Mt(r)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var r,i;return(r=this.graphModel)===null||r===void 0||(i=r.nodesMap[this.sourceNodeId])===null||i===void 0?void 0:i.model}},{key:"targetNode",get:function(){var r,i;return(r=this.graphModel)===null||r===void 0||(i=r.nodesMap[this.targetNodeId])===null||i===void 0?void 0:i.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(r,i){var o,u;return pu(r).forEach(function(l){var d=ql(l,i);u?d<u&&(u=d,o=l):(u=d,o=l)}),o}},{key:"getEndAnchor",value:function(r){var i,o,u=this;return pu(r).forEach(function(l){var d=ql(l,u.startPoint);o?d<o&&(o=d,i=l):(o=d,i=l)}),i}},{key:"getProperties",value:function(){return Object(s.I)(this.properties)}},{key:"getData",value:function(){var r=this.text,i=r.x,o=r.y,u=r.value,l={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(s.I)(this.properties)};return u&&(l.text={x:i,y:o,value:u}),this.graphModel.overlapMode===sn.INCREASE&&(l.zIndex=this.zIndex),l}},{key:"setProperty",value:function(r,i){this.properties[r]=Gn(i),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=Ki(Ki({},this.properties),Gn(r)),this.setAttributes()}},{key:"formatText",value:function(r){var i=this.textPosition,o=i.x,u=i.y;r.text&&typeof r.text!="string"?Object.prototype.toString.call(r.text)==="[object Object]"&&(this.text={x:r.text.x||o,y:r.text.y||u,value:r.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:r.text||"",x:o,y:u,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var r=this.textPosition,i=r.x,o=r.y;this.text.x=i,this.text.y=o}},{key:"moveText",value:function(r,i){if(this.text){var o=this.text,u=o.x,l=o.y,d=o.value,m=o.draggable,E=o.editable;this.text={value:d,draggable:m,x:u+r,y:l+i,editable:E}}}},{key:"setText",value:function(r){r&&Jt(this.text,r)}},{key:"updateText",value:function(r){this.text=Ki(Ki({},this.text),{},{value:r})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var r=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:r.x,y:r.y}),this.sourceAnchorId||(this.sourceAnchorId=r.id)}if(!this.targetAnchorId||!this.endPoint){var i=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:i.x,y:i.y}),this.targetAnchorId||(this.targetAnchorId=i.id)}}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,i){this.state=r,this.additionStateData=i}},{key:"updateStartPoint",value:function(r){this.startPoint=r}},{key:"updateEndPoint",value:function(r){this.endPoint=r}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=r}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(r){Jt(this,r)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(r){var i=r.startPoint,o=r.endPoint;this.updateStartPoint({x:i.x,y:i.y}),this.updateEndPoint({x:o.x,y:o.y})}}])&&rb(t.prototype,n),e}()).prototype,"type",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Qs=ot(je.prototype,"sourceNodeId",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),el=ot(je.prototype,"targetNodeId",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),tl=ot(je.prototype,"startPoint",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nl=ot(je.prototype,"endPoint",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rl=ot(je.prototype,"text",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),ol=ot(je.prototype,"properties",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),il=ot(je.prototype,"points",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),al=ot(je.prototype,"pointsList",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ul=ot(je.prototype,"isSelected",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),cl=ot(je.prototype,"isHovered",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),sl=ot(je.prototype,"isHitable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ll=ot(je.prototype,"draggable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),fl=ot(je.prototype,"visible",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),pl=ot(je.prototype,"zIndex",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),dl=ot(je.prototype,"state",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ot(je.prototype,"sourceNode",[s.m],Object.getOwnPropertyDescriptor(je.prototype,"sourceNode"),je.prototype),ot(je.prototype,"targetNode",[s.m],Object.getOwnPropertyDescriptor(je.prototype,"targetNode"),je.prototype),ot(je.prototype,"textPosition",[s.m],Object.getOwnPropertyDescriptor(je.prototype,"textPosition"),je.prototype),ot(je.prototype,"setProperty",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"setProperty"),je.prototype),ot(je.prototype,"setProperties",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"setProperties"),je.prototype),ot(je.prototype,"formatText",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"formatText"),je.prototype),ot(je.prototype,"resetTextPosition",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"resetTextPosition"),je.prototype),ot(je.prototype,"moveText",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"moveText"),je.prototype),ot(je.prototype,"setText",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"setText"),je.prototype),ot(je.prototype,"updateText",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"updateText"),je.prototype),ot(je.prototype,"setAnchors",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"setAnchors"),je.prototype),ot(je.prototype,"setSelected",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"setSelected"),je.prototype),ot(je.prototype,"setHovered",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"setHovered"),je.prototype),ot(je.prototype,"setHitable",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"setHitable"),je.prototype),ot(je.prototype,"setElementState",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"setElementState"),je.prototype),ot(je.prototype,"updateStartPoint",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"updateStartPoint"),je.prototype),ot(je.prototype,"updateEndPoint",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"updateEndPoint"),je.prototype),ot(je.prototype,"setZIndex",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"setZIndex"),je.prototype),ot(je.prototype,"initPoints",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"initPoints"),je.prototype),ot(je.prototype,"updateAttributes",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"updateAttributes"),je.prototype),ot(je.prototype,"getAdjustStart",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"getAdjustStart"),je.prototype),ot(je.prototype,"getAdjustEnd",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"getAdjustEnd"),je.prototype),ot(je.prototype,"updateAfterAdjustStartAndEnd",[s.k],Object.getOwnPropertyDescriptor(je.prototype,"updateAfterAdjustStartAndEnd"),je.prototype),je),gu=vu;function wl(e){return(wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function xl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function El(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xl(Object(n),!0).forEach(function(r){Al(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ob(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ib(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jl(){return(jl=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=ab(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function ab(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Ho(e))!==null;);return e}function Sl(e,t){return(Sl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function ub(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ho(e);if(t){var i=Ho(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return cb(this,n)}}function cb(e,t){if(t&&(wl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pl(e)}function Pl(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ho(e){return(Ho=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Al(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var it,kl,bu=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Sl(o,u)})(i,e);var t,n,r=ub(i);function i(){var o;ob(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Al(Pl(o=r.call.apply(r,[this].concat(l))),"modelType",ct.LINE_EDGE),o}return t=i,(n=[{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.line;return El(El({},jl(Ho(i.prototype),"getEdgeStyle",this).call(this)),Mt(o))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&ib(t.prototype,n),i}(gu);function Tl(e){return(Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function sb(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Ml(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Ml(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ml(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dl(Object(n),!0).forEach(function(r){mu(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lb(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function fb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zi(){return(Zi=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=db(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function db(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Hr(e))!==null;);return e}function Cl(e,t){return(Cl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function hb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Hr(e);if(t){var i=Hr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yb(this,n)}}function yb(e,t){if(t&&(Tl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xo(e)}function Xo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hr(e){return(Hr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function mu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fn(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Ou=(kl=fn((it=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Cl(o,u)})(i,e);var t,n,r=hb(i);function i(){var o;fb(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return mu(Xo(o=r.call.apply(r,[this].concat(l))),"modelType",ct.POLYLINE_EDGE),mu(Xo(o),"draginngPointList",void 0),lb(Xo(o),"dbClickPosition",kl,Xo(o)),o}return t=i,(n=[{key:"initEdgeData",value:function(o){this.offset=30,Zi(Hr(i.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.polyline;return Nl(Nl({},Zi(Hr(i.prototype),"getEdgeStyle",this).call(this)),Mt(o))}},{key:"getTextPosition",value:function(){var o,u=(o=this.text)===null||o===void 0?void 0:o.value;if(this.dbClickPosition&&!u){var l=this.dbClickPosition;return{x:l.x,y:l.y}}var d=lo(this.points),m=sb(mb(d),2),E=m[0],A=m[1];return{x:(E.x+A.x)/2,y:(E.y+A.y)/2}}},{key:"getAfterAnchor",value:function(o,u,l){var d,m;return l.forEach(function(E){var A;o===St.HORIZONTAL?A=Math.abs(u.y-E.y):o===St.VERTICAL&&(A=Math.abs(u.x-E.x)),(!m||m>A)&&(m=A,d=E)}),d}},{key:"getCorssPoint",value:function(o,u,l){var d;return o===St.HORIZONTAL?d={x:l.x,y:u.y}:o===St.VERTICAL&&(d={x:u.x,y:l.y}),d}},{key:"removeCrossPoints",value:function(o,u,l){var d=l.map(function(re){return re});if(o===1){var m=d[o],E=d[u],A=d[o-1];if(Hl(A,m,this.sourceNode)){if(Xl(m,E,this.sourceNode)){var M=Yl(m,E,this.sourceNode);M&&(d[o]=M,d.splice(o-1,1),o--,u--)}}else this.sourceNode.anchors.forEach(function(re){(re.x===A.x&&re.x===m.x||re.y===A.y&&re.y===m.y)&&Un(re.x,re.y,m.x,m.y)<Un(A.x,A.y,m.x,m.y)&&(d[o-1]=re)})}if(u===l.length-2){var I=d[o],W=d[u],ee=d[u+1];if(Hl(W,ee,this.targetNode)){if(Xl(I,W,this.targetNode)){var ae=Yl(I,W,this.targetNode);ae&&(d[u]=ae,d.splice(u+1,1))}}else this.targetNode.anchors.forEach(function(re){(re.x===ee.x&&re.x===W.x||re.y===ee.y&&re.y===W.y)&&Un(re.x,re.y,W.x,W.y)<Un(ee.x,ee.y,W.x,W.y)&&(d[u+1]=re)})}return d}},{key:"getDragingPoints",value:function(o,u,l,d,m){var E=m.map(function(I){return I}),A=this.getAfterAnchor(o,l,d),M=this.getCorssPoint(o,l,A);return u==="start"?(E.unshift(M),E.unshift(A)):(E.push(M),E.push(A)),E}},{key:"updateCrossPoints",value:function(o){var u=o.map(function(pe){return pe}),l=o[0],d=o[1],m=o[u.length-2],E=o[u.length-1],A=this.sourceNode,M=this.targetNode,I=A.modelType,W=M.modelType,ee=ta(l,d),ae=u[0];switch(I){case ct.RECT_NODE:A.radius!==0&&(yl(l,A)||(ae=hl(l,ee,A)));break;case ct.CIRCLE_NODE:ae=du(l,ee,A);break;case ct.ELLIPSE_NODE:ae=vl(l,ee,A);break;case ct.DIAMOND_NODE:case ct.POLYGON_NODE:ae=gl(l,ee,A)}u[0]=ae;var re=ta(m,E),se=u[u.length-1];switch(W){case ct.RECT_NODE:M.radius!==0&&(yl(E,M)||(se=hl(E,re,M)));break;case ct.CIRCLE_NODE:se=du(E,re,M);break;case ct.ELLIPSE_NODE:se=vl(E,re,M);break;case ct.DIAMOND_NODE:case ct.POLYGON_NODE:se=gl(E,re,M)}return u[u.length-1]=se,u}},{key:"getData",value:function(){var o=Zi(Hr(i.prototype),"getData",this).call(this),u=this.pointsList.map(function(l){return{x:l.x,y:l.y}});return Object.assign({},o,{pointsList:u})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(o){return"".concat(o.x,",").concat(o.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var o=Gl({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=o,this.points=o.map(function(u){return"".concat(u.x,",").concat(u.y)}).join(" ")}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map(function(o){return o})}},{key:"dragAppendSimple",value:function(o,u){this.isDragging=!0;var l=o.start,d=o.end,m=o.startIndex,E=o.endIndex,A=o.direction,M=this.pointsList,I=M;return A===St.HORIZONTAL?(M[m]={x:l.x,y:l.y+u.y},M[E]={x:d.x,y:d.y+u.y},I=this.pointsList.map(function(W){return W})):A===St.VERTICAL&&(M[m]={x:l.x+u.x,y:l.y},M[E]={x:d.x+u.x,y:d.y},I=this.pointsList.map(function(W){return W})),this.updatePointsAfterDrage(I),this.draginngPointList=I,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},M[m]),end:Object.assign({},M[E]),startIndex:m,endIndex:E,direction:A}}},{key:"dragAppend",value:function(o,u){this.isDragging=!0;var l=o.start,d=o.end,m=o.startIndex,E=o.endIndex,A=o.direction,M=this.pointsList;if(A===St.HORIZONTAL){M[m]={x:l.x,y:l.y+u.y},M[E]={x:d.x,y:d.y+u.y};var I=this.pointsList.map(function(Le){return Le});if(m!==0&&E!==this.pointsList.length-1&&(I=this.removeCrossPoints(m,E,I)),m===0){var W={x:l.x,y:l.y+u.y};if(!Or(W,this.sourceNode)){var ee=this.sourceNode.anchors;I=this.getDragingPoints(A,"start",W,ee,I)}}if(E===this.pointsList.length-1){var ae={x:d.x,y:d.y+u.y};if(!Or(ae,this.targetNode)){var re=this.targetNode.anchors;I=this.getDragingPoints(A,"end",ae,re,I)}}I=ju(I),this.updatePointsAfterDrage(I),this.draginngPointList=I}else if(A===St.VERTICAL){M[m]={x:l.x+u.x,y:l.y},M[E]={x:d.x+u.x,y:d.y};var se=this.pointsList.map(function(Le){return Le});if(m!==0&&E!==this.pointsList.length-1&&(se=this.removeCrossPoints(m,E,se)),m===0){var pe={x:l.x+u.x,y:l.y};if(!Or(pe,this.sourceNode)){var Se=this.sourceNode.anchors;se=this.getDragingPoints(A,"start",pe,Se,se)}}if(E===this.pointsList.length-1){var xe={x:d.x+u.x,y:d.y};if(!Or(xe,this.targetNode)){var Me=this.targetNode.anchors;se=this.getDragingPoints(A,"end",xe,Me,se)}}se=ju(se),this.updatePointsAfterDrage(se),this.draginngPointList=se}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},M[m]),end:Object.assign({},M[E]),startIndex:m,endIndex:E,direction:A}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var o=lo(this.points);this.pointsList=o.map(function(d){return d}),this.draginngPointList=[];var u=o[0];this.startPoint=Object.assign({},u);var l=o[o.length-1];this.endPoint=Object.assign({},l)}this.isDragging=!1}},{key:"updatePointsAfterDrage",value:function(o){var u=this.updateCrossPoints(o);this.points=u.map(function(l){return"".concat(l.x,",").concat(l.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var u=o.startPoint,l=o.endPoint,d=o.sourceNode,m=o.targetNode,E=Gl({x:u.x,y:u.y},{x:l.x,y:l.y},d,m,this.offset||0);this.pointsList=E,this.initPoints()}}])&&pb(t.prototype,n),i}(gu)).prototype,"dbClickPosition",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fn(it.prototype,"initPoints",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"initPoints"),it.prototype),fn(it.prototype,"updatePoints",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"updatePoints"),it.prototype),fn(it.prototype,"updateStartPoint",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"updateStartPoint"),it.prototype),fn(it.prototype,"updateEndPoint",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"updateEndPoint"),it.prototype),fn(it.prototype,"dragAppendStart",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"dragAppendStart"),it.prototype),fn(it.prototype,"dragAppendSimple",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"dragAppendSimple"),it.prototype),fn(it.prototype,"dragAppend",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"dragAppend"),it.prototype),fn(it.prototype,"dragAppendEnd",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"dragAppendEnd"),it.prototype),fn(it.prototype,"updatePointsAfterDrage",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"updatePointsAfterDrage"),it.prototype),fn(it.prototype,"getAdjustStart",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"getAdjustStart"),it.prototype),fn(it.prototype,"getAdjustEnd",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"getAdjustEnd"),it.prototype),fn(it.prototype,"updateAfterAdjustStartAndEnd",[s.k],Object.getOwnPropertyDescriptor(it.prototype,"updateAfterAdjustStartAndEnd"),it.prototype),it),Yo=function(e){var t=e.start,n=e.end,r=e.offset,i=e.verticalLength,o=e.type,u={leftX:0,leftY:0,rightX:0,rightY:0},l=Math.atan((n.y-t.y)/(n.x-t.x)),d=Math.atan(r/i),m=Math.sqrt(i*i+r*r);return o==="start"?n.x>=t.x?(u.leftX=t.x+m*Math.sin(l+d),u.leftY=t.y-m*Math.cos(l+d),u.rightX=t.x-m*Math.sin(l-d),u.rightY=t.y+m*Math.cos(l-d)):(u.leftX=t.x-m*Math.sin(l+d),u.leftY=t.y+m*Math.cos(l+d),u.rightX=t.x+m*Math.sin(l-d),u.rightY=t.y-m*Math.cos(l-d)):o==="end"&&(n.x>=t.x?(u.leftX=n.x+m*Math.sin(l-d),u.leftY=n.y-m*Math.cos(l-d),u.rightX=n.x-m*Math.sin(l+d),u.rightY=n.y+m*Math.cos(l+d)):(u.leftX=n.x-m*Math.sin(l-d),u.leftY=n.y+m*Math.cos(l-d),u.rightX=n.x+m*Math.sin(l+d),u.rightY=n.y-m*Math.cos(l+d))),u};function Rl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rl(Object(n),!0).forEach(function(r){vb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gb(e){return function(t){if(Array.isArray(t))return wu(t)}(e)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||Ll(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Il(e){return(Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function _u(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||Ll(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ll(e,t){if(e){if(typeof e=="string")return wu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wu(e,t):void 0}}function wu(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xu=function(e){var t=[],n={};return e.forEach(function(r){var i="".concat(r.x,"-").concat(r.y);r.id=i,n[i]=r}),Object.keys(n).forEach(function(r){t.push(n[r])}),t},$i=function(e,t){return e.width===0&&e.height===0?e:{centerX:e.centerX,centerY:e.centerY,minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,height:e.height+2*t,width:e.width+2*t}},Ji=function(e,t){return function(n,r){var i=Math.abs(n.x-r.centerX),o=Math.abs(n.y-r.centerY);return i/r.width>o/r.height?St.HORIZONTAL:St.VERTICAL}(t,e)===St.HORIZONTAL?{x:t.x>e.centerX?e.maxX:e.minX,y:t.y}:{x:t.x,y:t.y>e.centerY?e.maxY:e.minY}},zl=function(e,t){var n=Math.min(e.minX,t.minX),r=Math.min(e.minY,t.minY),i=Math.max(e.maxX,t.maxX),o=Math.max(e.maxY,t.maxY);return{centerX:(n+i)/2,centerY:(r+o)/2,minX:n,minY:r,maxX:i,maxY:o,height:o-r,width:i-n}},Vo=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=[],r=[];e.forEach(function(E){n.push(E.x),r.push(E.y)});var i=Math.min.apply(Math,n),o=Math.max.apply(Math,n),u=Math.min.apply(Math,r),l=Math.max.apply(Math,r),d=o-i,m=l-u;return t&&(d+=t,m+=t),{centerX:(i+o)/2,centerY:(u+l)/2,maxX:o,maxY:l,minX:i,minY:u,x:(i+o)/2,y:(u+l)/2,height:m,width:d}},Qi=function(e){var t=e.minX,n=e.minY,r=e.maxX,i=e.maxY;return[{x:t,y:n},{x:r,y:n},{x:r,y:i},{x:t,y:i}]},ea=function(e,t){var n=e.x,r=e.y;return n<t.minX||n>t.maxX||r<t.minY||r>t.maxY},Eu=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},Bl=function(e,t,n,r,i){return Eu(e,t)+Eu(e,n)+function(o,u){var l=0;return u.forEach(function(d){d&&(o.x===d.x&&(l+=-2),o.y===d.y&&(l+=-2))}),l}(e,[t,n,r,i])},Wo=function(e,t,n,r){var i=t.x-e.x,o=t.y-e.y,u=r.x-n.x,l=r.y-n.y,d=(-o*(e.x-n.x)+i*(e.y-n.y))/(-u*o+i*l),m=(u*(e.y-n.y)-l*(e.x-n.x))/(-u*o+i*l);return d>=0&&d<=1&&m>=0&&m<=1},Fl=function(e,t,n){if(n.width===0&&n.height===0)return!1;var r=_u(Qi(n),4),i=r[0],o=r[1],u=r[2],l=r[3];return Wo(e,t,i,o)||Wo(e,t,i,l)||Wo(e,t,o,u)||Wo(e,t,u,l)},bb=function(e,t,n,r,i,o,u){var l=[],d=[t],m={},E={},A={};E[t.id]=0,A[t.id]=Bl(t,n,t);var M={};e.forEach(function(ee){M[ee.id]=ee});for(var I=function(){var ee,ae,re,se=void 0,pe=1/0;if(d.forEach(function(xe){A[xe.id]<pe&&(pe=A[xe.id],se=xe)}),se===n){var Se=[];return function xe(Me,Le,et,_t,At){At||(At=0),Me.unshift(Le[_t]),et[_t]&&et[_t]!==_t&&At<=100&&xe(Me,Le,et,et[_t],At+1)}(Se,M,m,n.id),{v:Se}}ae=se,(re=(ee=d).indexOf(ae))>-1&&ee.splice(re,1),l.push(se),function(xe,Me,Le,et){var _t=[];return xe.forEach(function(At){At!==Me&&(At.x!==Me.x&&At.y!==Me.y||Fl(At,Me,Le)||Fl(At,Me,et)||_t.push(At))}),xu(_t)}(e,se,r,i).forEach(function(xe){if(l.indexOf(xe)===-1){d.indexOf(xe)===-1&&d.push(xe);var Me=A[se.id]+Eu(se,xe);E[xe.id]&&Me>=E[xe.id]||(m[xe.id]=se.id,E[xe.id]=Me,A[xe.id]=E[xe.id]+Bl(xe,n,t,o,u))}})};d.length;){var W=I();if(Il(W)==="object")return W.v}return[t,n]},Ul=function(e){return ln(e)},ju=function(e){for(var t=e,n=1;n<t.length-1;){var r=t[n-1],i=t[n],o=t[n+1];r.x===i.x&&i.x===o.x||r.y===i.y&&i.y===o.y?t.splice(n,1):n++}return t},Gl=function(e,t,n,r,i){var o,u,l=Ul(n),d=Ul(r),m=$i(l,i),E=$i(d,i),A=Ji(m,e),M=Ji(E,t);if(o=m,u=E,2*Math.abs(o.centerX-u.centerX)<o.width+u.width&&2*Math.abs(o.centerY-u.centerY)<o.height+u.height){var I=Ob(e,t,A,M);return[e,A].concat(gb(I),[M,t])}var W=Vo([A,M]),ee=zl(m,W),ae=zl(E,W),re=[];re=(re=re.concat(Qi(ee))).concat(Qi(ae));var se={x:(e.x+t.x)/2,y:(e.y+t.y)/2};[W,ee,ae].forEach(function(Se){re=re.concat(function(xe,Me){return function(Le,et){return et<Le.minX||et>Le.maxX?[]:[{x:et,y:Le.minY},{x:et,y:Le.maxY}]}(xe,Me.x).concat(function(Le,et){return et<Le.minY||et>Le.maxY?[]:[{x:Le.minX,y:et},{x:Le.maxX,y:et}]}(xe,Me.y))}(Se,se).filter(function(xe){return ea(xe,m)&&ea(xe,E)}))}),[{x:A.x,y:M.y},{x:M.x,y:A.y}].forEach(function(Se){ea(Se,m)&&ea(Se,E)&&re.push(Se)}),re.unshift(A),re.push(M),re=xu(re);var pe=bb(re,A,M,l,d,e,t);return pe.unshift(e),pe.push(t),pe.length>2&&(pe=ju(pe)),xu(pe)},mb=function(e){var t;if(e.length===1)t=[e[0],e[0]];else if(e.length>=2){for(var n=e[0],r=e[1],i=Un(n.x,n.y,r.x,r.y),o=1;o<e.length-1;o++){var u=e[o],l=e[o+1],d=Un(u.x,u.y,l.x,l.y);d>i&&(i=d,n=u,r=l)}t=[n,r]}return t},Hl=function(e,t,n){var r=Or(e,n),i=Or(t,n);return r&&i},Xl=function(e,t,n){var r=Or(e,n),i=Or(t,n);return!(r&&i)&&(r||i)},Yl=function(e,t,n){for(var r,i,o=ln(n),u=Qi(o),l=0;l<u.length;l++)Wo(e,t,u[l],u[(l+1)%u.length])&&(i=[u[l],u[(l+1)%u.length]]);return i&&(r=function(d,m,E,A){var M=(m.y-d.y)*(A.x-E.x)-(d.x-m.x)*(E.y-A.y);if(M===0)return!1;var I=((m.x-d.x)*(A.x-E.x)*(E.y-d.y)+(m.y-d.y)*(A.x-E.x)*d.x-(A.y-E.y)*(m.x-d.x)*E.x)/M,W=-((m.y-d.y)*(A.y-E.y)*(E.x-d.x)+(m.x-d.x)*(A.y-E.y)*d.y-(A.x-E.x)*(m.y-d.y)*E.y)/M;return(I-d.x)*(I-m.x)<=0&&(W-d.y)*(W-m.y)<=0&&(I-E.x)*(I-A.x)<=0&&(W-E.y)*(W-A.y)<=0&&{x:I,y:W}}(e,t,i[0],i[1])),r},ta=function(e,t){var n;return e.x===t.x?n=St.VERTICAL:e.y===t.y&&(n=St.HORIZONTAL),n},lo=function(e){var t=e.split(" "),n=[];return t&&t.forEach(function(r){var i=_u(r.split(","),2),o=i[0],u=i[1];n.push({x:Number(o),y:Number(u)})}),n},Ob=function(e,t,n,r){var i=[];if(ta(e,n)===ta(t,r))e.y===n.y?(i.push({x:n.x,y:(n.y+r.y)/2}),i.push({x:r.x,y:(n.y+r.y)/2})):(i.push({x:(n.x+r.x)/2,y:n.y}),i.push({x:(n.x+r.x)/2,y:r.y}));else{var o={x:n.x,y:r.y},u=Go(o,e,n),l=Go(o,t,r);if(u||l)o={x:r.x,y:n.y};else{var d=Vl(o,e,n),m=Vl(o,t,r);d&&m&&(o={x:r.x,y:n.y})}i.push(o)}return i},Vl=function(e,t,n){return e.x===t.x&&e.x===n.x||e.y===t.y&&e.y===n.y},Wl=function(e){if(!e)return 0;for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);e.match(/[A-Z]/)?t+=1.5:t+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return t},Kl=function(e){var t=e.start,n=e.end,r=e.sourceNode,i=e.targetNode,o=e.offset,u=ln(r),l=ln(i),d=$i(u,o),m=$i(l,o);return{sNext:Ji(d,t),ePre:Ji(m,n)}},na=function(e){var t=e.replace(/M/g,"").replace(/C/g,",").split(",");return[ra(t[0]),ra(t[1]),ra(t[2]),ra(t[3])]},ra=function(e){var t=_u(e.replace(/(^\s*)/g,"").split(" "),2);return{x:+t[0],y:+t[1]}},Zl=function(e,t){for(var n,r=e.x,i=e.y,o=lo(t),u=Number.MAX_SAFE_INTEGER,l=[],d=0;d<o.length;d++)l.push({start:o[d],end:o[(d+1)%o.length]});if(l.forEach(function(M){var I=M.start,W=M.end;if(I.x===W.x){var ee={x:I.x,y:i};if(Go(ee,I,W)){var ae=Math.abs(I.x-r);ae<u&&(u=ae,n=ee)}}else if(I.y===W.y){var re={x:r,y:I.y};if(Go(re,I,W)){var se=Math.abs(I.y-i);se<u&&(u=se,n=re)}}}),!n){var m=l[0],E=m.start,A=m.end;n={x:E.x+(A.x-E.x)/2,y:E.y+(A.y-E.y)/2}}return n},_b=function(e){return Fo(e,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},ql=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},fo=function(){};function wb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _r=window.document;function oa(e){var t=e.onDragStart,n=t===void 0?fo:t,r=e.onDraging,i=r===void 0?fo:r,o=e.onDragEnd,u=o===void 0?fo:o,l=e.step,d=l===void 0?1:l,m=e.isStopPropagation,E=m===void 0||m,A=!1,M=!1,I=0,W=0,ee=0,ae=0;function re(pe){if(E&&pe.stopPropagation(),M&&(A=!0,ee+=pe.clientX-I,ae+=pe.clientY-W,I=pe.clientX,W=pe.clientY,Math.abs(ee)>d||Math.abs(ae)>d)){var Se=ee%d,xe=ae%d,Me=ee-Se,Le=ae-xe;ee=Se,ae=xe,i({deltaX:Me,deltaY:Le,event:pe})}}function se(pe){if(E&&pe.stopPropagation(),M=!1,_r.removeEventListener("mousemove",re,!1),_r.removeEventListener("mouseup",se,!1),A)return A=!1,u({event:pe})}return function(pe){if(pe.button===0)return E&&pe.stopPropagation(),M=!0,I=pe.clientX,W=pe.clientY,_r.addEventListener("mousemove",re,!1),_r.addEventListener("mouseup",se,!1),n({event:pe})}}var ce,$l,Jl,Ql,ef,tf,nf,rf,of,af,uf,cf,sf,po=function(){function e(r){var i=this,o=r.onDragStart,u=o===void 0?fo:o,l=r.onDraging,d=l===void 0?fo:l,m=r.onDragEnd,E=m===void 0?fo:m,A=r.eventType,M=A===void 0?"":A,I=r.eventCenter,W=I===void 0?null:I,ee=r.step,ae=ee===void 0?1:ee,re=r.isStopPropagation,se=re===void 0||re,pe=r.model,Se=pe===void 0?null:pe;(function(xe,Me){if(!(xe instanceof Me))throw new TypeError("Cannot call a class as a function")})(this,e),zt(this,"onDragStart",void 0),zt(this,"onDraging",void 0),zt(this,"onDragEnd",void 0),zt(this,"step",void 0),zt(this,"isStopPropagation",void 0),zt(this,"isDraging",!1),zt(this,"isStartDraging",!1),zt(this,"startX",0),zt(this,"startY",0),zt(this,"sumDeltaX",0),zt(this,"sumDeltaY",0),zt(this,"eventType",void 0),zt(this,"eventCenter",void 0),zt(this,"model",void 0),zt(this,"startTime",void 0),zt(this,"isGrag",void 0),zt(this,"handleMouseDown",function(xe){var Me,Le;if(xe.button===0){i.isStopPropagation&&xe.stopPropagation(),i.isStartDraging=!0,i.startX=xe.clientX,i.startY=xe.clientY,_r.addEventListener("mousemove",i.handleMouseMove,!1),_r.addEventListener("mouseup",i.handleMouseUp,!1);var et=(Me=i.model)===null||Me===void 0?void 0:Me.getData();(Le=i.eventCenter)===null||Le===void 0||Le.emit(Qe["".concat(i.eventType,"_MOUSEDOWN")],{e:xe,data:et}),i.startTime=new Date().getTime()}}),zt(this,"handleMouseMove",function(xe){if(i.isStopPropagation&&xe.stopPropagation(),i.isStartDraging&&(i.sumDeltaX+=xe.clientX-i.startX,i.sumDeltaY+=xe.clientY-i.startY,i.startX=xe.clientX,i.startY=xe.clientY,i.step<=1||Math.abs(i.sumDeltaX)>i.step||Math.abs(i.sumDeltaY)>i.step)){var Me,Le=i.sumDeltaX%i.step,et=i.sumDeltaY%i.step,_t=i.sumDeltaX-Le,At=i.sumDeltaY-et;i.sumDeltaX=Le,i.sumDeltaY=et;var rn,Dn=(Me=i.model)===null||Me===void 0?void 0:Me.getData();i.isDraging||((rn=i.eventCenter)===null||rn===void 0||rn.emit(Qe["".concat(i.eventType,"_DRAGSTART")],{e:xe,data:Dn}),i.onDragStart({event:xe})),i.isDraging=!0,setTimeout(function(){var Sr,Pr;i.onDraging({deltaX:_t,deltaY:At,event:xe}),(Sr=i.eventCenter)===null||Sr===void 0||Sr.emit(Qe["".concat(i.eventType,"_MOUSEMOVE")],{e:xe,data:Dn}),(Pr=i.eventCenter)===null||Pr===void 0||Pr.emit(Qe["".concat(i.eventType,"_DRAG")],{e:xe,data:Dn})},0)}}),zt(this,"handleMouseUp",function(xe){var Me,Le,et;i.isStartDraging=!1,i.isStopPropagation&&xe.stopPropagation(),_r.removeEventListener("mousemove",i.handleMouseMove,!1),_r.removeEventListener("mouseup",i.handleMouseUp,!1);var _t=(Me=i.model)===null||Me===void 0?void 0:Me.getData();(Le=i.eventCenter)===null||Le===void 0||Le.emit(Qe["".concat(i.eventType,"_MOUSEUP")],{e:xe,data:_t}),i.isDraging&&(i.isDraging=!1,i.onDragEnd({event:xe}),(et=i.eventCenter)===null||et===void 0||et.emit(Qe["".concat(i.eventType,"_DROP")],{e:xe,data:_t}))}),this.onDragStart=u,this.onDraging=d,this.onDragEnd=E,this.step=ae,this.isStopPropagation=se,this.eventType=M,this.eventCenter=W,this.model=Se}var t,n;return t=e,(n=[{key:"setStep",value:function(r){this.step=r}}])&&wb(t.prototype,n),e}();function lf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ia(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lf(Object(n),!0).forEach(function(r){tr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lf(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ff(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||df(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function pf(e){return function(t){if(Array.isArray(t))return Su(t)}(e)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||df(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function df(e,t){if(e){if(typeof e=="string")return Su(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Su(e,t):void 0}}function Su(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pu(e){return(Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function gn(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function xb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ke(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var hf,yf=($l=Ke((ce=function(){function e(r){(function(I,W){if(!(I instanceof W))throw new TypeError("Cannot call a class as a function")})(this,e),tr(this,"rootEl",void 0),gn(this,"width",$l,this),gn(this,"height",Jl,this),tr(this,"theme",void 0),tr(this,"eventCenter",void 0),tr(this,"modelMap",new Map),tr(this,"topElement",void 0),tr(this,"animation",void 0),tr(this,"idGenerator",void 0),tr(this,"nodeMoveRules",[]),gn(this,"edgeType",Ql,this),gn(this,"nodes",ef,this),gn(this,"edges",tf,this),gn(this,"overlapMode",nf,this),gn(this,"background",rf,this),gn(this,"transformModel",of,this),gn(this,"editConfigModel",af,this),gn(this,"gridSize",uf,this),gn(this,"partial",cf,this),gn(this,"fakerNode",sf,this);var i,o=r.container,u=r.background,l=u===void 0?{}:u,d=r.grid,m=r.width,E=r.height,A=r.idGenerator,M=r.animation;this.background=l,Pu(d)==="object"&&(this.gridSize=d.size),this.rootEl=o,this.editConfigModel=new Es(r),this.eventCenter=new Gg,this.transformModel=new cg(this.eventCenter),this.theme=Ys(r.style),this.edgeType=r.edgeType||"polyline",this.width=m!=null?m:o.getBoundingClientRect().width,this.height=E!=null?E:o.getBoundingClientRect().height,this.animation=(i=M)&&typeof i!="boolean"?Xs(Mt(Ol),i):Mt(i===!0?Qg:Ol),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=A}var t,n;return t=e,(n=[{key:"nodesMap",get:function(){return this.nodes.reduce(function(r,i,o){return r[i.id]={index:o,model:i},r},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(r,i,o){return r[i.id]={index:o,model:i},r},{})}},{key:"modelsMap",get:function(){return[].concat(pf(this.nodes),pf(this.edges)).reduce(function(r,i){return r[i.id]=i,r},{})}},{key:"sortElements",get:function(){var r=[];this.nodes.forEach(function(A){return r.push(A)}),this.edges.forEach(function(A){return r.push(A)}),r=r.sort(function(A,M){return A.zIndex-M.zIndex});for(var i=[],o=-1,u=[-200,-200],l=[this.width+200,this.height+200],d=0;d<r.length;d++){var m=r[d];!m.visible||this.partial&&!this.isElementInArea(m,u,l,!1)||(m.zIndex===9999&&(o=i.length),i.push(m))}if(o!==-1){var E=i[i.length-1];i[i.length-1]=i[o],i[o]=E}return i}},{key:"textEditElement",get:function(){var r=this.nodes.find(function(o){return o.state===Ot.TEXT_EDIT}),i=this.edges.find(function(o){return o.state===Ot.TEXT_EDIT});return r||i}},{key:"selectElements",get:function(){var r=new Map;return this.nodes.forEach(function(i){i.isSelected&&r.set(i.id,i)}),this.edges.forEach(function(i){i.isSelected&&r.set(i.id,i)}),r}},{key:"getAreaElement",value:function(r,i){var o=[],u=[];this.nodes.forEach(function(m){return u.push(m)}),this.edges.forEach(function(m){return u.push(m)});for(var l=0;l<u.length;l++){var d=u[l];this.isElementInArea(d,r,i)&&o.push(d)}return o}},{key:"getModel",value:function(r){return this.modelMap.get(r)}},{key:"getNodeModelById",value:function(r){var i;return this.fakerNode&&r===this.fakerNode.id?this.fakerNode:(i=this.nodesMap[r])===null||i===void 0?void 0:i.model}},{key:"getPointByClient",value:function(r){var i=r.x,o=r.y,u=this.rootEl.getBoundingClientRect(),l={x:i-u.left,y:o-u.top},d=ff(this.transformModel.HtmlPointToCanvasPoint([l.x,l.y]),2);return{domOverlayPosition:l,canvasOverlayPosition:{x:d[0],y:d[1]}}}},{key:"isElementInArea",value:function(r,i,o){var u=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];if(r.BaseType===Lt.NODE){for(var l=ln(r=r),d=l.minX,m=l.minY,E=l.maxX,A=l.maxY,M=[{x:d,y:m},{x:E,y:m},{x:E,y:A},{x:d,y:A}],I=!0,W=0;W<M.length;W++){var ee=M[W],ae=ee.x,re=ee.y,se=this.transformModel.CanvasPointToHtmlPoint([ae,re]),pe=ff(se,2);if(ae=pe[0],re=pe[1],!su([ae,re],i,o)){I=!1;break}}return I}if(r.BaseType===Lt.EDGE){var Se=r=r,xe=Se.startPoint,Me=Se.endPoint,Le=this.transformModel.CanvasPointToHtmlPoint([xe.x,xe.y]),et=this.transformModel.CanvasPointToHtmlPoint([Me.x,Me.y]),_t=su(Le,i,o),At=su(et,i,o);return u?_t&&At:_t||At}return!1}},{key:"graphDataToModel",value:function(r){var i=this;this.nodes=Ui(r.nodes,function(o){var u=i.getModel(o.type);if(!u)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8282\u70B9\u3002"));var l=o.x,d=o.y;return l&&d&&(o.x=Yi(l,i.gridSize),o.y=Yi(d,i.gridSize),Pu(o.text)==="object"&&(o.text.x-=Vs(l,i.gridSize),o.text.y-=Vs(d,i.gridSize))),new u(o,i)}),this.edges=Ui(r.edges,function(o){var u=i.getModel(o.type);if(!u)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8FB9\u3002"));return new u(o,i)})}},{key:"modelToGraphData",value:function(){var r=[];this.edges.forEach(function(o){var u=o.getData();u&&r.push(u)});var i=[];return this.nodes.forEach(function(o){var u=o.getData();u&&i.push(u)}),{nodes:i,edges:r}}},{key:"modelToHistoryData",value:function(){for(var r=!1,i=[],o=0;o<this.nodes.length;o++){var u=this.nodes[o];if(u.isDragging){r=!0;break}i.push(u.getData())}if(r)return!1;for(var l=!1,d=[],m=0;m<this.edges.length;m++){var E=this.edges[m];if(E.isDragging){l=!0;break}d.push(E.getData())}return!l&&{nodes:i,edges:d}}},{key:"getEdgeModelById",value:function(r){var i;return(i=this.edgesMap[r])===null||i===void 0?void 0:i.model}},{key:"getElement",value:function(r){return this.modelsMap[r]}},{key:"getNodeEdges",value:function(r){for(var i=[],o=0;o<this.edges.length;o++){var u=this.edges[o],l=this.edges[o].sourceNodeId===r,d=this.edges[o].targetNodeId===r;(l||d)&&i.push(u)}return i}},{key:"getSelectElements",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],i=this.selectElements,o={nodes:[],edges:[]};return i.forEach(function(u){if(u.BaseType===Lt.NODE&&o.nodes.push(u.getData()),u.BaseType===Lt.EDGE){var l=u.getData(),d=i.get(l.sourceNodeId)&&i.get(l.targetNodeId);(r||d)&&o.edges.push(l)}}),o}},{key:"updateAttributes",value:function(r,i){this.getElement(r).updateAttributes(i)}},{key:"changeNodeId",value:function(r,i){return i||(i=so()),this.nodesMap[i]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8282\u70B9".concat(i,", \u4FEE\u6539\u5931\u8D25")),""):this.nodesMap[r]?(this.edges.forEach(function(o){o.sourceNodeId===r&&(o.sourceNodeId=i),o.targetNodeId===r&&(o.targetNodeId=i)}),this.nodesMap[r].model.id=i,i):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8282\u70B9".concat(i,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"changeEdgeId",value:function(r,i){return i||(i=so()),this.edgesMap[i]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8FB9: ".concat(i,", \u4FEE\u6539\u5931\u8D25")),""):this.edgesMap[r]?(this.edges.forEach(function(o){o.id===r&&(o.id=i)}),i):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8FB9: ".concat(i,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"setFakerNode",value:function(r){this.fakerNode=r}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(r,i){return this.modelMap.set(r,i)}},{key:"toFront",value:function(r){var i,o,u,l=((i=this.nodesMap[r])===null||i===void 0?void 0:i.model)||((o=this.edgesMap[r])===null||o===void 0?void 0:o.model);l&&(this.overlapMode===sn.DEFAULT&&((u=this.topElement)===null||u===void 0||u.setZIndex(),l.setZIndex(9999),this.topElement=l),this.overlapMode===sn.INCREASE&&this.setElementZIndex(r,"top"))}},{key:"setElementZIndex",value:function(r,i){var o,u,l,d=((o=this.nodesMap[r])===null||o===void 0?void 0:o.model)||((u=this.edgesMap[r])===null||u===void 0?void 0:u.model);d&&(typeof i=="number"&&(l=i),i==="top"&&(l=yu()),i==="bottom"&&(l=--nb),d.setZIndex(l))}},{key:"deleteNode",value:function(r){var i=this.nodesMap[r].model.getData();this.deleteEdgeBySource(r),this.deleteEdgeByTarget(r),this.nodes.splice(this.nodesMap[r].index,1),this.eventCenter.emit(Qe.NODE_DELETE,{data:i})}},{key:"addNode",value:function(r){var i=Gn(r);i.id&&this.nodesMap[r.id]&&delete i.id;var o=this.getModel(i.type);if(!o)throw new Error("\u627E\u4E0D\u5230".concat(i.type,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var u=new o(i,this);this.nodes.push(u);var l=u.getData();return this.eventCenter.emit(Qe.NODE_ADD,{data:l}),u}},{key:"cloneNode",value:function(r){var i=this.getNodeModelById(r),o=i.getData();o.x+=30,o.y+=30,delete o.id,o.text&&(o.text.x+=30,o.text.y+=30);var u=this.addNode(o);return u.setSelected(!0),i.setSelected(!1),u.getData()}},{key:"moveNode",value:function(r,i,o){var u=arguments.length>3&&arguments[3]!==void 0&&arguments[3],l=this.nodesMap[r];if(l){var d=l.model,m=d.move(i,o,u);m&&this.moveEdge(r,i,o)}else console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(r,"\u7684\u8282\u70B9"))}},{key:"moveNode2Coordinate",value:function(r,i,o){var u=arguments.length>3&&arguments[3]!==void 0&&arguments[3],l=this.nodesMap[r];if(l){var d=l.model,m=d.x,E=d.y,A=i-m,M=o-E;this.moveNode(r,A,M,u)}else console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(r,"\u7684\u8282\u70B9"))}},{key:"editText",value:function(r){this.setElementStateById(r,Ot.TEXT_EDIT)}},{key:"addEdge",value:function(r){var i=Gn(r),o=i.type;o||(o=this.edgeType),i.id&&this.edgesMap[i.id]&&delete i.id;var u=this.getModel(o);if(!u)throw new Error("\u627E\u4E0D\u5230".concat(o,"\u5BF9\u5E94\u7684\u8FB9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8FB9\u3002"));var l=new u(ia(ia({},i),{},{type:o}),this),d=l.getData();return this.edges.push(l),this.eventCenter.emit(Qe.EDGE_ADD,{data:d}),l}},{key:"moveEdge",value:function(r,i,o){for(var u=0;u<this.edges.length;u++){var l,d=this.edges[u],m=d.textPosition,E=m.x,A=m.y,M=this.edges[u].sourceNodeId===r,I=this.edges[u].targetNodeId===r;if(M&&d.updateStartPoint({x:d.startPoint.x+i,y:d.startPoint.y+o}),I&&d.updateEndPoint({x:d.endPoint.x+i,y:d.endPoint.y+o}),M||I)if(d.customTextPosition===!0)d.resetTextPosition();else if(d.modelType===ct.POLYLINE_EDGE&&(l=d.text)!==null&&l!==void 0&&l.value){var W=d.text,ee=Zl(W,d.points);d.moveText(ee.x-W.x,ee.y-W.y)}else{var ae=d.textPosition,re=ae.x,se=ae.y;d.moveText(re-E,se-A)}}}},{key:"deleteEdgeBySourceAndTarget",value:function(r,i){for(var o=0;o<this.edges.length;o++)if(this.edges[o].sourceNodeId===r&&this.edges[o].targetNodeId===i){var u=this.edges[o].getData();this.edges.splice(o,1),o--,this.eventCenter.emit(Qe.EDGE_DELETE,{data:u})}}},{key:"deleteEdgeById",value:function(r){if(this.edgesMap[r]){var i=this.edgesMap[r].index,o=this.edgesMap[r].model.getData();this.edges.splice(i,1),this.eventCenter.emit(Qe.EDGE_DELETE,{data:o})}}},{key:"deleteEdgeBySource",value:function(r){for(var i=0;i<this.edges.length;i++)if(this.edges[i].sourceNodeId===r){var o=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(Qe.EDGE_DELETE,{data:o})}}},{key:"deleteEdgeByTarget",value:function(r){for(var i=0;i<this.edges.length;i++)if(this.edges[i].targetNodeId===r){var o=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(Qe.EDGE_DELETE,{data:o})}}},{key:"setElementStateById",value:function(r,i,o){this.nodes.forEach(function(u){u.id===r?u.setElementState(i,o):u.setElementState(Ot.DEFAULT)}),this.edges.forEach(function(u){u.id===r?u.setElementState(i,o):u.setElementState(Ot.DEFAULT)})}},{key:"updateText",value:function(r,i){this.nodes.forEach(function(o){o.id===r&&o.updateText(i)}),this.edges.forEach(function(o){o.id===r&&o.updateText(i)})}},{key:"selectNodeById",value:function(r){var i,o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];o||this.clearSelectElements();var u=(i=this.nodesMap[r])===null||i===void 0?void 0:i.model;u==null||u.setSelected(!0)}},{key:"selectEdgeById",value:function(r){var i,o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];o||this.clearSelectElements();var u=(i=this.edgesMap[r])===null||i===void 0?void 0:i.model;u==null||u.setSelected(!0)}},{key:"selectElementById",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];i||this.clearSelectElements();var o=this.getElement(r);o==null||o.setSelected(!0)}},{key:"clearSelectElements",value:function(){var r;this.selectElements.forEach(function(i){i==null||i.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===sn.DEFAULT&&((r=this.topElement)===null||r===void 0||r.setZIndex())}},{key:"moveNodes",value:function(r,i,o){var u=this,l=arguments.length>3&&arguments[3]!==void 0&&arguments[3];r.forEach(function(d){return u.moveNode(d,i,o,l)})}},{key:"addNodeMoveRules",value:function(r){this.nodeMoveRules.includes(r)||this.nodeMoveRules.push(r)}},{key:"setDefaultEdgeType",value:function(r){this.edgeType=r}},{key:"changeNodeType",value:function(r,i){var o=this.getNodeModelById(r);if(o){var u=o.getData();u.type=i;var l=this.getModel(i);if(!l)throw new Error("\u627E\u4E0D\u5230".concat(i,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var d=new l(u,this);this.nodes.splice(this.nodesMap[r].index,1,d),this.getNodeEdges(r).forEach(function(m){if(m.sourceNodeId===r){var E=bl(d,m.startPoint,d.width,d.height);m.updateStartPoint(E)}if(m.targetNodeId===r){var A=bl(d,m.endPoint,d.width,d.height);m.updateEndPoint(A)}})}else console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(r,"\u7684\u8282\u70B9"))}},{key:"changeEdgeType",value:function(r,i){var o=this.getEdgeModelById(r);if(o){if(o.type!==i){var u=o.getData();u.type=i;var l=this.getModel(i);if(!l)throw new Error("\u627E\u4E0D\u5230".concat(i,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));delete u.pointsList;var d=new l(u,this);this.edges.splice(this.edgesMap[r].index,1,d)}}else console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(r,"\u7684\u8FB9"))}},{key:"getNodeIncomingEdge",value:function(r){var i=[];return this.edges.forEach(function(o){o.targetNodeId===r&&i.push(o)}),i}},{key:"getNodeOutgoingEdge",value:function(r){var i=[];return this.edges.forEach(function(o){o.sourceNodeId===r&&i.push(o)}),i}},{key:"getNodeIncomingNode",value:function(r){var i=this,o=[];return this.edges.forEach(function(u){u.targetNodeId===r&&o.push(i.nodesMap[u.sourceNodeId].model)}),o}},{key:"getNodeOutgoingNode",value:function(r){var i=this,o=[];return this.edges.forEach(function(u){u.sourceNodeId===r&&o.push(i.nodesMap[u.targetNodeId].model)}),o}},{key:"setTheme",value:function(r){this.theme=Ys(ia(ia({},this.theme),r))}},{key:"resize",value:function(r,i){this.width=r!=null?r:this.width,this.height=i!=null?i:this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}}])&&xb(t.prototype,n),e}()).prototype,"width",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jl=Ke(ce.prototype,"height",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ql=Ke(ce.prototype,"edgeType",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ef=Ke(ce.prototype,"nodes",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),tf=Ke(ce.prototype,"edges",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),nf=Ke(ce.prototype,"overlapMode",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return sn.DEFAULT}}),rf=Ke(ce.prototype,"background",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),of=Ke(ce.prototype,"transformModel",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),af=Ke(ce.prototype,"editConfigModel",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uf=Ke(ce.prototype,"gridSize",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),cf=Ke(ce.prototype,"partial",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),sf=Ke(ce.prototype,"fakerNode",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ke(ce.prototype,"nodesMap",[s.m],Object.getOwnPropertyDescriptor(ce.prototype,"nodesMap"),ce.prototype),Ke(ce.prototype,"edgesMap",[s.m],Object.getOwnPropertyDescriptor(ce.prototype,"edgesMap"),ce.prototype),Ke(ce.prototype,"modelsMap",[s.m],Object.getOwnPropertyDescriptor(ce.prototype,"modelsMap"),ce.prototype),Ke(ce.prototype,"sortElements",[s.m],Object.getOwnPropertyDescriptor(ce.prototype,"sortElements"),ce.prototype),Ke(ce.prototype,"textEditElement",[s.m],Object.getOwnPropertyDescriptor(ce.prototype,"textEditElement"),ce.prototype),Ke(ce.prototype,"selectElements",[s.m],Object.getOwnPropertyDescriptor(ce.prototype,"selectElements"),ce.prototype),Ke(ce.prototype,"setFakerNode",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"setFakerNode"),ce.prototype),Ke(ce.prototype,"removeFakerNode",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"removeFakerNode"),ce.prototype),Ke(ce.prototype,"setModel",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"setModel"),ce.prototype),Ke(ce.prototype,"toFront",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"toFront"),ce.prototype),Ke(ce.prototype,"setElementZIndex",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"setElementZIndex"),ce.prototype),Ke(ce.prototype,"deleteNode",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"deleteNode"),ce.prototype),Ke(ce.prototype,"addNode",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"addNode"),ce.prototype),Ke(ce.prototype,"cloneNode",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"cloneNode"),ce.prototype),Ke(ce.prototype,"moveNode",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"moveNode"),ce.prototype),Ke(ce.prototype,"moveNode2Coordinate",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"moveNode2Coordinate"),ce.prototype),Ke(ce.prototype,"editText",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"editText"),ce.prototype),Ke(ce.prototype,"addEdge",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"addEdge"),ce.prototype),Ke(ce.prototype,"moveEdge",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"moveEdge"),ce.prototype),Ke(ce.prototype,"deleteEdgeBySourceAndTarget",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"deleteEdgeBySourceAndTarget"),ce.prototype),Ke(ce.prototype,"deleteEdgeById",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"deleteEdgeById"),ce.prototype),Ke(ce.prototype,"deleteEdgeBySource",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"deleteEdgeBySource"),ce.prototype),Ke(ce.prototype,"deleteEdgeByTarget",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"deleteEdgeByTarget"),ce.prototype),Ke(ce.prototype,"setElementStateById",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"setElementStateById"),ce.prototype),Ke(ce.prototype,"updateText",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"updateText"),ce.prototype),Ke(ce.prototype,"selectNodeById",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"selectNodeById"),ce.prototype),Ke(ce.prototype,"selectEdgeById",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"selectEdgeById"),ce.prototype),Ke(ce.prototype,"selectElementById",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"selectElementById"),ce.prototype),Ke(ce.prototype,"clearSelectElements",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"clearSelectElements"),ce.prototype),Ke(ce.prototype,"moveNodes",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"moveNodes"),ce.prototype),Ke(ce.prototype,"setDefaultEdgeType",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"setDefaultEdgeType"),ce.prototype),Ke(ce.prototype,"changeNodeType",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"changeNodeType"),ce.prototype),Ke(ce.prototype,"changeEdgeType",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"changeEdgeType"),ce.prototype),Ke(ce.prototype,"getNodeIncomingEdge",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"getNodeIncomingEdge"),ce.prototype),Ke(ce.prototype,"getNodeOutgoingEdge",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"getNodeOutgoingEdge"),ce.prototype),Ke(ce.prototype,"getNodeIncomingNode",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"getNodeIncomingNode"),ce.prototype),Ke(ce.prototype,"getNodeOutgoingNode",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"getNodeOutgoingNode"),ce.prototype),Ke(ce.prototype,"setTheme",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"setTheme"),ce.prototype),Ke(ce.prototype,"resize",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"resize"),ce.prototype),Ke(ce.prototype,"clearData",[s.k],Object.getOwnPropertyDescriptor(ce.prototype,"clearData"),ce.prototype),ce),Eb=yf;function vf(e){return(vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function gf(){return(gf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function jb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bf(e,t){return(bf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Sb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Au(e);if(t){var i=Au(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Pb(this,n)}}function Pb(e,t){if(t&&(vf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hn(e)}function Hn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Au(e){return(Au=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function nr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mf,Ab=Mn(hf=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&bf(o,u)})(i,e);var t,n,r=Sb(i);function i(o){var u;(function(E,A){if(!(E instanceof A))throw new TypeError("Cannot call a class as a function")})(this,i),nr(Hn(u=r.call(this)),"stepDrag",void 0),nr(Hn(u),"stepScrollX",0),nr(Hn(u),"stepScrollY",0),nr(Hn(u),"onDraging",function(E){var A=E.deltaX,M=E.deltaY;u.setState({isDraging:!0});var I=u.props.graphModel,W=I.transformModel;I.editConfigModel.stopMoveGraph||W.translate(A,M)}),nr(Hn(u),"onDragEnd",function(){u.setState({isDraging:!1})}),nr(Hn(u),"zoomHandler",function(E){var A=u.props,M=A.graphModel,I=M.editConfigModel,W=M.transformModel,ee=M.gridSize,ae=A.graphModel,re=E.deltaX,se=E.deltaY;if(I.stopScrollGraph||E.ctrlKey===!0){if(!I.stopZoomGraph){E.preventDefault();var pe=ae.getPointByClient({x:E.clientX,y:E.clientY}).canvasOverlayPosition,Se=pe.x,xe=pe.y;W.zoom(E.deltaY<0,[Se,xe])}}else{if(E.preventDefault(),u.stepScrollX+=re,u.stepScrollY+=se,Math.abs(u.stepScrollX)>=ee){var Me=u.stepScrollX%ee,Le=u.stepScrollX-Me;W.translate(-Le*W.SCALE_X,0),u.stepScrollX=Me}if(Math.abs(u.stepScrollY)>=ee){var et=u.stepScrollY%ee,_t=u.stepScrollY-et;W.translate(0,-_t*W.SCALE_Y),u.stepScrollY=et}}}),nr(Hn(u),"clickHandler",function(E){if(E.target.getAttribute("name")==="canvas-overlay"){var A=u.props.graphModel;A.selectElements.size>0&&A.clearSelectElements(),A.eventCenter.emit(Qe.BLANK_CLICK,{e:E})}}),nr(Hn(u),"handleContextMenu",function(E){if(E.target.getAttribute("name")==="canvas-overlay"){E.preventDefault();var A=u.props.graphModel,M=A.getPointByClient({x:E.clientX,y:E.clientY});A.eventCenter.emit(Qe.BLANK_CONTEXTMENU,{e:E,position:M})}}),nr(Hn(u),"mouseDownHandler",function(E){var A=u.props.graphModel,M=A.eventCenter,I=A.editConfigModel,W=A.transformModel.SCALE_X,ee=A.gridSize;I.stopMoveGraph?M.emit(Qe.BLANK_MOUSEDOWN,{e:E}):(u.stepDrag.setStep(ee*W),u.stepDrag.handleMouseDown(E)),u.clickHandler(E)});var l=o.graphModel,d=l.gridSize,m=l.eventCenter;return u.stepDrag=new po({onDraging:u.onDraging,onDragEnd:u.onDragEnd,step:d,eventType:"BLANK",eventCenter:m,model:null}),u.state={isDraging:!1},u}return t=i,(n=[{key:"render",value:function(){var o=this.props.graphModel.transformModel.getTransformStyle().transform,u=this.props,l=u.children,d=u.dnd,m=this.state.isDraging;return Object(K.g)("svg",gf({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:m?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},d.eventMap()),Object(K.g)("g",{transform:o},l))}}])&&jb(t.prototype,n),i}(K.a))||hf;function Of(e){return(Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function kb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _f(e,t){return(_f=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Mb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ku(e);if(t){var i=ku(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Db(this,n)}}function Db(e,t){if(t&&(Of(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wf(e)}function wf(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ku(e){return(ku=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Nb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Cb=Mn(mf=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&_f(o,u)})(i,e);var t,n,r=Mb(i);function i(){var o;kb(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Nb(wf(o=r.call.apply(r,[this].concat(l))),"setToolOverlayRef",function(m){var E=o.props.tool.getInstance();E.components.forEach(function(A){return A(E,m)}),E.components=[]}),o}return t=i,(n=[{key:"getTools",value:function(){var o=this.props,u=o.tool,l=o.graphModel,d=u.getTools().map(function(m){return Object(K.g)(m,{graphModel:l,logicFlow:u.instance})});return u.components=d,d}},{key:"render",value:function(){return Object(K.g)("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}])&&Tb(t.prototype,n),i}(K.a))||mf;function xf(e){return(xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Rb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ib(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ef(e,t){return(Ef=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Lb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Tu(e);if(t){var i=Tu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return zb(this,n)}}function zb(e,t){if(t&&(xf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Tu(e){return(Tu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var jf,Bb=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Ef(o,u)})(i,e);var t,n,r=Lb(i);function i(){return Rb(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var o=this.props.background;return Object(K.g)("div",{className:"lf-background"},Object(K.g)("div",{style:o,className:"lf-background-area"}))}}])&&Ib(t.prototype,n),i}(K.a);function Sf(e){return(Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Fb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ub(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pf(e,t){return(Pf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Gb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Mu(e);if(t){var i=Mu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Hb(this,n)}}function Hb(e,t){if(t&&(Sf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Af(e)}function Af(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mu(e){return(Mu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Xb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kf=Mn(jf=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Pf(o,u)})(i,e);var t,n,r=Gb(i);function i(){var o;Fb(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Xb(Af(o=r.call.apply(r,[this].concat(l))),"id",so()),o}return t=i,(n=[{key:"renderDot",value:function(){var o=this.props,u=o.config,l=u.color,d=u.thickness,m=d===void 0?2:d,E=o.size,A=o.visible,M=Math.min(Math.max(2,m),E/2),I=1;return A||(I=0),Object(K.g)("rect",{width:M,height:M,rx:M/2,ry:M/2,fill:l,opacity:I})}},{key:"renderMesh",value:function(){var o=this.props,u=o.config,l=u.color,d=u.thickness,m=d===void 0?1:d,E=o.size,A=o.visible,M=Math.min(Math.max(1,m),E/2),I="M ".concat(E," 0 H0 M0 0 V0 ").concat(E),W=1;return A||(W=0),Object(K.g)("path",{d:I,stroke:l,strokeWidth:M,opacity:W})}},{key:"render",value:function(){var o=this.props,u=o.type,l=o.size,d=o.graphModel.transformModel,m=[d.SCALE_X,d.SKEW_Y,d.SKEW_X,d.SCALE_Y,d.TRANSLATE_X,d.TRANSLATE_Y].join(","),E="matrix(".concat(m,")");return Object(K.g)("div",{className:"lf-grid"},Object(K.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(K.g)("defs",null,Object(K.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:E,x:"0",y:"0",width:l,height:l},u==="dot"&&this.renderDot(),u==="mesh"&&this.renderMesh())),Object(K.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&Ub(t.prototype,n),i}(K.a))||jf;kf.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},a(50);function Tf(e){return(Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Yb(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Mf(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Mf(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Mf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Df,Xr=function(e){var t={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(e).forEach(function(n){var r=Yb(n,2),i=r[0],o=r[1];Tf(o)!=="object"&&(t[i]=o)}),Object(K.g)("line",t)};function Nf(e){return(Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Cf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function aa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cf(Object(n),!0).forEach(function(r){Vb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cf(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rf(e,t){return(Rf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Zb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Du(e);if(t){var i=Du(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return qb(this,n)}}function qb(e,t){if(t&&(Nf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Du(e){return(Du=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var If,$b=Mn(Df=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Rf(o,u)})(i,e);var t,n,r=Zb(i);function i(){return Wb(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var o=this.props.snaplineModel,u=o.position,l=o.isShowHorizontal,d=o.isShowVertical,m=o.getStyle(),E=u.x,A=E===void 0?0:E,M=u.y,I=M===void 0?0:M,W=aa(aa({x1:-1e5,y1:I,x2:1e5,y2:I},m),{},{stroke:l?m.stroke:"none"}),ee=aa(aa({x1:A,y1:-1e5,x2:A,y2:1e5},m),{},{stroke:d?m.stroke:"none"});return Object(K.g)("g",{className:"lf-snapline"},Object(K.g)(Xr,W),Object(K.g)(Xr,ee))}}])&&Kb(t.prototype,n),i}(K.a))||Df;function Lf(e){return(Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Jb(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return zf(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return zf(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function zf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wr(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=e.className,u=e.radius,l=t-r/2,d=n-i/2,m={};return Object.entries(e).forEach(function(E){var A=Jb(E,2),M=A[0],I=A[1];Lf(I)!=="object"&&(m[M]=I)}),m.className=o?"lf-basic-shape ".concat(o):"lf-basic-shape",u&&(m.rx=u,m.ry=u),m.x=l,m.y=d,Object(K.g)("rect",m)}function Bf(e){return(Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ko(){return(Ko=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ff(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Uf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ff(Object(n),!0).forEach(function(r){Qb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ff(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function em(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gf(e,t){return(Gf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function nm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Nu(e);if(t){var i=Nu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return rm(this,n)}}function rm(e,t){if(t&&(Bf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Nu(e){return(Nu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}wr.defaultProps={className:"",radius:""};var Hf,om=Mn(If=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Gf(o,u)})(i,e);var t,n,r=nm(i);function i(){return em(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getNodesOutline",value:function(){var o=this.props.graphModel,u=o.nodes,l=o.editConfigModel,d=l.hoverOutline,m=l.nodeSelectedOutline,E=[];return u.forEach(function(A){if(A.isHovered||A.isSelected){var M=A.isHovered,I=A.isSelected,W=A.x,ee=A.y,ae=A.width,re=A.height;if(m&&I||d&&M){var se=A.getOutlineStyle(),pe={};if(Object.keys(se).forEach(function(xe){xe!=="hover"&&(pe[xe]=se[xe])}),M){var Se=se.hover;pe=Uf(Uf({},pe),Se)}E.push(Object(K.g)(wr,Ko({className:"lf-outline-node",x:W,y:ee,width:ae+10,height:re+10},pe)))}}}),E}},{key:"getEdgeOutline",value:function(){for(var o=this.props.graphModel,u=o.edges,l=o.editConfigModel,d=l.edgeSelectedOutline,m=l.hoverOutline,E=[],A=0;A<u.length;A++){var M=u[A];(d&&M.isSelected||m&&M.isHovered)&&(M.modelType===ct.LINE_EDGE?E.push(this.getLineOutline(M)):M.modelType===ct.POLYLINE_EDGE?E.push(this.getPolylineOutline(M)):M.modelType===ct.BEZIER_EDGE&&E.push(this.getBezierOutline(M)))}return E}},{key:"getLineOutline",value:function(o){var u=o.startPoint,l=o.endPoint,d=(u.x+l.x)/2,m=(u.y+l.y)/2,E=Math.abs(u.x-l.x)+10,A=Math.abs(u.y-l.y)+10,M=o.getOutlineStyle();return Object(K.g)(wr,Ko({className:"lf-outline-edge",x:d,y:m,width:E,height:A},M))}},{key:"getPolylineOutline",value:function(o){var u=o.points,l=lo(u),d=Vo(l,8),m=d.x,E=d.y,A=d.width,M=d.height,I=o.getOutlineStyle();return Object(K.g)(wr,Ko({className:"lf-outline",x:m,y:E,width:A,height:M},I))}},{key:"getBezierOutline",value:function(o){var u=o.path,l=na(u),d=Vo(l,8),m=d.x,E=d.y,A=d.width,M=d.height,I=o.getOutlineStyle();return Object(K.g)(wr,Ko({className:"lf-outline",x:m,y:E,width:A,height:M},I))}},{key:"render",value:function(){return Object(K.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&tm(t.prototype,n),i}(K.a))||If;function Xf(e){return(Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function im(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Yf(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Yf(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Yf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zo(e){var t=e.x,n=t===void 0?0:t,r=e.y,i=r===void 0?0:r,o=e.r,u=o===void 0?4:o,l=e.className,d={cx:n,cy:i,r:u,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(m){var E=im(m,2),A=E[0],M=E[1];Xf(M)!=="object"&&(d[A]=M)}),d.className=l?"lf-basic-shape ".concat(l):"lf-basic-shape",Object(K.g)("circle",d)}function Vf(e){return(Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ua(){return(ua=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Wf(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Kf(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Kf(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Kf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $f(e,t,n){return t&&qf(e.prototype,t),n&&qf(e,n),e}function Jf(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qf(e,t)}function Qf(e,t){return(Qf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function ep(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Cu(e);if(t){var i=Cu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return am(this,n)}}function am(e,t){if(t&&(Vf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ca(e)}function ca(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cu(e){return(Cu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Ru(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tp,np=function(e){Jf(n,e);var t=ep(n);function n(r){var i;Zf(this,n),Ru(ca(i=t.call(this)),"dragHandler",void 0),Ru(ca(i),"onDraging",function(u){var l=u.deltaX,d=u.deltaY,m=i.props,E=m.graphModel,A=m.bezierModel,M=m.type,I=E.transformModel,W=i.state,ee=W.endX,ae=W.endY,re=Wf(I.moveCanvasPointByHtml([ee,ae],l,d),2),se=re[0],pe=re[1];i.setState({endX:se,endY:pe}),A.updateAdjustAnchor({x:se,y:pe},M)}),Ru(ca(i),"onDragEnd",function(){var u=i.state,l=u.endX,d=u.endY,m=i.props,E=m.bezierModel,A=m.type;E.updateAdjustAnchor({x:l,y:d},A),E.isDragging=!1}),i.dragHandler=oa({onDraging:i.onDraging,onDragEnd:i.onDragEnd});var o=r.position;return i.state={endX:o.x,endY:o.y},i}return $f(n,[{key:"render",value:function(){var r=this.props.position,i=r.x,o=r.y,u=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(K.g)(Zo,ua({className:"lf-bezier-adjust-anchor",x:i,y:o},u,{onMouseDown:this.dragHandler}))}}]),n}(K.a),um=Mn(Hf=function(e){Jf(n,e);var t=ep(n);function n(){return Zf(this,n),t.apply(this,arguments)}return $f(n,[{key:"getBezierAdjust",value:function(r,i){var o=r.path,u=r.id,l=Wf(na(o),4),d=l[0],m=l[1],E=l[2],A=l[3],M=r.getEdgeStyle().adjustLine,I=[];return I.push(Object(K.g)(Xr,ua({x1:d.x,y1:d.y,x2:m.x,y2:m.y},M))),I.push(Object(K.g)(np,{position:m,bezierModel:r,graphModel:i,key:"".concat(u,"_ePre"),type:"sNext"})),I.push(Object(K.g)(Xr,ua({x1:A.x,y1:A.y,x2:E.x,y2:E.y},M))),I.push(Object(K.g)(np,{position:E,bezierModel:r,graphModel:i,key:"".concat(u,"_sNext"),type:"ePre"})),I}},{key:"selectedBezierEdge",value:function(){for(var r=this.props.graphModel,i=r.edges,o=[],u=0;u<i.length;u++){var l=i[u];l.isSelected&&l.modelType===ct.BEZIER_EDGE&&l.draggable&&o.push(this.getBezierAdjust(l,r))}return o}},{key:"render",value:function(){return Object(K.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(K.a))||Hf;function rp(e){return(rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function cm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function op(e,t){return(op=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function lm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Iu(e);if(t){var i=Iu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return fm(this,n)}}function fm(e,t){if(t&&(rp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Iu(e){return(Iu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var ip,pm=Mn(tp=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&op(o,u)})(i,e);var t,n,r=lm(i);function i(){return cm(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var o=this.props.graphModel.transformModel.getTransformStyle().transform,u=this.props.children;return Object(K.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(K.g)("g",{transform:o},u))}}])&&sm(t.prototype,n),i}(K.a))||tp;function ap(e){return(ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function up(){return(up=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function dm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cp(e,t){return(cp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function ym(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Lu(e);if(t){var i=Lu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return vm(this,n)}}function vm(e,t){if(t&&(ap(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Lu(e){return(Lu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var gm=Mn(ip=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&cp(o,u)})(i,e);var t,n,r=ym(i);function i(){return dm(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getComponent",value:function(o,u){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",d=this.props.getView,m=d(o.type);return Object(K.g)(m,{key:o.id,model:o,graphModel:u,overlay:l})}},{key:"render",value:function(){var o=this,u=this.props,l=u.graphModel,d=u.tool,m=u.options,E=u.dnd,A=u.snaplineModel,M={};m.width&&(M.width="".concat(l.width,"px")),m.height&&(M.height="".concat(l.height,"px"));var I=l.fakerNode,W=l.editConfigModel.adjustEdge;return Object(K.g)("div",{className:"lf-graph",style:M},Object(K.g)(Ab,{graphModel:l,dnd:E},Object(K.g)("g",{className:"lf-base"},Ui(l.sortElements,function(ee){return o.getComponent(ee,l)})),I?this.getComponent(I,l):""),Object(K.g)(pm,{graphModel:l},Object(K.g)(om,{graphModel:l}),W?Object(K.g)(um,{graphModel:l}):"",m.isSilentMode||m.snapline===!1?"":Object(K.g)($b,{snaplineModel:A})),Object(K.g)(Cb,{graphModel:l,tool:d}),m.background&&Object(K.g)(Bb,{background:m.background}),m.grid&&Object(K.g)(kf,up({},m.grid,{graphModel:l})))}}])&&hm(t.prototype,n),i}(K.a))||ip;function sp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sp(Object(n),!0).forEach(function(r){rr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mm=function(){function e(r){var i=this;(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,e),rr(this,"nodeConfig",void 0),rr(this,"lf",void 0),rr(this,"fakerNode",void 0),rr(this,"stopDrag",function(){i.nodeConfig=null,window.document.removeEventListener("mouseup",i.stopDrag)}),rr(this,"dragEnter",function(u){i.nodeConfig&&!i.fakerNode&&(i.fakerNode=i.lf.createFakerNode(sa(sa({},i.nodeConfig),i.clientToLocalPoint({x:u.clientX,y:u.clientY}))))}),rr(this,"onDragOver",function(u){if(u.preventDefault(),i.fakerNode){var l=i.clientToLocalPoint({x:u.clientX,y:u.clientY}),d=l.x,m=l.y;i.fakerNode.moveTo(d,m);var E=i.fakerNode.getData();i.lf.setNodeSnapLine(E),i.lf.graphModel.eventCenter.emit(Qe.NODE_DND_DRAG,{data:E})}return!1}),rr(this,"onDragLeave",function(){i.fakerNode&&(i.lf.removeNodeSnapLine(),i.lf.graphModel.removeFakerNode(),i.fakerNode=null)}),rr(this,"onDrop",function(u){if(i.lf.graphModel&&u&&i.nodeConfig){var l=i.lf.addNode(sa(sa({},i.nodeConfig),i.clientToLocalPoint({x:u.clientX,y:u.clientY})));u.preventDefault(),u.stopPropagation(),i.nodeConfig=null,i.lf.removeNodeSnapLine(),i.lf.graphModel.removeFakerNode(),i.fakerNode=null;var d=l.getData();i.lf.graphModel.eventCenter.emit(Qe.NODE_DND_ADD,{data:d})}});var o=r.lf;this.lf=o}var t,n;return t=e,(n=[{key:"clientToLocalPoint",value:function(r){var i=r.x,o=r.y,u=zo(this.lf.options,["grid","size"]),l=this.lf.graphModel.getPointByClient({x:i,y:o}).canvasOverlayPosition,d=l.x,m=l.y;return{x:Yi(d,u),y:Yi(m,u)}}},{key:"startDrag",value:function(r){this.nodeConfig=r,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&bm(t.prototype,n),e}();function lp(e){var t=e.container,n=e.grid,r=e.width,i=e.height;if(!t)throw new Error("\u8BF7\u68C0\u67E5 container \u53C2\u6570\u662F\u5426\u6709\u6548");if(typeof r=="string"||typeof i=="string")throw new Error("width\u6216height\u4E0D\u652F\u6301\u4F20\u5165\u5B57\u7B26\u4E32\uFF0C\u8BF7\u4F20\u6570\u5B57");return n&&(e.grid=Jt({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),Jt({},pp,e)}var jt,fp,pp={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function dp(e){return(dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Om(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return hp(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return hp(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function hp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function la(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yp(Object(n),!0).forEach(function(r){gp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _m(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function wm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fa(){return(fa=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=Em(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function Em(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Yr(e))!==null;);return e}function vp(e,t){return(vp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function jm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Yr(e);if(t){var i=Yr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Sm(this,n)}}function Sm(e,t){if(t&&(dp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pa(e)}function pa(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yr(e){return(Yr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function gp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function or(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var zu=(fp=or((jt=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&vp(o,u)})(i,e);var t,n,r=jm(i);function i(){var o;wm(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return gp(pa(o=r.call.apply(r,[this].concat(l))),"modelType",ct.BEZIER_EDGE),_m(pa(o),"path",fp,pa(o)),o}return t=i,(n=[{key:"initEdgeData",value:function(o){this.offset=100,fa(Yr(i.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.bezier;return la(la({},fa(Yr(i.prototype),"getEdgeStyle",this).call(this)),Mt(o))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var o=0,u=0;return this.pointsList.forEach(function(l){var d=l.x,m=l.y;o+=d,u+=m}),{x:o/this.pointsList.length,y:u/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var o=fa(Yr(i.prototype),"getData",this).call(this),u=this.pointsList.map(function(l){return{x:l.x,y:l.y}});return la(la({},o),{},{pointsList:u})}},{key:"getControls",value:function(){var o=this.startPoint,u=this.endPoint;return Kl({start:o,end:u,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(o){var u=Om(o,4),l=u[0],d=u[1],m=u[2],E=u[3];return"M ".concat(l.x," ").concat(l.y,`
    C `).concat(d.x," ").concat(d.y,`,
    `).concat(m.x," ").concat(m.y,`,
    `).concat(E.x," ").concat(E.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var o={x:this.startPoint.x,y:this.startPoint.y},u={x:this.endPoint.x,y:this.endPoint.y},l=this.getControls(),d=l.sNext,m=l.ePre;this.pointsList=[o,d,m,u],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"updateAdjustAnchor",value:function(o,u){u==="sNext"?this.pointsList[1]=o:u==="ePre"&&(this.pointsList[2]=o),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var u=o.startPoint,l=o.endPoint,d=o.sourceNode,m=o.targetNode,E=Kl({start:u,end:l,sourceNode:d,targetNode:m,offset:this.offset}),A=E.sNext,M=E.ePre;this.pointsList=[u,A,M,l],this.initPoints()}}])&&xm(t.prototype,n),i}(gu)).prototype,"path",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),or(jt.prototype,"initPoints",[s.k],Object.getOwnPropertyDescriptor(jt.prototype,"initPoints"),jt.prototype),or(jt.prototype,"updatePoints",[s.k],Object.getOwnPropertyDescriptor(jt.prototype,"updatePoints"),jt.prototype),or(jt.prototype,"updateStartPoint",[s.k],Object.getOwnPropertyDescriptor(jt.prototype,"updateStartPoint"),jt.prototype),or(jt.prototype,"updateEndPoint",[s.k],Object.getOwnPropertyDescriptor(jt.prototype,"updateEndPoint"),jt.prototype),or(jt.prototype,"updateAdjustAnchor",[s.k],Object.getOwnPropertyDescriptor(jt.prototype,"updateAdjustAnchor"),jt.prototype),or(jt.prototype,"getAdjustStart",[s.k],Object.getOwnPropertyDescriptor(jt.prototype,"getAdjustStart"),jt.prototype),or(jt.prototype,"getAdjustEnd",[s.k],Object.getOwnPropertyDescriptor(jt.prototype,"getAdjustEnd"),jt.prototype),or(jt.prototype,"updateAfterAdjustStartAndEnd",[s.k],Object.getOwnPropertyDescriptor(jt.prototype,"updateAfterAdjustStartAndEnd"),jt.prototype),jt),Re,bp,mp,Op,_p,wp,xp,Ep,jp,Sp,Pp,Ap,kp,Tp,Mp,Dp,Np,Cp,Pm=function(e){return e==null};function Rp(e,t){var n=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(d,m){if(!!d){if(typeof d=="string")return Ip(d,m);var E=Object.prototype.toString.call(d).slice(8,-1);if(E==="Object"&&d.constructor&&(E=d.constructor.name),E==="Map"||E==="Set")return Array.from(d);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return Ip(d,m)}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(d){throw d},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,u=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var d=n.next();return u=d.done,d},e:function(d){l=!0,o=d},f:function(){try{u||n.return==null||n.return()}finally{if(l)throw o}}}}function Ip(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Lp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ir(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lp(Object(n),!0).forEach(function(r){bn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ht(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Am(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vt(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var xr,zp,ar=(bp=vt((Re=function(){function e(r,i){(function(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")})(this,e),bn(this,"id",so()),Ht(this,"type",bp,this),Ht(this,"x",mp,this),Ht(this,"y",Op,this),Ht(this,"text",_p,this),Ht(this,"properties",wp,this),Ht(this,"_width",xp,this),Ht(this,"_height",Ep,this),Ht(this,"anchorsOffset",jp,this),Ht(this,"isSelected",Sp,this),Ht(this,"isHovered",Pp,this),Ht(this,"isDragging",Ap,this),Ht(this,"isHitable",kp,this),Ht(this,"draggable",Tp,this),Ht(this,"visible",Mp,this),bn(this,"graphModel",void 0),Ht(this,"zIndex",Dp,this),Ht(this,"state",Np,this),Ht(this,"autoToFront",Cp,this),bn(this,"BaseType",Lt.NODE),bn(this,"modelType",ct.NODE),bn(this,"additionStateData",void 0),bn(this,"targetRules",[]),bn(this,"sourceRules",[]),bn(this,"moveRules",[]),bn(this,"hasSetTargetRules",!1),bn(this,"hasSetSourceRules",!1),this.graphModel=i,this.initNodeData(r),this.setAttributes()}var t,n;return t=e,(n=[{key:"width",get:function(){return this._width},set:function(r){this._width=r}},{key:"height",get:function(){return this._height},set:function(r){this._height=r}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var i=this.graphModel.idGenerator,o=i&&i(r.type);o&&(r.id=o);var u=this.createId();u&&(r.id=u)}this.formatText(r),Jt(this,function(l){return Fo(l,["id","type","x","y","text","properties"])}(r)),this.graphModel.overlapMode===sn.INCREASE&&(this.zIndex=r.zIndex||yu())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(r){r.text||(r.text={value:"",x:r.x,y:r.y,draggable:!1,editable:!0}),r.text&&typeof r.text=="string"?r.text={value:r.text,x:r.x,y:r.y,draggable:!1,editable:!0}:r.text&&r.text.editable===void 0&&(r.text.editable=!0)}},{key:"getData",value:function(){var r=this.text,i=r.x,o=r.y,u=r.value,l=this.properties;Object(s.x)(l)&&(l=Object(s.I)(l));var d={id:this.id,type:this.type,x:this.x,y:this.y,properties:l};return this.graphModel.overlapMode===sn.INCREASE&&(d.zIndex=this.zIndex),u&&(d.text={x:i,y:o,value:u}),d}},{key:"getProperties",value:function(){return Object(s.I)(this.properties)}},{key:"getNodeStyle",value:function(){return ir({},this.graphModel.theme.baseNode)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.nodeText;return Mt(r)}},{key:"getAnchorStyle",value:function(r){var i=this.graphModel.theme.anchor;return Mt(i)}},{key:"getAnchorLineStyle",value:function(){var r=this.graphModel.theme.anchorLine;return Mt(r)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return Mt(r)}},{key:"isAllowConnectedAsSource",value:function(r,i,o){var u=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var l,d=!0,m=0;m<u.length;m++){var E=u[m];if(!E.validate.call(this,this,r,i,o)){d=!1,l=E.message;break}}return{isAllPass:d,msg:l}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(r,i,o){var u=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var l,d=!0,m=0;m<u.length;m++){var E=u[m];if(!E.validate.call(this,r,this,i,o)){d=!1,l=E.message;break}}return{isAllPass:d,msg:l}}},{key:"isAllowMoveNode",value:function(r,i){var o,u=Rp(this.moveRules);try{for(u.s();!(o=u.n()).done;)if(!(0,o.value)(this,r,i))return!1}catch(m){u.e(m)}finally{u.f()}var l,d=Rp(this.graphModel.nodeMoveRules);try{for(d.s();!(l=d.n()).done;)if(!(0,l.value)(this,r,i))return!1}catch(m){d.e(m)}finally{d.f()}return!0}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var r=this.anchorsOffset,i=this.id,o=this.x,u=this.y;return r&&r.length>0?r.map(function(l,d){return l.length?(l=l,{id:"".concat(i,"_").concat(d),x:o+l[0],y:u+l[1]}):ir(ir({},l=l),{},{x:o+l.x,y:u+l.y,id:l.id||"".concat(i,"_").concat(d)})}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(r){if(!Pm(r))for(var i=0;i<this.anchors.length;i++){var o=this.anchors[i];if(o.id===r)return o}}},{key:"addNodeMoveRules",value:function(r){this.moveRules.includes(r)||this.moveRules.push(r)}},{key:"move",value:function(r,i){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!o&&!this.isAllowMoveNode(r,i))return!1;var u=this.x+r,l=this.y+i;return this.x=u,this.y=l,this.text&&this.moveText(r,i),!0}},{key:"moveTo",value:function(r,i){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],u=r-this.x,l=i-this.y;return!(!o&&!this.isAllowMoveNode(u,l)||(this.text&&this.text&&this.moveText(u,l),this.x=r,this.y=i,0))}},{key:"moveText",value:function(r,i){var o=this.text,u=o.x,l=o.y,d=o.value,m=o.draggable,E=o.editable;this.text={value:d,editable:E,draggable:m,x:u+r,y:l+i}}},{key:"updateText",value:function(r){this.text=ir(ir({},this.text),{},{value:r})}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,i){this.state=r,this.additionStateData=i}},{key:"setProperty",value:function(r,i){this.properties=ir(ir({},this.properties),{},bn({},r,Gn(i))),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=ir(ir({},this.properties),Gn(r)),this.setAttributes()}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=r}},{key:"updateAttributes",value:function(r){Jt(this,r)}}])&&Am(t.prototype,n),e}()).prototype,"type",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),mp=vt(Re.prototype,"x",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Op=vt(Re.prototype,"y",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_p=vt(Re.prototype,"text",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),wp=vt(Re.prototype,"properties",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),xp=vt(Re.prototype,"_width",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),Ep=vt(Re.prototype,"_height",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),jp=vt(Re.prototype,"anchorsOffset",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Sp=vt(Re.prototype,"isSelected",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pp=vt(Re.prototype,"isHovered",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ap=vt(Re.prototype,"isDragging",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),kp=vt(Re.prototype,"isHitable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Tp=vt(Re.prototype,"draggable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Mp=vt(Re.prototype,"visible",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Dp=vt(Re.prototype,"zIndex",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Np=vt(Re.prototype,"state",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Cp=vt(Re.prototype,"autoToFront",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),vt(Re.prototype,"incoming",[s.m],Object.getOwnPropertyDescriptor(Re.prototype,"incoming"),Re.prototype),vt(Re.prototype,"outgoing",[s.m],Object.getOwnPropertyDescriptor(Re.prototype,"outgoing"),Re.prototype),vt(Re.prototype,"addNodeMoveRules",[s.k],Object.getOwnPropertyDescriptor(Re.prototype,"addNodeMoveRules"),Re.prototype),vt(Re.prototype,"move",[s.k],Object.getOwnPropertyDescriptor(Re.prototype,"move"),Re.prototype),vt(Re.prototype,"moveTo",[s.k],Object.getOwnPropertyDescriptor(Re.prototype,"moveTo"),Re.prototype),vt(Re.prototype,"moveText",[s.k],Object.getOwnPropertyDescriptor(Re.prototype,"moveText"),Re.prototype),vt(Re.prototype,"updateText",[s.k],Object.getOwnPropertyDescriptor(Re.prototype,"updateText"),Re.prototype),vt(Re.prototype,"setSelected",[s.k],Object.getOwnPropertyDescriptor(Re.prototype,"setSelected"),Re.prototype),vt(Re.prototype,"setHovered",[s.k],Object.getOwnPropertyDescriptor(Re.prototype,"setHovered"),Re.prototype),vt(Re.prototype,"setHitable",[s.k],Object.getOwnPropertyDescriptor(Re.prototype,"setHitable"),Re.prototype),vt(Re.prototype,"setElementState",[s.k],Object.getOwnPropertyDescriptor(Re.prototype,"setElementState"),Re.prototype),vt(Re.prototype,"setProperty",[s.k],Object.getOwnPropertyDescriptor(Re.prototype,"setProperty"),Re.prototype),vt(Re.prototype,"setProperties",[s.k],Object.getOwnPropertyDescriptor(Re.prototype,"setProperties"),Re.prototype),vt(Re.prototype,"setZIndex",[s.k],Object.getOwnPropertyDescriptor(Re.prototype,"setZIndex"),Re.prototype),vt(Re.prototype,"updateAttributes",[s.k],Object.getOwnPropertyDescriptor(Re.prototype,"updateAttributes"),Re.prototype),Re);function Bp(e){return(Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Fp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Up(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fp(Object(n),!0).forEach(function(r){Xp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function km(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Tm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gp(){return(Gp=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=Dm(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function Dm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=qo(e))!==null;);return e}function Hp(e,t){return(Hp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Nm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=qo(e);if(t){var i=qo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Cm(this,n)}}function Cm(e,t){if(t&&(Bp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return da(e)}function da(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qo(e){return(qo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Xp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bu(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Qt,Yp,Vp,Fu=(zp=Bu((xr=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Hp(o,u)})(i,e);var t,n,r=Nm(i);function i(){var o;Tm(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Xp(da(o=r.call.apply(r,[this].concat(l))),"modelType",ct.CIRCLE_NODE),km(da(o),"r",zp,da(o)),o}return t=i,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var o=Gp(qo(i.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.circle;return Up(Up({},o),Mt(u))}},{key:"getDefaultAnchor",value:function(){var o=this.x,u=this.y,l=this.r;return[{x:o,y:u-l,id:"".concat(this.id,"_0")},{x:o+l,y:u,id:"".concat(this.id,"_1")},{x:o,y:u+l,id:"".concat(this.id,"_2")},{x:o-l,y:u,id:"".concat(this.id,"_3")}]}}])&&Mm(t.prototype,n),i}(ar)).prototype,"r",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Bu(xr.prototype,"width",[s.m],Object.getOwnPropertyDescriptor(xr.prototype,"width"),xr.prototype),Bu(xr.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(xr.prototype,"height"),xr.prototype),xr);a(123);function Wp(e){return(Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Uu(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Kp(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Kp(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Kp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zp(Object(n),!0).forEach(function(r){ed(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $p(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Rm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Im(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jp(){return(Jp=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=Lm(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function Lm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=$o(e))!==null;);return e}function Qp(e,t){return(Qp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function zm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=$o(e);if(t){var i=$o(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Bm(this,n)}}function Bm(e,t){if(t&&(Wp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ho(e)}function ho(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $o(e){return($o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ed(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yo(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var ur,td,nd,Gu=(Yp=yo((Qt=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Qp(o,u)})(i,e);var t,n,r=zm(i);function i(){var o;Rm(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return ed(ho(o=r.call.apply(r,[this].concat(l))),"modelType",ct.DIAMOND_NODE),$p(ho(o),"rx",Yp,ho(o)),$p(ho(o),"ry",Vp,ho(o)),o}return t=i,(n=[{key:"getNodeStyle",value:function(){var o=Jp($o(i.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.diamond;return qp(qp({},o),Mt(u))}},{key:"points",get:function(){var o=this.x,u=this.y,l=this.rx,d=this.ry;return[[o,u-d],[o+l,u],[o,u+d],[o-l,u]]}},{key:"pointsPosition",get:function(){return this.points.map(function(o){return{x:o[0],y:o[1]}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=Uu(l,1)[0];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=Uu(l,2)[1];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"getDefaultAnchor",value:function(){var o=this;return this.points.map(function(u,l){var d=Uu(u,2);return{x:d[0],y:d[1],id:"".concat(o.id,"_").concat(l)}})}}])&&Im(t.prototype,n),i}(ar)).prototype,"rx",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Vp=yo(Qt.prototype,"ry",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),yo(Qt.prototype,"points",[s.m],Object.getOwnPropertyDescriptor(Qt.prototype,"points"),Qt.prototype),yo(Qt.prototype,"pointsPosition",[s.m],Object.getOwnPropertyDescriptor(Qt.prototype,"pointsPosition"),Qt.prototype),yo(Qt.prototype,"width",[s.m],Object.getOwnPropertyDescriptor(Qt.prototype,"width"),Qt.prototype),yo(Qt.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(Qt.prototype,"height"),Qt.prototype),Qt);function rd(e){return(rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function od(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function id(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?od(Object(n),!0).forEach(function(r){sd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):od(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ad(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Fm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Um(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ud(){return(ud=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=Gm(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function Gm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Jo(e))!==null;);return e}function cd(e,t){return(cd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Hm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Jo(e);if(t){var i=Jo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Xm(this,n)}}function Xm(e,t){if(t&&(rd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vo(e)}function vo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jo(e){return(Jo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function sd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ha(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Sn,ld,Hu=(td=ha((ur=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&cd(o,u)})(i,e);var t,n,r=Hm(i);function i(){var o;Fm(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return sd(vo(o=r.call.apply(r,[this].concat(l))),"modelType",ct.ELLIPSE_NODE),ad(vo(o),"rx",td,vo(o)),ad(vo(o),"ry",nd,vo(o)),o}return t=i,(n=[{key:"getNodeStyle",value:function(){var o=ud(Jo(i.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.ellipse;return id(id({},o),Mt(u))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var o=this.x,u=this.y,l=this.rx,d=this.ry;return[{x:o,y:u-d,id:"".concat(this.id,"_0")},{x:o+l,y:u,id:"".concat(this.id,"_1")},{x:o,y:u+d,id:"".concat(this.id,"_2")},{x:o-l,y:u,id:"".concat(this.id,"_3")}]}}])&&Um(t.prototype,n),i}(ar)).prototype,"rx",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),nd=ha(ur.prototype,"ry",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),ha(ur.prototype,"width",[s.m],Object.getOwnPropertyDescriptor(ur.prototype,"width"),ur.prototype),ha(ur.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(ur.prototype,"height"),ur.prototype),ur);function fd(e){return(fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Xu(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return pd(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return pd(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function pd(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dd(Object(n),!0).forEach(function(r){gd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ym(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Vm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yd(){return(yd=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=Km(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function Km(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Qo(e))!==null;);return e}function vd(e,t){return(vd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Zm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Qo(e);if(t){var i=Qo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return qm(this,n)}}function qm(e,t){if(t&&(fd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ya(e)}function ya(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qo(e){return(Qo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function gd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function va(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var bd,md,Yu=(ld=va((Sn=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&vd(o,u)})(i,e);var t,n,r=Zm(i);function i(){var o;Vm(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return gd(ya(o=r.call.apply(r,[this].concat(l))),"modelType",ct.POLYGON_NODE),Ym(ya(o),"points",ld,ya(o)),o}return t=i,(n=[{key:"getNodeStyle",value:function(){var o=yd(Qo(i.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.polygon;return hd(hd({},o),Mt(u))}},{key:"pointsPosition",get:function(){var o=this.x,u=this.y,l=this.width,d=this.height;return this.points.map(function(m){return{x:m[0]+o-l/2,y:m[1]+u-d/2}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=Xu(l,1)[0];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=Xu(l,2)[1];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"getDefaultAnchor",value:function(){var o=this,u=this.x,l=this.y,d=this.width,m=this.height;return this.points.map(function(E,A){var M=Xu(E,2),I=M[0],W=M[1];return{x:u+I-d/2,y:l+W-m/2,id:"".concat(o.id,"_").concat(A)}})}}])&&Wm(t.prototype,n),i}(ar)).prototype,"points",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),va(Sn.prototype,"pointsPosition",[s.m],Object.getOwnPropertyDescriptor(Sn.prototype,"pointsPosition"),Sn.prototype),va(Sn.prototype,"width",[s.m],Object.getOwnPropertyDescriptor(Sn.prototype,"width"),Sn.prototype),va(Sn.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(Sn.prototype,"height"),Sn.prototype),Sn);function Od(e){return(Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function _d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_d(Object(n),!0).forEach(function(r){jd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_d(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $m(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Jm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xd(){return(xd=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=e0(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function e0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=ei(e))!==null;);return e}function Ed(e,t){return(Ed=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function t0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ei(e);if(t){var i=ei(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return n0(this,n)}}function n0(e,t){if(t&&(Od(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ga(e)}function ga(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ei(e){return(ei=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function jd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vr,Vu=(md=function(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}((bd=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Ed(o,u)})(i,e);var t,n,r=t0(i);function i(){var o;Jm(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return jd(ga(o=r.call.apply(r,[this].concat(l))),"modelType",ct.RECT_NODE),$m(ga(o),"radius",md,ga(o)),o}return t=i,(n=[{key:"getDefaultAnchor",value:function(){var o=this.x,u=this.y,l=this.width,d=this.height;return[{x:o,y:u-d/2,id:"".concat(this.id,"_0")},{x:o+l/2,y:u,id:"".concat(this.id,"_1")},{x:o,y:u+d/2,id:"".concat(this.id,"_2")},{x:o-l/2,y:u,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var o=xd(ei(i.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.rect;return wd(wd({},o),Mt(u))}}])&&Qm(t.prototype,n),i}(ar)).prototype,"radius",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),bd);function Sd(e){return(Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Pd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ad(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pd(Object(n),!0).forEach(function(r){Dd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function r0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kd(){return(kd=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=i0(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function i0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=ti(e))!==null;);return e}function Td(e,t){return(Td=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function a0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ti(e);if(t){var i=ti(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u0(this,n)}}function u0(e,t){if(t&&(Sd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Md(e)}function Md(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ti(e){return(ti=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Dd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nd(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Wu=(Nd((Vr=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Td(o,u)})(i,e);var t,n,r=a0(i);function i(){var o;r0(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Dd(Md(o=r.call.apply(r,[this].concat(l))),"modelType",ct.TEXT_NODE),o}return t=i,(n=[{key:"getTextStyle",value:function(){var o=kd(ti(i.prototype),"getTextStyle",this).call(this),u=this.graphModel.theme.text;return Ad(Ad({},o),Mt(u))}},{key:"width",get:function(){var o=String(this.text.value).split(/[\r\n]/g),u=this.getTextStyle().fontSize;return hu({rows:o,fontSize:u,rowsLength:o.length}).width}},{key:"height",get:function(){var o=String(this.text.value).split(/[\r\n]/g),u=this.getTextStyle().fontSize;return hu({rows:o,fontSize:u,rowsLength:o.length}).height}}])&&o0(t.prototype,n),i}(ar)).prototype,"width",[s.m],Object.getOwnPropertyDescriptor(Vr.prototype,"width"),Vr.prototype),Nd(Vr.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(Vr.prototype,"height"),Vr.prototype),Vr);function Cd(e){return(Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function c0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rd(e,t){return(Rd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function l0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ku(e);if(t){var i=Ku(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f0(this,n)}}function f0(e,t){if(t&&(Cd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Id(e)}function Id(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ku(e){return(Ku=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function p0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xn,Ld,zd,Bd,Zu=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Rd(o,u)})(i,e);var t,n,r=l0(i);function i(){var o;c0(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return p0(Id(o=r.call.apply(r,[this].concat(l))),"modelType",ct.HTML_NODE),o}return t=i,(n=[{key:"getDefaultAnchor",value:function(){var o=this.x,u=this.y,l=this.width,d=this.height;return[{x:o,y:u-d/2,id:"".concat(this.id,"_0")},{x:o+l/2,y:u,id:"".concat(this.id,"_1")},{x:o,y:u+d/2,id:"".concat(this.id,"_2")},{x:o-l/2,y:u,id:"".concat(this.id,"_3")}]}}])&&s0(t.prototype,n),i}(ar);function Fd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qu(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function d0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ud(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ni(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Gd=(Ld=ni((Xn=function(){function e(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),Ud(this,"graphModel",void 0),qu(this,"isShowHorizontal",Ld,this),qu(this,"isShowVertical",zd,this),qu(this,"position",Bd,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}var t,n;return t=e,(n=[{key:"getStyle",value:function(){return function(r){for(var i=1;i<arguments.length;i++){var o=arguments[i]!=null?arguments[i]:{};i%2?Fd(Object(o),!0).forEach(function(u){Ud(r,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):Fd(Object(o)).forEach(function(u){Object.defineProperty(r,u,Object.getOwnPropertyDescriptor(o,u))})}return r}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(r,i){for(var o=r.x,u=r.y,l=!1,d=!1,m=0;m<i.length;m++){var E=i[m];if(E.id!==r.id&&(o===E.x&&(l=!0),u===E.y&&(d=!0),l&&d))break}return{isShowVertical:l,isShowHorizontal:d,position:{x:o,y:u}}}},{key:"getHorizontalSnapline",value:function(r,i){var o,u,l=!1,d=r.id;if(d){var m=this.graphModel.fakerNode;if(m&&m.id===d)u=ln(m);else{var E=this.graphModel.getNodeModelById(d);u=ln(E)}}for(var A=0;A<i.length;A++){var M=i[A];if(M.id!==r.id){var I=ln(M);if(I.minY===u.minY||I.maxY===u.minY){l=!0,o=u.minY;break}if(I.minY===u.maxY||I.maxY===u.maxY){l=!0,o=u.maxY;break}}}return Jt({isShowHorizontal:l,position:{y:o}})}},{key:"getVerticalSnapline",value:function(r,i){var o,u,l=!1,d=r.id;if(d){var m=this.graphModel.fakerNode;if(m&&m.id===d)u=ln(m);else{var E=this.graphModel.getNodeModelById(d);u=ln(E)}}for(var A=0;A<i.length;A++){var M=i[A];if(M.id!==r.id){var I=ln(M);if(I.minX===u.minX||I.maxX===u.minX){l=!0,o=u.minX;break}if(I.minX===u.maxX||I.maxX===u.maxX){l=!0,o=u.maxX;break}}}return Jt({isShowVertical:l,position:{x:o}})}},{key:"getSnapLinePosition",value:function(r,i){var o=this.getCenterSnapLine(r,i),u=o.isShowHorizontal,l=o.isShowVertical;if(!u){var d=this.getHorizontalSnapline(r,i);d.isShowHorizontal&&(o.isShowHorizontal=d.isShowHorizontal,o.position.y=d.position.y)}if(!l){var m=this.getVerticalSnapline(r,i);m.isShowVertical&&(o.isShowVertical=m.isShowVertical,o.position.x=m.position.x)}return o}},{key:"setSnaplineInfo",value:function(r){var i=r.isShowHorizontal,o=r.isShowVertical,u=r.position;this.position=u,this.isShowHorizontal=i,this.isShowVertical=o}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(r){var i=this.graphModel.nodes,o=this.getSnapLinePosition(r,i);this.setSnaplineInfo(o)}}])&&d0(t.prototype,n),e}()).prototype,"isShowHorizontal",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zd=ni(Xn.prototype,"isShowVertical",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bd=ni(Xn.prototype,"position",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ni(Xn.prototype,"clearSnapline",[s.k],Object.getOwnPropertyDescriptor(Xn.prototype,"clearSnapline"),Xn.prototype),ni(Xn.prototype,"setNodeSnapLine",[s.k],Object.getOwnPropertyDescriptor(Xn.prototype,"setNodeSnapLine"),Xn.prototype),Xn);function Hd(e){return(Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ba(){return(ba=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Xd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xd(Object(n),!0).forEach(function(r){sr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function h0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Vd(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Vd(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Vd(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wd(e,t){return(Wd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function v0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=$u(e);if(t){var i=$u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g0(this,n)}}function g0(e,t){if(t&&(Hd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cr(e)}function cr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $u(e){return($u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function sr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b0=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Wd(o,u)})(i,e);var t,n,r=v0(i);function i(){var o;return function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,i),sr(cr(o=r.call(this)),"preTargetNode",void 0),sr(cr(o),"sourceRuleResults",void 0),sr(cr(o),"targetRuleResults",void 0),sr(cr(o),"dragHandler",void 0),sr(cr(o),"onDragStart",function(u){var l=u.event,d=o.props,m=d.anchorData,E=d.nodeModel,A=d.graphModel,M=A.overlapMode;A.selectNodeById(E.id),M!==sn.INCREASE&&E.autoToFront&&A.toFront(E.id),A.eventCenter.emit(Qe.ANCHOR_DRAGSTART,{data:m,e:l,nodeModel:E}),o.setState({startX:m.x,startY:m.y,endX:m.x,endY:m.y})}),sr(cr(o),"onDraging",function(u){var l=u.deltaX,d=u.deltaY,m=(u.event,o.state),E=m.endX,A=m.endY,M=o.props,I=M.graphModel,W=M.nodeModel,ee=M.anchorData,ae=h0(I.transformModel.moveCanvasPointByHtml([E,A],l,d),2),re=ae[0],se=ae[1];o.setState({endX:re,endY:se,draging:!0});var pe=Vi({x:E,y:A},I);if(pe){var Se=pe.node,xe=pe.anchor.id;if(o.preTargetNode&&o.preTargetNode!==pe.node&&o.preTargetNode.setElementState(Ot.DEFAULT),ee.id===xe)return;o.preTargetNode=Se;var Me="".concat(W.id,"_").concat(Se.id,"_").concat(xe,"_").concat(ee.id);if(!o.targetRuleResults.has(Me)){var Le=pe.anchor,et=W.isAllowConnectedAsSource(Se,ee,Le),_t=Se.isAllowConnectedAsTarget(W,ee,Le);o.sourceRuleResults.set(Me,Wi(et)),o.targetRuleResults.set(Me,Wi(_t))}var At=o.sourceRuleResults.get(Me).isAllPass,rn=o.targetRuleResults.get(Me).isAllPass;At&&rn?Se.setElementState(Ot.ALLOW_CONNECT):Se.setElementState(Ot.NOT_ALLOW_CONNECT)}else o.preTargetNode&&o.preTargetNode.state!==Ot.DEFAULT&&o.preTargetNode.setElementState(Ot.DEFAULT)}),sr(cr(o),"onDragEnd",function(u){o.checkEnd(),o.setState({startX:0,startY:0,endX:0,endY:0,draging:!1}),o.sourceRuleResults.clear(),o.targetRuleResults.clear();var l=o.props,d=l.graphModel,m=l.nodeModel,E=l.anchorData;d.eventCenter.emit(Qe.ANCHOR_DROP,{data:E,e:u,nodeModel:m})}),sr(cr(o),"checkEnd",function(){var u=o.props,l=u.graphModel,d=u.nodeModel,m=u.anchorData,E=m.x,A=m.y,M=m.id,I=l.edgeType,W=o.state,ee=W.endX,ae=W.endY,re=W.draging,se=Vi({x:ee,y:ae},l);if(o.preTargetNode&&o.preTargetNode.state!==Ot.DEFAULT&&o.preTargetNode.setElementState(Ot.DEFAULT),re&&se&&se.node){var pe=se.node,Se=se.anchor.id,xe="".concat(d.id,"_").concat(pe.id,"_").concat(Se,"_").concat(M),Me=o.sourceRuleResults.get(xe)||{},Le=Me.isAllPass,et=Me.msg,_t=o.targetRuleResults.get(xe)||{},At=_t.isAllPass,rn=_t.msg;if(Le&&At)pe.setElementState(Ot.DEFAULT),l.addEdge({type:I,sourceNodeId:d.id,sourceAnchorId:M,startPoint:{x:E,y:A},targetNodeId:se.node.id,targetAnchorId:se.anchor.id,endPoint:{x:se.anchor.x,y:se.anchor.y}});else{var Dn=pe.getData();l.eventCenter.emit(Qe.CONNECTION_NOT_ALLOWED,{data:Dn,msg:rn||et})}}}),o.sourceRuleResults=new Map,o.targetRuleResults=new Map,o.state={startX:0,startY:0,endX:0,endY:0,draging:!1},o.dragHandler=new po({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd}),o}return t=i,(n=[{key:"getAnchorShape",value:function(){var o=this.props,u=o.anchorData,l=o.style,d=o.node.getAnchorShape(u);if(d)return d;var m=u.x,E=u.y,A=Yd(Yd({},l),l.hover);return Object(K.g)("g",null,Object(K.g)(Zo,ba({className:"lf-node-anchor-hover"},A,{x:m,y:E})),Object(K.g)(Zo,ba({className:"lf-node-anchor"},l,{x:m,y:E})))}},{key:"isShowLine",value:function(){var o=this.state,u=o.startX,l=o.startY,d=o.endX,m=o.endY;return Un(u,l,d,m)>10}},{key:"render",value:function(){var o=this,u=this.state,l=u.startX,d=u.startY,m=u.endX,E=u.endY,A=this.props,M=A.anchorData.edgeAddable,I=A.edgeStyle;return Object(K.g)("g",{className:"lf-anchor"},Object(K.g)("g",{onMouseDown:function(W){M!==!1&&o.dragHandler.handleMouseDown(W)}},this.getAnchorShape()),this.isShowLine()&&Object(K.g)(Xr,ba({x1:l,y1:d,x2:m,y2:E},I,{"pointer-events":"none"})))}}])&&y0(t.prototype,n),i}(K.a);a(59);function Kd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function m0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kd(Object(n),!0).forEach(function(r){O0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function O0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zd(e){return(Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function _0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return qd(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return qd(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function qd(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $d(e){var t=e.x,n=t===void 0?0:t,r=e.y,i=r===void 0?0:r,o=e.value,u=e.fontSize,l=e.fill,d=l===void 0?"currentColor":l,m=e.overflowMode,E=m===void 0?"default":m,A=e.textWidth,M=A===void 0?"":A,I=e.model,W={textAnchor:"middle","dominant-baseline":"middle",x:n,y:i,fill:d};if(Object.entries(e).forEach(function(Se){var xe=_0(Se,2),Me=xe[0],Le=xe[1];Zd(Le)!=="object"&&(W[Me]=Le)}),o){var ee=String(o).split(/[\r\n]/g),ae=ee.length;if(E!=="default"){var re=I.BaseType,se=I.modelType;if(re===Lt.NODE&&se!==ct.TEXT_NODE||re===Lt.EDGE&&M)return function(Se){var xe=Se.value,Me=Se.fontSize,Le=Se.model,et=Se.fontFamily,_t=et===void 0?"":et,At=Se.lineHeight,rn=Se.wrapPadding,Dn=rn===void 0?"0, 0":rn,Sr=Se.overflowMode,Pr=Se.x,wa=Se.y,Bc=Le.width,xa=Le.textHeight,Zr=Se.textWidth||Bc,Fc=String(xe).split(/[\r\n]/g),y_=Fc.length,Cy=ml({rows:Fc,style:{fontSize:"".concat(Me,"px"),width:"".concat(Zr,"px"),fontFamily:_t,lineHeight:At,padding:Dn},rowsLength:y_,className:"lf-get-text-height"}),Ea=Le.height>Cy?Le.height:Cy;xa&&(Ea=xa);var v_=Sr==="ellipsis";return Object(K.g)("g",null,Object(K.g)("foreignObject",{width:Zr,height:Ea,x:Pr-Zr/2,y:wa-Ea/2},Object(K.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:Ea,width:Zr,padding:Dn}},Object(K.g)("div",{className:v_?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",style:m0({},Se)},Fc.map(function(g_){return Object(K.g)("div",{className:"lf-node-text--auto-wrap-inner"},g_)})))))}(e)}if(ae>1){var pe=ee.map(function(Se,xe){var Me=(xe-(ae-1)/2)*(u+2);return Object(K.g)("tspan",{className:"lf-text-tspan",x:n,y:i+Me},Se)});return Object(K.g)("text",W,pe)}return Object(K.g)("text",W,o)}}function Jd(e){return(Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Qd(){return(Qd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function w0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return eh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return eh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function eh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function th(e,t){return(th=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function E0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ju(e);if(t){var i=Ju(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j0(this,n)}}function j0(e,t){if(t&&(Jd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Er(e)}function Er(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ju(e){return(Ju=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Wr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nh=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&th(o,u)})(i,e);var t,n,r=E0(i);function i(o){var u;(function(m,E){if(!(m instanceof E))throw new TypeError("Cannot call a class as a function")})(this,i),Wr(Er(u=r.call(this)),"dragHandler",void 0),Wr(Er(u),"sumDeltaX",0),Wr(Er(u),"sumDeltaY",0),Wr(Er(u),"stepDrag",void 0),Wr(Er(u),"onDraging",function(m){var E=m.deltaX,A=m.deltaY,M=u.props,I=M.model,W=w0(M.graphModel.transformModel.fixDeltaXY(E,A),2),ee=W[0],ae=W[1];I.moveText(ee,ae)}),Wr(Er(u),"dblClickHandler",function(){u.props.editable&&u.props.model.setElementState(Ot.TEXT_EDIT)}),Wr(Er(u),"mouseDownHandle",function(m){var E=u.props,A=E.draggable,M=E.graphModel.editConfigModel.nodeTextDraggable;(A||M)&&u.stepDrag.handleMouseDown(m)});var l=o.model,d=o.draggable;return u.stepDrag=new po({onDraging:u.onDraging,step:1,model:l,isStopPropagation:d}),u}return t=i,(n=[{key:"getShape",value:function(){var o=this.props,u=o.model,l=o.graphModel,d=u.text,m=l.editConfigModel,E=d.value,A=d.x,M=d.y,I=d.editable,W=d.draggable,ee={x:A,y:M,className:"",value:E};I?ee.className="lf-element-text":W||m.nodeTextDraggable?ee.className="lf-text-draggable":ee.className="lf-text-disabled";var ae=u.getTextStyle();return Object(K.g)($d,Qd({},ee,ae,{model:u}))}},{key:"render",value:function(){if(this.props.model.text)return Object(K.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&x0(t.prototype,n),i}(K.a),S0=window.navigator.userAgent.match(/MSIE|Trident/)!==null;function rh(e){return(rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function P0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return oh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return oh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function oh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ih(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ah(e,t){return(ah=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function A0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Qu(e);if(t){var i=Qu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return k0(this,n)}}function k0(e,t){if(t&&(rh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pn(e)}function pn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qu(e){return(Qu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lr=function(e){(function(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),l&&ah(u,l)})(o,e);var t,n,r,i=A0(o);function o(u){var l;(function(M,I){if(!(M instanceof I))throw new TypeError("Cannot call a class as a function")})(this,o),mn(pn(l=i.call(this)),"stepDrag",void 0),mn(pn(l),"contextMenuTime",void 0),mn(pn(l),"startTime",void 0),mn(pn(l),"clickTimer",void 0),mn(pn(l),"onDraging",function(M){var I=M.deltaX,W=M.deltaY,ee=l.props,ae=ee.model,re=ee.graphModel;l.state.isDraging||l.setState({isDraging:!0});var se=P0(re.transformModel.fixDeltaXY(I,W),2),pe=se[0],Se=se[1];re.moveNode(ae.id,pe,Se)}),mn(pn(l),"onDragEnd",function(){l.props.model.isDragging=!1}),mn(pn(l),"handleClick",function(M){if(l.startTime&&!(new Date().getTime()-l.startTime>200)){var I=l.props,W=I.model,ee=I.graphModel,ae={data:W.getData(),e:M,position:ee.getPointByClient({x:M.clientX,y:M.clientY})},re=M.button===2,se=M.detail===2;if(!re){var pe=ee.editConfigModel;ee.selectNodeById(W.id,Ks(M,pe)),l.toFront(),se?(pe.nodeTextEdit&&W.text.editable&&(W.setSelected(!1),ee.setElementStateById(W.id,Ot.TEXT_EDIT)),ee.eventCenter.emit(Qe.NODE_DBCLICK,ae)):(ee.eventCenter.emit(Qe.ELEMENT_CLICK,ae),ee.eventCenter.emit(Qe.NODE_CLICK,ae))}}}),mn(pn(l),"handleContextMenu",function(M){M.preventDefault();var I=l.props,W=I.model,ee=I.graphModel,ae=W.getData(),re=ee.getPointByClient({x:M.clientX,y:M.clientY});ee.setElementStateById(W.id,Ot.SHOW_MENU,re.domOverlayPosition),ee.selectNodeById(W.id),ee.eventCenter.emit(Qe.NODE_CONTEXTMENU,{data:ae,e:M,position:re}),l.toFront()}),mn(pn(l),"handleMouseDown",function(M){var I=l.props,W=I.model,ee=I.graphModel;l.toFront(),l.startTime=new Date().getTime(),ee.editConfigModel.adjustNodePosition&&W.draggable&&l.stepDrag&&l.stepDrag.handleMouseDown(M)}),mn(pn(l),"setHoverON",function(M){if(!l.state.isHovered){l.setState({isHovered:!0});var I=l.props,W=I.model,ee=I.graphModel,ae=W.getData();W.setHovered(!0),ee.eventCenter.emit(Qe.NODE_MOUSEENTER,{data:ae,e:M})}}),mn(pn(l),"setHoverOFF",function(M){l.setState({isHovered:!1});var I=l.props,W=I.model,ee=I.graphModel,ae=W.getData();W.setHovered(!1),ee.eventCenter.emit(Qe.NODE_MOUSELEAVE,{data:ae,e:M})}),mn(pn(l),"onMouseOut",function(M){S0&&l.setHoverOFF(M)});var d=u.graphModel,m=d.gridSize,E=d.eventCenter,A=u.model;return l.stepDrag=new po({onDraging:l.onDraging,onDragEnd:l.onDragEnd,step:m,eventType:"NODE",eventCenter:E,model:A}),l.state={isHovered:!1},l}return t=o,r=[{key:"getModel",value:function(u){return u}}],(n=[{key:"getAnchorShape",value:function(u){return null}},{key:"getAnchors",value:function(){var u=this,l=this.props,d=l.model,m=l.graphModel,E=d.isSelected,A=d.isHitable,M=d.isDragging,I=this.state.isHovered;if(A&&(E||I)){var W=d.getAnchorLineStyle();return Ui(d.anchors,function(ee,ae){var re=d.getAnchorStyle(ee);return Object(K.g)(b0,{anchorData:ee,nodeDraging:M,node:u,style:re,edgeStyle:W,anchorIndex:ae,nodeModel:d,graphModel:m,setHoverOFF:u.setHoverOFF})})}return[]}},{key:"getText",value:function(){var u=this.props,l=u.model,d=u.graphModel;if(l.state===Ot.TEXT_EDIT)return"";if(l.text){var m=d.editConfigModel,E=!1;return(l.text.draggable||m.nodeTextDraggable)&&(E=!0),Object(K.g)(nh,{editable:m.nodeTextEdit&&l.text.editable,model:l,graphModel:d,draggable:E})}}},{key:"getStateClassName",value:function(){var u=this.props.model,l=u.state,d=u.isDraging,m="lf-node";switch(l){case Ot.ALLOW_CONNECT:m+=" lf-node-allow";break;case Ot.NOT_ALLOW_CONNECT:m+=" lf-node-not-allow";break;default:m+=" lf-node-default"}return d&&(m+=" lf-isDragging"),m}},{key:"toFront",value:function(){var u=this.props,l=u.model,d=u.graphModel;d.overlapMode!==sn.INCREASE&&l.autoToFront&&d.toFront(l.id)}},{key:"render",value:function(){var u,l=this.props,d=l.model,m=l.graphModel,E=m.editConfigModel,A=E.hideAnchors,M=E.adjustNodePosition,I=m.gridSize,W=m.transformModel.SCALE_X,ee=d.isHitable,ae=d.draggable,re=Object(K.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),A?null:this.getAnchors());return ee?(M&&ae&&this.stepDrag.setStep(I*W),u=Object(K.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onMouseUp:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},re)):u=Object(K.g)("g",{className:this.getStateClassName()},re),u}}])&&ih(t.prototype,n),r&&ih(t,r),o}(K.a);function uh(e){return(uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ch(){return(ch=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function T0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sh(e,t){return(sh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function D0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ec(e);if(t){var i=ec(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return N0(this,n)}}function N0(e,t){if(t&&(uh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function ec(e){return(ec=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var tc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&sh(o,u)})(i,e);var t,n,r=D0(i);function i(){return T0(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.getNodeStyle();return Object(K.g)(wr,ch({},u,{x:o.x,y:o.y,width:o.width,height:o.height,radius:o.radius}))}}])&&M0(t.prototype,n),i}(lr);function lh(e){return(lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function fh(){return(fh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ph(e,t){return(ph=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function I0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=nc(e);if(t){var i=nc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return L0(this,n)}}function L0(e,t){if(t&&(lh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function nc(e){return(nc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var rc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&ph(o,u)})(i,e);var t,n,r=I0(i);function i(){return C0(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.x,l=o.y,d=o.r,m=o.getNodeStyle();return Object(K.g)(Zo,fh({},m,{x:u,y:l,r:d}))}}])&&R0(t.prototype,n),i}(lr);function dh(e){return(dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function z0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return hh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return hh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function hh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yh(e){var t=e.points,n=e.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(e).forEach(function(i){var o=z0(i,2),u=o[0],l=o[1];dh(l)!=="object"&&(r[u]=l)}),r.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",r.points=t.map(function(i){return i.join(",")}).join(" "),Object(K.g)("polygon",r)}function vh(e){return(vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function gh(){return(gh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function B0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bh(e,t){return(bh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function U0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=oc(e);if(t){var i=oc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return G0(this,n)}}function G0(e,t){if(t&&(vh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function oc(e){return(oc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var ic=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&bh(o,u)})(i,e);var t,n,r=U0(i);function i(){return B0(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.x,l=o.y,d=o.width,m=o.height,E=o.points,A=o.getNodeStyle(),M={transform:"matrix(1 0 0 1 ".concat(u-d/2," ").concat(l-m/2,")")};return Object(K.g)("g",M,Object(K.g)(yh,gh({},A,{points:E,x:u,y:l})))}}])&&F0(t.prototype,n),i}(lr);function mh(e){return(mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Oh(){return(Oh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function H0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _h(e,t){return(_h=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Y0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ac(e);if(t){var i=ac(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return V0(this,n)}}function V0(e,t){if(t&&(mh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function ac(e){return(ac=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var uc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&_h(o,u)})(i,e);var t,n,r=Y0(i);function i(){return H0(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.getNodeStyle();return Object(K.g)("g",null,Object(K.g)(yh,Oh({},u,{points:o.points,x:o.x,y:o.y})))}}])&&X0(t.prototype,n),i}(lr);function wh(e){return(wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function W0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return xh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return xh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K0(e){var t=e.x,n=t===void 0?0:t,r=e.y,i=r===void 0?0:r,o=e.rx,u=o===void 0?4:o,l=e.ry,d=l===void 0?4:l,m=e.className,E={cx:n,cy:i,rx:u,ry:d,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(A){var M=W0(A,2),I=M[0],W=M[1];wh(W)!=="object"&&(E[I]=W)}),E.className=m?"lf-basic-shape ".concat(m):"lf-basic-shape",Object(K.g)("ellipse",E)}function Eh(e){return(Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function jh(){return(jh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Z0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sh(e,t){return(Sh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function $0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=cc(e);if(t){var i=cc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return J0(this,n)}}function J0(e,t){if(t&&(Eh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function cc(e){return(cc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var sc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Sh(o,u)})(i,e);var t,n,r=$0(i);function i(){return Z0(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.getNodeStyle();return Object(K.g)(K0,jh({},u,{x:o.x,y:o.y,rx:o.rx,ry:o.ry}))}}])&&q0(t.prototype,n),i}(lr);function Ph(e){return(Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ah(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ah(Object(n),!0).forEach(function(r){Q0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ah(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Q0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Th(e,t){return(Th=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function nO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=lc(e);if(t){var i=lc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return rO(this,n)}}function rO(e,t){if(t&&(Ph(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function lc(e){return(lc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var fc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Th(o,u)})(i,e);var t,n,r=nO(i);function i(){return eO(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getBackgroud",value:function(){var o=this.props.model,u=o.getTextStyle(),l=o.text;if(l&&l.value&&u.background&&u.background.fill!=="transparnet"){var d=l.x,m=l.y,E=o.width,A=o.height,M=kh(kh({},u.background),{},{x:d,y:m-1,width:E,height:A});return Object(K.g)(wr,M)}}},{key:"getShape",value:function(){return Object(K.g)("g",null,this.getBackgroud())}}])&&tO(t.prototype,n),i}(lr);function Mh(e){return(Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function oO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dh(e,t){return(Dh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function aO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=pc(e);if(t){var i=pc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return uO(this,n)}}function uO(e,t){if(t&&(Mh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ri(e)}function ri(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pc(e){return(pc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ma(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Dh(o,u)})(i,e);var t,n,r=aO(i);function i(){var o;oO(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return ma(ri(o=r.call.apply(r,[this].concat(l))),"ref",void 0),ma(ri(o),"currrentProperties",void 0),ma(ri(o),"preProperties",void 0),ma(ri(o),"setRef",function(m){o.ref=m}),o}return t=i,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(o){o.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currrentProperties)return this.preProperties=this.currrentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var o=this.props.model,u=o.x,l=o.y,d=o.height,m=o.width;return this.currrentProperties=JSON.stringify(o.properties),Object(K.g)("foreignObject",{x:u-m/2,y:l-d/2,width:m,height:d,ref:this.setRef})}}])&&iO(t.prototype,n),i}(lr);function Nh(e){return(Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function cO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Ch(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Ch(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ch(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var go=function(e){var t={d:""};return Object.entries(e).forEach(function(n){var r=cO(n,2),i=r[0],o=r[1];Nh(o)!=="object"&&(t[i]=o)}),Object(K.g)("path",t)};function Rh(e){return(Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ih(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lh(e,t){return(Lh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function pO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=hc(e);if(t){var i=hc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dO(this,n)}}function dO(e,t){if(t&&(Rh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function hc(e){return(hc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var zh=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Lh(o,u)})(i,e);var t,n,r=pO(i);function i(){return lO(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getArrowAttributes",value:function(){var o=this.props,u=o.arrowInfo,l=o.style,d=u.start,m=u.end,E={start:d,end:m,offset:l.offset,verticalLength:l.verticalLength,type:"end"},A=Yo(E),M=A.leftX,I=A.leftY,W=A.rightX,ee=A.rightY;return function(ae){for(var re=1;re<arguments.length;re++){var se=arguments[re]!=null?arguments[re]:{};re%2?Ih(Object(se),!0).forEach(function(pe){sO(ae,pe,se[pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ae,Object.getOwnPropertyDescriptors(se)):Ih(Object(se)).forEach(function(pe){Object.defineProperty(ae,pe,Object.getOwnPropertyDescriptor(se,pe))})}return ae}({d:"M".concat(M," ").concat(I," L").concat(m.x," ").concat(m.y," L").concat(W," ").concat(ee," z")},l)}},{key:"getShape",value:function(){var o=this.getArrowAttributes(),u=o.d,l=o.strokeWidth,d=o.stroke,m=o.fill;return Object(K.g)(go,{d:u,fill:m,strokeWidth:l,stroke:d})}},{key:"render",value:function(){return Object(K.g)("g",{className:"lf-arrow"},this.getShape())}}])&&fO(t.prototype,n),i}(K.a);function Bh(e){return(Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Fh(){return(Fh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Uh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Uh(Object(n),!0).forEach(function(r){gc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gh(e,t){return(Gh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function yO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=vc(e);if(t){var i=vc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return vO(this,n)}}function vO(e,t){if(t&&(Bh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yc(e)}function yc(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vc(e){return(vc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function gc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yn,gO=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Gh(o,u)})(i,e);var t,n,r=yO(i);function i(o){var u;return function(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}(this,i),gc(yc(u=r.call(this,o)),"setHoverON",function(){u.setState({isHoverd:!0})}),gc(yc(u),"setHoverOFF",function(){u.setState({isHoverd:!1})}),u.state={isHoverd:!1},u}return t=i,(n=[{key:"getBackgroud",value:function(){var o=this.props.model,u=o.getTextStyle(),l=o.text,d=u.background||{};if(this.state.isHoverd&&u.hover&&u.hover.background&&(d=Kr(Kr({},d),u.hover.background)),l&&l.value&&d.fill!=="transparnet"){var m,E=u.fontSize,A=u.overflowMode,M=u.lineHeight,I=u.wrapPadding,W=u.textWidth,ee=l.value,ae=l.x,re=l.y,se=String(ee).split(/[\r\n]/g),pe=se.length;if(A==="autoWrap"&&W){var Se=ml({rows:se,style:{fontSize:"".concat(E,"px"),width:"".concat(W,"px"),lineHeight:M,padding:I},rowsLength:pe,className:"lf-get-text-height"});m=Kr(Kr({},d),{},{x:ae-1,y:re-1,width:W,height:Se})}else{se&&se.forEach(function(et){Wl(et)});var xe=hu({rows:se,fontSize:E,rowsLength:pe}),Me=xe.width,Le=xe.height;m=Kr(Kr({},d),{},{x:ae-1,y:re-1,width:Me,height:Le})}return Object(K.g)(wr,m)}}},{key:"getShape",value:function(){var o=this.props.model,u=o.text,l=u.value,d=u.x,m=u.y;if(l){var E=Kr({x:d,y:m,className:"lf-element-text",value:l},o.getTextStyle());return Object(K.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackgroud(),Object(K.g)($d,Fh({},E,{model:o})))}}}])&&hO(t.prototype,n),i}(nh);function Hh(e){return(Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Xh(){return(Xh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Yh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yh(Object(n),!0).forEach(function(r){An(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Vh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Vh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Vh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wh(e,t){return(Wh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function OO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=bc(e);if(t){var i=bc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _O(this,n)}}function _O(e,t){if(t&&(Hh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pn(e)}function Pn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bc(e){return(bc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function An(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(Yn||(Yn={}));var Kh=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Wh(o,u)})(i,e);var t,n,r=OO(i);function i(){var o;return function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,i),An(Pn(o=r.call(this)),"dragHandler",void 0),An(Pn(o),"oldEdge",void 0),An(Pn(o),"preTargetNode",void 0),An(Pn(o),"targetRuleResults",void 0),An(Pn(o),"sourceRuleResults",void 0),An(Pn(o),"onDragStart",function(){var u=o.props,l=u.x,d=u.y,m=u.edgeModel,E=m.startPoint,A=m.endPoint,M=m.pointsList;o.oldEdge={startPoint:E,endPoint:A,pointsList:M},o.setState({endX:l,endY:d,draging:!0}),m.isHitable=!1}),An(Pn(o),"onDraging",function(u){var l=u.deltaX,d=u.deltaY,m=o.state,E=m.endX,A=m.endY,M=o.props,I=M.graphModel,W=M.type,ee=bO(I.transformModel.moveCanvasPointByHtml([E,A],l,d),2),ae=ee[0],re=ee[1];o.setState({endX:ae,endY:re,draging:!0});var se=o.props.edgeModel,pe=Vi({x:E,y:A},I);if(pe&&pe.node&&o.isAllowAdjust(pe)){var Se,xe=se.startPoint,Me=se.endPoint,Le=se.sourceNode,et=se.targetNode;W===Yn.SOURCE?Se={startPoint:{x:pe.anchor.x,y:pe.anchor.y},endPoint:{x:Me.x,y:Me.y},sourceNode:pe.node,targetNode:et}:W===Yn.TARGET&&(Se={startPoint:{x:xe.x,y:xe.y},endPoint:{x:pe.anchor.x,y:pe.anchor.y},sourceNode:Le,targetNode:pe.node}),se.updateAfterAdjustStartAndEnd(Se)}else W===Yn.SOURCE?se.updateStartPoint({x:ae,y:re}):W===Yn.TARGET&&se.updateEndPoint({x:ae,y:re})}),An(Pn(o),"onDragEnd",function(){var u;o.setState({draging:!1});var l=o.props,d=l.graphModel,m=l.edgeModel,E=l.type;m.isHitable=!0;var A=o.state,M=A.endX,I=A.endY,W=A.draging,ee=Vi({x:M,y:I},d);if(W){if(ee&&ee.node&&o.isAllowAdjust(ee)){var ae,re=m.getData(),se=fr(fr({},re),{},{sourceAnchorId:"",targetAnchorId:"",text:(re==null||(ae=re.text)===null||ae===void 0?void 0:ae.value)||""});E===Yn.SOURCE?se=fr(fr({},se),{},{sourceNodeId:ee.node.id,sourceAnchorId:ee.anchor.id,startPoint:{x:ee.anchor.x,y:ee.anchor.y},targetNodeId:m.targetNodeId,endPoint:fr({},m.endPoint)}):E===Yn.TARGET&&(se=fr(fr({},se),{},{sourceNodeId:m.sourceNodeId,startPoint:fr({},m.startPoint),targetNodeId:ee.node.id,targetAnchorId:ee.anchor.id,endPoint:{x:ee.anchor.x,y:ee.anchor.y}})),d.deleteEdgeById(m.id);var pe=d.addEdge(fr({},se));d.eventCenter.emit(Qe.EDGE_EXCHANGE_NODE,{data:{newEdge:pe.getData(),oldEdge:m.getData()}})}else o.recoveryEdge();(u=o.preTargetNode)===null||u===void 0||u.setElementState(Ot.DEFAULT)}}),An(Pn(o),"recoveryEdge",function(){var u=o.props.edgeModel,l=o.oldEdge,d=l.startPoint,m=l.endPoint,E=l.pointsList;u.updateStartPoint(d),u.updateEndPoint(m),u.modelType!==ct.LINE_EDGE&&(u.pointsList=E,u.initPoints())}),An(Pn(o),"getAdjustPointStyle",function(){return o.props.graphModel.theme.edgeAdjust}),o.state={draging:!1,endX:0,endY:0},o.targetRuleResults=new Map,o.sourceRuleResults=new Map,o.dragHandler=oa({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd}),o}return t=i,(n=[{key:"isAllowAdjust",value:function(o){var u=this.props,l=u.edgeModel,d=(l.id,l.sourceNode),m=l.targetNode,E=l.sourceAnchorId,A=l.targetAnchorId,M=u.type,I=null,W=null,ee=null,ae=null;if(M===Yn.SOURCE?(I=o.node,W=m,ee=o.anchor,ae=m.getAnchorInfo(A)):(I=d,W=o.node,ae=o.anchor,ee=d.getAnchorInfo(E)),this.preTargetNode&&this.preTargetNode!==o.node&&this.preTargetNode.setElementState(Ot.DEFAULT),this.preTargetNode=o.node,ae.id===ee.id)return!1;var re="".concat(I.id,"_").concat(W.id,"_").concat(ee.id,"_").concat(ae.id);if(!this.targetRuleResults.has(re)){var se=I.isAllowConnectedAsSource(W,ee,ae),pe=W.isAllowConnectedAsTarget(I,ee,ae);this.sourceRuleResults.set(re,Wi(se)),this.targetRuleResults.set(re,Wi(pe))}var Se=this.sourceRuleResults.get(re).isAllPass,xe=this.targetRuleResults.get(re).isAllPass,Me=Se&&xe?Ot.ALLOW_CONNECT:Ot.NOT_ALLOW_CONNECT;return M===Yn.SOURCE?I.setElementState(Me):W.setElementState(Me),Se&&xe}},{key:"render",value:function(){var o=this.props,u=o.x,l=o.y,d=this.state.draging,m=this.getAdjustPointStyle();return Object(K.g)("g",null,Object(K.g)(Zo,Xh({className:"lf-edge-adjust-point"},m,{x:u,y:l,onMouseDown:this.dragHandler,"pointer-events":d?"none":""})))}}])&&mO(t.prototype,n),i}(K.a);function Zh(e){return(Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function mc(){return(mc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function qh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $h(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qh(Object(n),!0).forEach(function(r){Tn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jh(e,t){return(Jh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function EO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Oc(e);if(t){var i=Oc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return jO(this,n)}}function jO(e,t){if(t&&(Zh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kn(e)}function kn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oc(e){return(Oc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Tn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oi=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Jh(o,u)})(i,e);var t,n,r=EO(i);function i(){var o;wO(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Tn(kn(o=r.call.apply(r,[this].concat(l))),"startTime",void 0),Tn(kn(o),"contextMenuTime",void 0),Tn(kn(o),"clickTimer",void 0),Tn(kn(o),"handleHover",function(m,E){var A=o.props,M=A.model,I=A.graphModel.eventCenter;M.setHovered(m);var W=m?Qe.EDGE_MOUSEENTER:Qe.EDGE_MOUSELEAVE,ee=M.getData();I.emit(W,{data:ee,e:E})}),Tn(kn(o),"setHoverON",function(m){o.handleHover(!0,m)}),Tn(kn(o),"setHoverOFF",function(m){o.handleHover(!1,m)}),Tn(kn(o),"handleContextMenu",function(m){m.preventDefault(),o.contextMenuTime=new Date().getTime(),o.clickTimer&&clearTimeout(o.clickTimer);var E=o.props,A=E.model,M=E.graphModel,I=M.getPointByClient({x:m.clientX,y:m.clientY});M.setElementStateById(A.id,Ot.SHOW_MENU,I.domOverlayPosition),o.toFront(),M.selectEdgeById(A.id);var W=A==null?void 0:A.getData();M.eventCenter.emit(Qe.EDGE_CONTEXTMENU,{data:W,e:m,position:I})}),Tn(kn(o),"handleMouseDown",function(m){m.stopPropagation(),o.startTime=new Date().getTime()}),Tn(kn(o),"handleMouseUp",function(m){if(o.startTime&&!(new Date().getTime()-o.startTime>200||m.button===2)){var E=m.detail===2,A=o.props,M=A.model,I=A.graphModel,W=M==null?void 0:M.getData(),ee=I.getPointByClient({x:m.clientX,y:m.clientY});if(E){var ae=I.editConfigModel,re=I.textEditElement;if(re&&re.id===M.id&&I.setElementStateById(M.id,Ot.DEFAULT),ae.edgeTextEdit&&M.text.editable&&I.setElementStateById(M.id,Ot.TEXT_EDIT),M.modelType===ct.POLYLINE_EDGE){var se=M,pe=I.getPointByClient({x:m.x,y:m.y}).canvasOverlayPosition,Se=pe.x,xe=pe.y,Me=Zl({x:Se,y:xe},se.points);se.dbClickPosition=Me}I.eventCenter.emit(Qe.EDGE_DBCLICK,{data:W,e:m,position:ee})}else I.eventCenter.emit(Qe.ELEMENT_CLICK,{data:W,e:m,position:ee}),I.eventCenter.emit(Qe.EDGE_CLICK,{data:W,e:m,position:ee});var Le=I.editConfigModel;I.selectEdgeById(M.id,Ks(m,Le)),o.toFront()}}),Tn(kn(o),"getIsDraging",function(){return!1}),o}return t=i,(n=[{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var o=this.props,u=o.model,l=o.graphModel;if(u.state===Ot.TEXT_EDIT)return"";var d=!1,m=l.editConfigModel;return(u.text.draggable||m.edgeTextDraggable)&&(d=!0),Object(K.g)(gO,{editable:m.edgeTextEdit&&u.text.editable,model:u,graphModel:l,draggable:d})}},{key:"getArrowInfo",value:function(){var o=this.props.model,u=o.startPoint,l=o.endPoint,d=o.isSelected;return{start:u,end:l,hover:this.state.hover,isSelected:d}}},{key:"getArrowStyle",value:function(){var o=this.props,u=o.model,l=o.graphModel,d=u.getEdgeStyle(),m=l.theme.arrow;return $h($h({},d),{},{fill:d.stroke},m)}},{key:"getArrow",value:function(){var o=this.getArrowInfo(),u=o.start,l=o.end;if(u&&l&&(u.x!==l.x||u.y!==l.y)){var d=this.getArrowStyle();return Object(K.g)(zh,{arrowInfo:o,style:d})}}},{key:"getAdjustPoints",value:function(){var o=this.props,u=o.model,l=o.graphModel,d=u.getAdjustStart(),m=u.getAdjustEnd();return Object(K.g)("g",null,Object(K.g)(Kh,mc({type:"SOURCE"},d,{edgeModel:u,graphModel:l})),Object(K.g)(Kh,mc({type:"TARGET"},m,{edgeModel:u,graphModel:l})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(K.g)("g",null)}},{key:"getAppend",value:function(){return Object(K.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var o=this.props,u=o.graphModel,l=o.model;u.overlapMode!==sn.INCREASE&&u.toFront(l.id)}},{key:"render",value:function(){var o=this.props,u=o.model,l=u.isSelected,d=u.isHitable,m=o.graphModel,E=this.getIsDraging(),A=m.editConfigModel.adjustEdgeStartAndEnd,M=m.animation,I=l&&M.edge&&m.getSelectElements().edges.length===1;return Object(K.g)("g",null,Object(K.g)("g",{className:d?"lf-edge":"lf-edge pointer-none",onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),I&&this.getAnimation(),this.getText(),this.getArrow()),A&&l&&!E?this.getAdjustPoints():"")}}])&&xO(t.prototype,n),i}(K.a);function Qh(e){return(Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function _c(){return(_c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function SO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ey(e,t){return(ey=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function AO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=wc(e);if(t){var i=wc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return kO(this,n)}}function kO(e,t){if(t&&(Qh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function wc(e){return(wc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var xc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&ey(o,u)})(i,e);var t,n,r=AO(i);function i(){return SO(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getEdge",value:function(){var o=this.props.model,u=o.startPoint,l=o.endPoint,d=o.getEdgeStyle();return Object(K.g)(Xr,_c({},d,{x1:u.x,y1:u.y,x2:l.x,y2:l.y}))}},{key:"getShape",value:function(){return Object(K.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,u=o.getAnimation(),l=u.stroke,d=u.className,m=u.strokeDasharray,E=o.startPoint,A=o.endPoint,M=o.getEdgeStyle();return Object(K.g)("g",null,Object(K.g)(Xr,_c({},M,{x1:E.x,y1:E.y,x2:A.x,y2:A.y,className:d,strokeDasharray:m,stroke:l})))}},{key:"getAppendWidth",value:function(){var o=this.props.model,u=function(M){var I,W=M.start,ee=M.end;if(W.x===ee.x&&W.y===ee.y)I="";else{var ae={start:W,end:ee,offset:10,verticalLength:5},re=Yo(qi(qi({},ae),{},{type:"start"})),se=Yo(qi(qi({},ae),{},{type:"end"}));I="M".concat(re.leftX," ").concat(re.leftY,` 
    L`).concat(re.rightX," ").concat(re.rightY,` 
    L`).concat(se.rightX," ").concat(se.rightY,`
    L`).concat(se.leftX," ").concat(se.leftY," z")}return{d:I,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}({start:o.startPoint,end:o.endPoint}),l=u.d,d=u.strokeWidth,m=u.fill,E=u.strokeDasharray,A=u.stroke;return Object(K.g)(go,{d:l,fill:m,strokeWidth:d,stroke:A,strokeDasharray:E})}}])&&PO(t.prototype,n),i}(oi);function ty(e){return(ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function TO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return ny(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ny(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ny(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ry=function(e){var t={points:"",fill:"none"};return Object.entries(e).forEach(function(n){var r=TO(n,2),i=r[0],o=r[1];ty(o)!=="object"&&(t[i]=o)}),Object(K.g)("polyline",t)};function oy(e){return(oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function iy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Oa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iy(Object(n),!0).forEach(function(r){Wn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ec(){return(Ec=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function MO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return ay(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ay(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ay(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function DO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uy(e,t){return(uy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function NO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=jc(e);if(t){var i=jc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return CO(this,n)}}function CO(e,t){if(t&&(oy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vn(e)}function Vn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jc(e){return(jc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Wn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Sc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&uy(o,u)})(i,e);var t,n,r=NO(i);function i(){var o;return function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,i),Wn(Vn(o=r.call(this)),"drag",void 0),Wn(Vn(o),"isDraging",void 0),Wn(Vn(o),"appendInfo",void 0),Wn(Vn(o),"dragHandler",void 0),Wn(Vn(o),"onDragStart",function(){o.props.model.dragAppendStart()}),Wn(Vn(o),"onDraging",function(u){var l=u.deltaX,d=u.deltaY,m=o.props,E=m.model,A=m.graphModel;o.isDraging=!0;var M=A.transformModel,I=A.editConfigModel,W=MO(M.fixDeltaXY(l,d),2),ee=W[0],ae=W[1],re=E,se=I.adjustEdgeMiddle;o.appendInfo=se?re.dragAppendSimple(o.appendInfo,{x:ee,y:ae}):re.dragAppend(o.appendInfo,{x:ee,y:ae})}),Wn(Vn(o),"onDragEnd",function(){var u=o.props,l=u.model,d=u.graphModel.eventCenter,m=l;m.dragAppendEnd(),o.isDraging=!1,o.appendInfo=void 0,d.emit(Qe.EDGE_ADJUST,{data:m.getData()})}),Wn(Vn(o),"beforeDragStart",function(u,l){l.dragAble&&o.dragHandler(u),o.appendInfo=l}),Wn(Vn(o),"getIsDraging",function(){return o.isDraging}),o.drag=oa({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd,isStopPropagation:!1}),o}return t=i,(n=[{key:"getEdge",value:function(){var o=this.props.model,u=o.getEdgeStyle();return Object(K.g)(ry,Ec({points:o.points},u))}},{key:"getShape",value:function(){return Object(K.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,u=o.getAnimation(),l=u.stroke,d=u.className,m=u.strokeDasharray,E=o.getEdgeStyle();return Object(K.g)("g",null,Object(K.g)(ry,Ec({points:o.points},E,{className:d,strokeDasharray:m,stroke:l})))}},{key:"getArrowInfo",value:function(){var o=this.props.model,u=o.points,l=o.isSelected,d={start:null,end:null,hover:this.state.hover,isSelected:l},m=lo(u);return m.length>=2&&(d.start=m[m.length-2],d.end=m[m.length-1]),d}},{key:"getAppendAttributes",value:function(o){var u,l=o.start,d=o.end;if(l.x===d.x&&l.y===d.y)u="";else{var m={start:l,end:d,offset:10,verticalLength:5},E=Yo(Oa(Oa({},m),{},{type:"start"})),A=Yo(Oa(Oa({},m),{},{type:"end"}));u="M".concat(E.leftX," ").concat(E.leftY,` 
      L`).concat(E.rightX," ").concat(E.rightY,` 
      L`).concat(A.rightX," ").concat(A.rightY,`
      L`).concat(A.leftX," ").concat(A.leftY," z")}return{d:u,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(o){var u=this.getAppendAttributes(o),l=u.d,d=u.strokeWidth,m=u.fill,E=u.strokeDasharray,A=u.stroke;return Object(K.g)(go,{d:l,fill:m,strokeWidth:d,stroke:A,strokeDasharray:E})}},{key:"getAppendWidth",value:function(){for(var o=this,u=this.props,l=u.model,d=u.graphModel,m=l.pointsList,E=l.draggable,A=[],M=m.length,I=function(ee){var ae="lf-polyline-append",re={start:{x:m[ee].x,y:m[ee].y},end:{x:m[ee+1].x,y:m[ee+1].y},startIndex:ee,endIndex:ee+1,direction:"",dragAble:!0},se=Object(K.g)("g",{className:ae},o.getAppendShape(re)),pe=d.editConfigModel,Se=pe.adjustEdge,xe=pe.adjustEdgeMiddle;if(Se&&E){o.dragHandler=o.drag;var Me=re.startIndex,Le=re.endIndex,et=xe&&(Me===0||Le===M-1);re.dragAble=!et,re.start.x===re.end.x?(re.dragAble&&(ae+="-ew-resize"),re.direction=St.VERTICAL):re.start.y===re.end.y&&(re.dragAble&&(ae+="-ns-resize"),re.direction=St.HORIZONTAL),se=Object(K.g)("g",{className:o.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(_t){return o.beforeDragStart(_t,re)}},Object(K.g)("g",{className:ae},o.getAppendShape(re)))}else o.dragHandler=function(){};A.push(se)},W=0;W<M-1;W++)I(W);return Object(K.g)("g",null,A)}}])&&DO(t.prototype,n),i}(oi);function cy(e){return(cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function RO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return sy(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return sy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function sy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pc(){return(Pc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function IO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ly(e,t){return(ly=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function zO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ac(e);if(t){var i=Ac(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return BO(this,n)}}function BO(e,t){if(t&&(cy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Ac(e){return(Ac=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var kc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&ly(o,u)})(i,e);var t,n,r=zO(i);function i(){return IO(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getEdge",value:function(){var o=this.props.model,u=o.getEdgeStyle();return Object(K.g)(go,Pc({d:o.path},u))}},{key:"getShape",value:function(){return Object(K.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,u=o.getAnimation(),l=u.stroke,d=u.className,m=u.strokeDasharray,E=o.getEdgeStyle();return Object(K.g)("g",null,Object(K.g)(go,Pc({d:o.path},E,{className:d,strokeDasharray:m,stroke:l})))}},{key:"getAppendWidth",value:function(){var o=this.props.model.path;return Object(K.g)(go,{d:o,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var o=this.props.model,u=this.state.hover,l=o,d=l.path,m=l.isSelected,E=RO(function(A){var M=na(A);return[M[2],M[3]]}(d),2);return{start:E[0],end:E[1],hover:u,isSelected:m}}}])&&LO(t.prototype,n),i}(oi),fy=function(e,t){return y(e,t)},FO=function(e){var t=e==null?0:e.length;return t?e[t-1]:void 0},Tc=function(){return dt.a.Date.now()},UO=/\s/,GO=function(e){for(var t=e.length;t--&&UO.test(e.charAt(t)););return t},HO=/^\s+/,XO=function(e){return e&&e.slice(0,GO(e)+1).replace(HO,"")},YO=/^[-+]0x[0-9a-f]+$/i,VO=/^0b[01]+$/i,WO=/^0o[0-7]+$/i,KO=parseInt,py=function(e){if(typeof e=="number")return e;if(ne(e))return NaN;if(Tt(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Tt(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=XO(e);var n=VO.test(e);return n||WO.test(e)?KO(e.slice(2),n?2:8):YO.test(e)?NaN:+e},ZO=Math.max,qO=Math.min,$O=function(e,t,n){var r,i,o,u,l,d,m=0,E=!1,A=!1,M=!0;if(typeof e!="function")throw new TypeError("Expected a function");function I(pe){var Se=r,xe=i;return r=i=void 0,m=pe,u=e.apply(xe,Se)}function W(pe){return m=pe,l=setTimeout(ae,t),E?I(pe):u}function ee(pe){var Se=pe-d;return d===void 0||Se>=t||Se<0||A&&pe-m>=o}function ae(){var pe=Tc();if(ee(pe))return re(pe);l=setTimeout(ae,function(Se){var xe=t-(Se-d);return A?qO(xe,o-(Se-m)):xe}(pe))}function re(pe){return l=void 0,M&&r?I(pe):(r=i=void 0,u)}function se(){var pe=Tc(),Se=ee(pe);if(r=arguments,i=this,d=pe,Se){if(l===void 0)return W(d);if(A)return clearTimeout(l),l=setTimeout(ae,t),I(d)}return l===void 0&&(l=setTimeout(ae,t)),u}return t=py(t)||0,Tt(n)&&(E=!!n.leading,o=(A="maxWait"in n)?ZO(py(n.maxWait)||0,t):o,M="trailing"in n?!!n.trailing:M),se.cancel=function(){l!==void 0&&clearTimeout(l),m=0,r=d=i=l=void 0},se.flush=function(){return l===void 0?u:re(Tc())},se},JO=a(157);function QO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dy,hy,yy,e_=function(){function e(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),jr(this,"undos",[]),jr(this,"redos",[]),jr(this,"callbacks",[]),jr(this,"stopWatch",null),jr(this,"curData",null),jr(this,"maxSize",50),jr(this,"waitTime",100),jr(this,"eventCenter",void 0),this.eventCenter=r}var t,n;return t=e,(n=[{key:"add",value:function(r){fy(FO(this.undos),r)||(this.undos.push(r),fy(this.curData,r)||(this.redos=[]),this.eventCenter.emit(Qe.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var r=this.undos.pop();this.redos.push(r);var i=this.undos.pop();return this.curData=Mt(i),i}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var r=this.redos.pop();return this.curData=Mt(r),r}}},{key:"watch",value:function(r){var i=this;this.stopWatch&&this.stopWatch(),this.undos.push(r.modelToGraphData()),this.stopWatch=Object(JO.a)(r,$O(function(){var o=r.modelToHistoryData();o&&i.add(o)},this.waitTime))}}])&&QO(t.prototype,n),e}();function vy(e){return(vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function t_(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return gy(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return gy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function gy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function by(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?by(Object(n),!0).forEach(function(r){mo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):by(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function my(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oy(e,t){return(Oy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function n_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Mc(e);if(t){var i=Mc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return r_(this,n)}}function r_(e,t){if(t&&(vy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ii(e)}function ii(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mc(e){return(Mc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function mo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _y,wy,xy,Dc=Mn((yy=hy=function(e){(function(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),l&&Oy(u,l)})(o,e);var t,n,r,i=n_(o);function o(){var u;return function(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}(this,o),mo(ii(u=i.call(this)),"ref",Object(K.f)()),mo(ii(u),"__prevText",{type:"",text:"",id:""}),mo(ii(u),"keyupHandler",function(l){var d=u.props.graphModel.textEditElement;l.key==="Enter"&&l.altKey&&d.setElementState(0)}),mo(ii(u),"inputHandler",function(l){var d=l.target.innerText,m=u.props.graphModel.textEditElement;u.__prevText={type:m.type,text:d.replace(/(\r\n)+$|(\n)+$/,""),id:m.id}}),u.state={style:{left:0,top:0}},u}return t=o,r=[{key:"getDerivedStateFromProps",value:function(u){var l,d=u.graphModel,m=d.transformModel,E=d.theme,A=d.textEditElement;if(A){var M;if((M=A.text)===null||M===void 0||!M.value)if(A.BaseType===Lt.EDGE){var I=(A=A).text,W=A.textPosition,ee=W.x,ae=W.y;I.x=ee,I.y=ae,A.setText(I)}else A=A;var re={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(A.BaseType===Lt.EDGE){var se=E.edgeText,pe=se.overflowMode,Se=se.lineHeight,xe=se.wrapPadding,Me=se.textWidth;Me&&pe==="autoWrap"&&(l=bo(bo({},re),{},{width:Me,minWidth:Me,lineHeight:Se,padding:xe}))}else if(A.BaseType===Lt.NODE){var Le=E.nodeText,et=Le.overflowMode,_t=Le.lineHeight,At=Le.wrapPadding,rn=Le.textWidth,Dn=A,Sr=Dn.width,Pr=Dn.modelType;(Pr!==ct.TEXT_NODE&&et==="autoWrap"||Pr===ct.TEXT_NODE&&rn)&&(l=bo(bo({},re),{},{width:rn||Sr,minWidth:rn||Sr,lineHeight:_t,padding:At}))}var wa=A.text,Bc=wa.x,xa=wa.y,Zr=t_(m.CanvasPointToHtmlPoint([Bc,xa]),2);return{style:bo({left:Zr[0],top:Zr[1]},l)}}}}],(n=[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var u=this.props.graphModel,l=u.eventCenter,d=u.editConfigModel,m=d.edgeTextEdit,E=d.nodeTextEdit;(m||E)&&l.on("".concat(Qe.GRAPH_TRANSFORM,",").concat(Qe.NODE_CLICK,",").concat(Qe.BLANK_CLICK," "),function(){u.textEditElement&&u.textEditElement.setElementState(Ot.DEFAULT)})}},{key:"componentDidUpdate",value:function(){var u=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var l=this.__prevText,d=l.text,m=l.id;u.updateText(m,d),u.eventCenter.emit(Qe.TEXT_UPDATE,bo({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(u){if(window.getSelection!==void 0&&document.createRange!==void 0){var l=document.createRange();l.selectNodeContents(u),l.collapse(!1);var d=window.getSelection();d.removeAllRanges(),d.addRange(l)}}},{key:"render",value:function(){var u,l=this.props.graphModel.textEditElement,d=this.state.style;return l?Object(K.g)("div",{contentEditable:!0,className:"lf-text-input",style:d,ref:this.ref,key:l.id,onKeyUp:this.keyupHandler,onInput:this.inputHandler},(u=l.text)===null||u===void 0?void 0:u.value):null}}])&&my(t.prototype,n),r&&my(t,r),o}(K.a),mo(hy,"toolName","textEdit"),dy=yy))||dy,o_=function(e){return e.modelType===ct.LINE_EDGE?function(t){var n=t.startPoint,r=t.endPoint,i=(n.x+r.x)/2,o=(n.y+r.y)/2,u=Math.abs(n.x-r.x)+10,l=Math.abs(n.y-r.y)+10;return{x:i-u/2,y:o-l/2,x1:i+u/2,y1:o+l/2}}(e):e.modelType===ct.POLYLINE_EDGE?function(t){var n=t.points,r=lo(n),i=Vo(r,8),o=i.x,u=i.y,l=i.width,d=i.height;return{x:o-l/2,y:u-d/2,x1:o+l/2,y1:u+d/2}}(e):e.modelType===ct.BEZIER_EDGE?function(t){var n=t.path,r=na(n),i=Vo(r,8),o=i.x,u=i.y,l=i.width,d=i.height;return{x:o-l/2,y:u-d/2,x1:o+l/2,y1:u+d/2}}(e):void 0};function Ey(e){return(Ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function jy(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||Sy(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function i_(e){return function(t){if(Array.isArray(t))return Nc(t)}(e)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||Sy(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Sy(e,t){if(e){if(typeof e=="string")return Nc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nc(e,t):void 0}}function Nc(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Py(e,t){return(Py=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function u_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Cc(e);if(t){var i=Cc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c_(this,n)}}function c_(e,t){if(t&&(Ey(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ai(e)}function ai(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cc(e){return(Cc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ui(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rc=Mn((xy=wy=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Py(o,u)})(i,e);var t,n,r=u_(i);function i(o){var u;(function(E,A){if(!(E instanceof A))throw new TypeError("Cannot call a class as a function")})(this,i),ui(ai(u=r.call(this)),"stepDrag",void 0),ui(ai(u),"handleMouseDown",function(E){u.stepDrag.handleMouseDown(E)}),ui(ai(u),"onDraging",function(E){var A=E.deltaX,M=E.deltaY,I=u.props.graphModel,W=I.getSelectElements(!0);I.moveNodes(W.nodes.map(function(ee){return ee.id}),A,M)}),ui(ai(u),"handleContextMenu",function(E){E.preventDefault();var A=u.props,M=A.graphModel,I=A.graphModel,W=I.eventCenter,ee=I.selectElements,ae=M.getPointByClient({x:E.clientX,y:E.clientY}),re={nodes:[],edges:[]};i_(ee.values()).forEach(function(se){se.BaseType===Lt.NODE&&re.nodes.push(se.getData()),se.BaseType===Lt.EDGE&&re.edges.push(se.getData())}),W.emit(Qe.SELECTION_CONTEXTMENU,{data:re,e:E,position:ae})});var l=o.graphModel,d=l.gridSize,m=l.eventCenter;return u.stepDrag=new po({onDraging:u.onDraging,step:d,eventType:"SELECTION",eventCenter:m}),u}return t=i,(n=[{key:"render",value:function(){var o=this.props.graphModel,u=o.selectElements,l=o.transformModel;if(!(u.size<=1)){var d=Number.MAX_SAFE_INTEGER,m=Number.MAX_SAFE_INTEGER,E=Number.MIN_SAFE_INTEGER,A=Number.MIN_SAFE_INTEGER;u.forEach(function(ee){var ae={x:0,y:0,x1:0,y1:0};ee.BaseType===Lt.NODE&&(ae=function(re){var se=re.x,pe=re.y,Se=re.width,xe=re.height;return{x:se-Se/2,y:pe-xe/2,x1:se+Se/2,y1:pe+xe/2}}(ee)),ee.BaseType===Lt.EDGE&&(ae=o_(ee)),d=Math.min(d,ae.x),m=Math.min(m,ae.y),E=Math.max(E,ae.x1),A=Math.max(A,ae.y1)});var M=jy(l.CanvasPointToHtmlPoint([d,m]),2);d=M[0],m=M[1];var I=jy(l.CanvasPointToHtmlPoint([E,A]),2);E=I[0],A=I[1];var W={left:"".concat(d-10,"px"),top:"".concat(m-10,"px"),width:"".concat(E-d+20,"px"),height:"".concat(A-m+20,"px")};return Object(K.g)("div",{className:"lf-multiple-select",style:W,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&a_(t.prototype,n),i}(K.a),ui(wy,"toolName","multipleSelect"),_y=xy))||_y;function s_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l_=function(){function e(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),_a(this,"tools",void 0),_a(this,"components",void 0),_a(this,"toolMap",new Map),_a(this,"instance",void 0),this.instance=r,this.isDisabledTool(Dc.toolName)||this.registerTool(Dc.toolName,Dc),this.isDisabledTool(Rc.toolName)||this.registerTool(Rc.toolName,Rc)}var t,n;return t=e,(n=[{key:"isDisabledTool",value:function(r){return this.instance.options.disabledTools.indexOf(r)!==-1}},{key:"registerTool",value:function(r,i){this.toolMap.set(r,i)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&s_(t.prototype,n),e}(),f_=a(158),p_=a.n(f_);function d_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ic(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ay=function(){function e(r){(function(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")})(this,e),Ic(this,"mousetrap",void 0),Ic(this,"options",void 0),Ic(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var i=r.lf;this.target=i.container,this.mousetrap=new p_.a(this.target),r.keyboard.enabled&&this.enable(!0)}var t,n;return t=e,(n=[{key:"initShortcuts",value:function(){var r=this,i=this.options.keyboard.shortcuts;if(i)if(Ft(i))i.forEach(function(d){var m=d.keys,E=d.callback,A=d.action;return r.on(m,E,A)});else{var o=i.keys,u=i.callback,l=i.action;this.on(o,u,l)}}},{key:"on",value:function(r,i,o){this.mousetrap.bind(this.getKeys(r),i,o)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(r,i){this.mousetrap.unbind(this.getKeys(r),i)}},{key:"enable",value:function(r){(this.disabled||r)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(r){var i=this;return(Array.isArray(r)?r:[r]).map(function(o){return i.formatkey(o)})}},{key:"formatkey",value:function(r){return r.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&d_(t.prototype,n),e}(),h_=Ay,pr=null;function ky(e,t){return e.x+=t,e.y+=t,e.text&&(e.text.x+=t,e.text.y+=t),e}function Ty(e,t){return e.startPoint&&(e.startPoint.x+=t,e.startPoint.y+=t),e.endPoint&&(e.endPoint.x+=t,e.endPoint.y+=t),e.pointsList&&e.pointsList.length>0&&e.pointsList.forEach(function(n){n.x+=t,n.y+=t}),e.text&&(e.text.x+=t,e.text.y+=t),e}function My(e){return(My=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Dy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dy(Object(n),!0).forEach(function(r){Dt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ny(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zc=function(){function e(i){var o,u,l=this;(function(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")})(this,e),Dt(this,"container",void 0),Dt(this,"width",void 0),Dt(this,"height",void 0),Dt(this,"graphModel",void 0),Dt(this,"history",void 0),Dt(this,"viewMap",new Map),Dt(this,"tool",void 0),Dt(this,"keyboard",void 0),Dt(this,"dnd",void 0),Dt(this,"options",void 0),Dt(this,"snaplineModel",void 0),Dt(this,"components",[]),Dt(this,"plugins",void 0),Dt(this,"extension",{}),Dt(this,"adapterIn",void 0),Dt(this,"adapterOut",void 0),Dt(this,"getView",function(d){return l.viewMap.get(d)}),i=lp(i),this.options=i,this.container=i.container,this.plugins=i.plugins,this.graphModel=new Eb(Lc({},i)),this.tool=new l_(this),this.history=new e_(this.graphModel.eventCenter),this.dnd=new mm({lf:this}),this.keyboard=new h_({lf:this,keyboard:i.keyboard}),i.isSilentMode||i.snapline===!1||(this.snaplineModel=new Gd(this.graphModel),o=this.graphModel.eventCenter,u=this.snaplineModel,o.on("node:mousemove",function(d){var m=d.data;u.setNodeSnapLine(m)}),o.on("node:mouseup",function(){u.clearSnapline()})),function(d,m){var E=d.keyboard,A=E.options.keyboard;E.on(["cmd + c","ctrl + c"],function(){if(A.enabled&&!m.textEditElement){var M=d.options.guards,I=m.getSelectElements(!1);return M&&M.beforeClone&&!M.beforeClone(I)?(pr=null,!1):((pr=I).nodes.forEach(function(W){return ky(W,40)}),pr.edges.forEach(function(W){return Ty(W,40)}),!1)}}),E.on(["cmd + v","ctrl + v"],function(){if(A.enabled&&!m.textEditElement){if(pr&&(pr.nodes||pr.edges)){d.clearSelectElements();var M=d.addElements(pr);if(!M)return;M.nodes.forEach(function(I){return d.selectElementById(I.id,!0)}),M.edges.forEach(function(I){return d.selectElementById(I.id,!0)}),pr.nodes.forEach(function(I){return ky(I,40)}),pr.edges.forEach(function(I){return Ty(I,40)})}return!1}}),E.on(["cmd + z","ctrl + z"],function(){if(A.enabled&&!m.textEditElement)return d.undo(),!1}),E.on(["cmd + y","ctrl + y"],function(){if(A.enabled&&!m.textEditElement)return d.redo(),!1}),E.on(["backspace"],function(){if(A.enabled&&!m.textEditElement){var M=m.getSelectElements(!0);return d.clearSelectElements(),M.edges.forEach(function(I){return d.deleteEdge(I.id)}),M.nodes.forEach(function(I){return d.deleteNode(I.id)}),!1}})}(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(i.disabledPlugins)}var t,n,r;return t=e,r=[{key:"use",value:function(i){var o=i.pluginName;o||(console.warn("\u8BF7\u7ED9\u63D2\u4EF6".concat(i.name||i.constructor.name,"\u6307\u5B9ApluginName!")),o=i.name);var u=this.extensions.get(o);u&&u.destroy&&u.destroy(),this.extensions.set(o,i)}}],(n=[{key:"register",value:function(i,o){var u=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof i=="string"){var l={BaseEdge:oi,BaseEdgeModel:vu,BaseNode:lr,BaseNodeModel:ar,RectNode:tc,RectNodeModel:Vu,CircleNode:rc,CircleNodeModel:Fu,PolygonNode:ic,PolygonNodeModel:Yu,TextNode:fc,TextNodeModel:Wu,LineEdge:xc,LineEdgeModel:bu,DiamondNode:uc,DiamondNodeModel:Gu,PolylineEdge:Sc,PolylineEdgeModel:Ou,BezierEdge:kc,BezierEdgeModel:zu,EllipseNode:sc,EllipseNodeModel:Hu,HtmlNode:dc,HtmlNodeModel:Zu,h:K.g,type:i};this.viewMap.forEach(function(M){var I=M.extendKey;I&&(l[I]=M)}),this.graphModel.modelMap.forEach(function(M){var I=M.extendKey;I&&(l[I]=M)});var d=o(l),m=d.view,E=d.model,A=m;u&&!A.isObervered&&(A.isObervered=!0,A=de(A)),this.setView(i,A),this.graphModel.setModel(i,E)}else this.registerElement(i)}},{key:"registerElement",value:function(i){var o=i.view;i.isObserverView===!1||o.isObervered||(o.isObervered=!0,o=de(o)),this.setView(i.type,o),this.graphModel.setModel(i.type,i.model)}},{key:"defaultRegister",value:function(){this.registerElement({view:tc,model:Vu,type:"rect"}),this.registerElement({type:"circle",view:rc,model:Fu}),this.registerElement({type:"polygon",view:ic,model:Yu}),this.registerElement({type:"line",view:xc,model:bu}),this.registerElement({type:"polyline",view:Sc,model:Ou}),this.registerElement({type:"bezier",view:kc,model:zu}),this.registerElement({type:"text",view:fc,model:Wu}),this.registerElement({type:"ellipse",view:sc,model:Hu}),this.registerElement({type:"diamond",view:uc,model:Gu}),this.registerElement({type:"html",view:dc,model:Zu})}},{key:"selectElementById",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.graphModel.selectElementById(i,o),o||this.graphModel.toFront(i)}},{key:"focusOn",value:function(i){var o=this.graphModel.transformModel,u=i.coordinate,l=i.id;if(!u){var d=this.getNodeModelById(l);d&&(u=d.getData());var m=this.getEdgeModelById(l);m&&(u=m.textPosition)}var E=u,A=E.x,M=E.y;o.focusOn(A,M,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(i){this.graphModel.setTheme(i)}},{key:"resize",value:function(i,o){this.options.width=i!=null?i:this.options.width,this.options.height=o!=null?o:this.options.height,this.graphModel.resize(i,o)}},{key:"setDefaultEdgeType",value:function(i){this.graphModel.setDefaultEdgeType(i)}},{key:"updateText",value:function(i,o){this.graphModel.updateText(i,o)}},{key:"deleteElement",value:function(i){var o,u,l,d=this.getModelById(i);return!!d&&(u=(l=(Dt(o={},Lt.NODE,this.deleteNode),Dt(o,Lt.EDGE,this.deleteEdge),o)[d.BaseType])===null||l===void 0?void 0:l.call(this,i))!==null&&u!==void 0&&u}},{key:"getModelById",value:function(i){return this.graphModel.getElement(i)}},{key:"getDataById",value:function(i){return this.graphModel.getElement(i).getData()}},{key:"changeNodeType",value:function(i,o){this.graphModel.changeNodeType(i,o)}},{key:"changeEdgeType",value:function(i,o){this.graphModel.changeEdgeType(i,o)}},{key:"getNodeEdges",value:function(i){return this.graphModel.getNodeEdges(i)}},{key:"addNode",value:function(i){return this.graphModel.addNode(i)}},{key:"deleteNode",value:function(i){var o=this.graphModel.getNodeModelById(i);if(!o)return!1;var u=o.getData(),l=this.options.guards,d=!l||!l.beforeDelete||l.beforeDelete(u);return d&&this.graphModel.deleteNode(i),d}},{key:"cloneNode",value:function(i){var o=this.graphModel.getNodeModelById(i).getData(),u=this.options.guards;if(!u||!u.beforeClone||u.beforeClone(o))return this.graphModel.cloneNode(i)}},{key:"changeNodeId",value:function(i,o){return this.graphModel.changeNodeId(i,o)}},{key:"getNodeModelById",value:function(i){return this.graphModel.getNodeModelById(i)}},{key:"getNodeDataById",value:function(i){return this.graphModel.getNodeModelById(i).getData()}},{key:"addEdge",value:function(i){return this.graphModel.addEdge(i)}},{key:"deleteEdge",value:function(i){var o=this.options.guards,u=this.graphModel.edgesMap[i];if(!u)return!1;var l=u.model.getData(),d=!o||!o.beforeDelete||o.beforeDelete(l);return d&&this.graphModel.deleteEdgeById(i),d}},{key:"deleteEdgeByNodeId",value:function(i){var o=i.sourceNodeId,u=i.targetNodeId;o&&u?this.graphModel.deleteEdgeBySourceAndTarget(o,u):o?this.graphModel.deleteEdgeBySource(o):u&&this.graphModel.deleteEdgeByTarget(u)}},{key:"changeEdgeId",value:function(i,o){return this.graphModel.changeEdgeId(i,o)}},{key:"getEdgeModelById",value:function(i){var o;return(o=this.graphModel.edgesMap[i])===null||o===void 0?void 0:o.model}},{key:"getEdgeModels",value:function(i){var o=this.graphModel.edges,u=i.sourceNodeId,l=i.targetNodeId;if(u&&l){var d=[];return o.forEach(function(A){A.sourceNodeId===u&&A.targetNodeId===l&&d.push(A)}),d}if(u){var m=[];return o.forEach(function(A){A.sourceNodeId===u&&m.push(A)}),m}if(l){var E=[];return o.forEach(function(A){A.targetNodeId===l&&E.push(A)}),E}return[]}},{key:"getEdgeDataById",value:function(i){var o;return(o=this.getEdgeModelById(i))===null||o===void 0?void 0:o.getData()}},{key:"getNodeIncomingEdge",value:function(i){return this.graphModel.getNodeIncomingEdge(i)}},{key:"getNodeOutgoingEdge",value:function(i){return this.graphModel.getNodeOutgoingEdge(i)}},{key:"getNodeIncomingNode",value:function(i){return this.graphModel.getNodeIncomingNode(i)}},{key:"getNodeOutgoingNode",value:function(i){return this.graphModel.getNodeOutgoingNode(i)}},{key:"editText",value:function(i){this.graphModel.editText(i)}},{key:"setProperties",value:function(i,o){var u;(u=this.graphModel.getElement(i))===null||u===void 0||u.setProperties(Gn(o))}},{key:"getProperties",value:function(i){var o;return(o=this.graphModel.getElement(i))===null||o===void 0?void 0:o.getProperties()}},{key:"toFront",value:function(i){this.graphModel.toFront(i)}},{key:"setElementZIndex",value:function(i,o){return this.graphModel.setElementZIndex(i,o)}},{key:"addElements",value:function(i){for(var o=this,u=i.nodes,l=i.edges,d={},m={nodes:[],edges:[]},E=0;E<u.length;E++){var A=u[E],M=A.id,I=this.addNode(A);if(!I)return;M&&(d[M]=I.id),m.nodes.push(I)}return l.forEach(function(W){var ee=W.sourceNodeId,ae=W.targetNodeId;d[ee]&&(W.sourceNodeId=d[ee]),d[ae]&&(W.targetNodeId=d[ae]);var re=o.graphModel.addEdge(W);m.edges.push(re)}),m}},{key:"getAreaElement",value:function(i,o){return this.graphModel.getAreaElement(i,o).map(function(u){return u.getData()})}},{key:"getSelectElements",value:function(){var i=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(i)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var i=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(i):i}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(i){this.graphModel.editConfigModel.updateEditConfig(i)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(i,o){return this.graphModel.getPointByClient({x:i,y:o})}},{key:"undo",value:function(){if(this.history.undoAble()){var i=Gn(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(i)}}},{key:"redo",value:function(){if(this.history.redoAble()){var i=Gn(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(i)}}},{key:"zoom",value:function(i,o){return this.graphModel.transformModel.zoom(i,o)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(i){this.graphModel.transformModel.setZoomMiniSize(i)}},{key:"setZoomMaxSize",value:function(i){this.graphModel.transformModel.setZoomMaxSize(i)}},{key:"getTransform",value:function(){var i=this.graphModel.transformModel;return{SCALE_X:i.SCALE_X,SCALE_Y:i.SCALE_Y,TRANSLATE_X:i.TRANSLATE_X,TRANSLATE_Y:i.TRANSLATE_Y}}},{key:"translate",value:function(i,o){this.graphModel.transformModel.translate(i,o)}},{key:"resetTranslate",value:function(){var i=this.graphModel.transformModel,o=i.TRANSLATE_X,u=i.TRANSLATE_Y;this.translate(-o,-u)}},{key:"on",value:function(i,o){this.graphModel.eventCenter.on(i,o)}},{key:"off",value:function(i,o){this.graphModel.eventCenter.off(i,o)}},{key:"once",value:function(i,o){this.graphModel.eventCenter.once(i,o)}},{key:"emit",value:function(i,o){this.graphModel.eventCenter.emit(i,o)}},{key:"installPlugins",value:function(){var i,o=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=(i=this.plugins)!==null&&i!==void 0?i:e.extensions;l.forEach(function(d){var m=d.pluginName||d.name;u.indexOf(m)===-1&&o.installPlugin(d)})}},{key:"installPlugin",value:function(i){if(My(i)==="object"){var o=i.install,u=i.render;return o&&o.call(i,this,e),u&&this.components.push(u.bind(i)),void(this.extension[i.pluginName]=i)}var l=i,d=new l({lf:this,LogicFlow:e});d.render&&this.components.push(d.render.bind(d)),this.extension[l.pluginName]=d}},{key:"updateAttributes",value:function(i,o){this.graphModel.updateAttributes(i,o)}},{key:"createFakerNode",value:function(i){var o=this.graphModel.modelMap.get(i.type);if(o){var u=new o(Lc(Lc({},i),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(u),u}console.warn("\u4E0D\u5B58\u5728\u4E3A".concat(i.type,"\u7C7B\u578B\u7684\u8282\u70B9"))}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(i){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(i)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(i,o){this.viewMap.set(i,o)}},{key:"render",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(i=this.adapterIn(i)),this.graphModel.graphDataToModel(Gn(i)),this.options.isSilentMode||this.options.history===!1||this.history.watch(this.graphModel),Object(K.j)(Object(K.g)(gm,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(Qe.GRAPH_RENDERED,this.graphModel.modelToGraphData())}}])&&Ny(t.prototype,n),r&&Ny(t,r),e}();function Mn(e){return de(e)}Dt(zc,"extensions",new Map),f.default=zc}])})})(Fe,Fe.exports);var Oo=N_(Fe.exports);function $_(v,h){return h={exports:{}},v(h,h.exports),h.exports}var J_=$_(function(v){var h=v.exports=function(c,f){if(f||(f=16),c===void 0&&(c=128),c<=0)return"0";for(var a=Math.log(Math.pow(2,c))/Math.log(f),p=2;a===1/0;p*=2)a=Math.log(Math.pow(2,c/p))/Math.log(f)*p;for(var s=a-Math.floor(a),b="",p=0;p<Math.floor(a);p++){var O=Math.floor(Math.random()*f).toString(f);b=O+b}if(s){var w=Math.pow(f,s),O=Math.floor(Math.random()*w).toString(f);b=O+b}var _=parseInt(b,f);return _!==1/0&&_>=Math.pow(2,c)?h(c,f):b};h.rack=function(c,f,a){var p=function(b){var O=0;do{if(O++>10)if(a)c+=a;else throw new Error("too many ID collisions, use more bits");var w=h(c,f)}while(Object.hasOwnProperty.call(s,w));return s[w]=b,w},s=p.hats={};return p.get=function(b){return p.hats[b]},p.set=function(b,O){return p.hats[b]=O,p},p.bits=c||128,p.base=f||16,p}});function Kn(v){if(!(this instanceof Kn))return new Kn(v);v=v||[128,36,1],this._seed=v.length?J_.rack(v[0],v[1],v[2]):v}Kn.prototype.next=function(v){return this._seed(v||!0)};Kn.prototype.nextPrefixed=function(v,h){var c;do c=v+this.next(!0);while(this.assigned(c));return this.claim(c,h),c};Kn.prototype.claim=function(v,h){this._seed.set(v,h||!0)};Kn.prototype.assigned=function(v){return this._seed.get(v)||!1};Kn.prototype.unclaim=function(v){delete this._seed.hats[v]};Kn.prototype.clear=function(){var v=this._seed.hats,h;for(h in v)this.unclaim(h)};var Q_=new Kn([32,32,1]);function Eo(){return Q_.next()}var pv=globalThis&&globalThis.__extends||function(){var v=function(h,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},v(h,c)};return function(h,c){v(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),ew=function(v){pv(h,v);function h(c,f){var a=this;return c.id||(c.id="Event_"+Eo()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),a=v.call(this,c,f)||this,a}return h.prototype.setAttributes=function(){this.r=18},h.prototype.getConnectedTargetRules=function(){var c=v.prototype.getConnectedTargetRules.call(this),f={message:"\u8D77\u59CB\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u7EC8\u70B9",validate:function(){return!1}};return c.push(f),c},h.extendKey="StartEventModel",h}(Fe.exports.CircleNodeModel),tw=function(v){pv(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.extendKey="StartEventNode",h}(Fe.exports.CircleNode),nw={type:"bpmn:startEvent",view:tw,model:ew},dv=globalThis&&globalThis.__extends||function(){var v=function(h,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},v(h,c)};return function(h,c){v(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),Ma=globalThis&&globalThis.__assign||function(){return Ma=Object.assign||function(v){for(var h,c=1,f=arguments.length;c<f;c++){h=arguments[c];for(var a in h)Object.prototype.hasOwnProperty.call(h,a)&&(v[a]=h[a])}return v},Ma.apply(this,arguments)},rw=function(v){dv(h,v);function h(c,f){var a=this;return c.id||(c.id="Event_"+Eo()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),a=v.call(this,c,f)||this,a}return h.prototype.setAttributes=function(){this.r=18},h.prototype.getConnectedSourceRules=function(){var c=v.prototype.getConnectedSourceRules.call(this),f={message:"\u7ED3\u675F\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u8D77\u70B9",validate:function(){return!1}};return c.push(f),c},h.extendKey="EndEventModel",h}(Fe.exports.CircleNodeModel),ow=function(v){dv(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},h.prototype.getShape=function(){var c=this.props.model,f=c.getNodeStyle(),a=c.x,p=c.y,s=c.r,b=v.prototype.getShape.call(this);return Fe.exports.h("g",{},b,Fe.exports.h("circle",Ma(Ma({},f),{cx:a,cy:p,r:s-5})))},h.extendKey="EndEventView",h}(Fe.exports.CircleNode),iw={type:"bpmn:endEvent",view:ow,model:rw},hv=globalThis&&globalThis.__extends||function(){var v=function(h,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},v(h,c)};return function(h,c){v(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),di=globalThis&&globalThis.__assign||function(){return di=Object.assign||function(v){for(var h,c=1,f=arguments.length;c<f;c++){h=arguments[c];for(var a in h)Object.prototype.hasOwnProperty.call(h,a)&&(v[a]=h[a])}return v},di.apply(this,arguments)},aw=function(v){hv(h,v);function h(c,f){var a=this;return c.id||(c.id="Gateway_"+Eo()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),a=v.call(this,c,f)||this,a.points=[[25,0],[50,25],[25,50],[0,25]],a}return h.extendKey="ExclusiveGatewayModel",h}(Fe.exports.PolygonNodeModel),uw=function(v){hv(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.prototype.getShape=function(){var c=this.props.model,f=c.x,a=c.y,p=c.width,s=c.height,b=c.points,O=c.getNodeStyle();return Fe.exports.h("g",{transform:"matrix(1 0 0 1 "+(f-p/2)+" "+(a-s/2)+")"},Fe.exports.h("polygon",di(di({},O),{x:f,y:a,points:b})),Fe.exports.h("path",di({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},O)))},h.extendKey="ExclusiveGatewayNode",h}(Fe.exports.PolygonNode),cw={type:"bpmn:exclusiveGateway",view:uw,model:aw},yv=globalThis&&globalThis.__extends||function(){var v=function(h,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},v(h,c)};return function(h,c){v(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),Da=globalThis&&globalThis.__assign||function(){return Da=Object.assign||function(v){for(var h,c=1,f=arguments.length;c<f;c++){h=arguments[c];for(var a in h)Object.prototype.hasOwnProperty.call(h,a)&&(v[a]=h[a])}return v},Da.apply(this,arguments)},sw=function(v){yv(h,v);function h(c,f){var a=this;return c.id||(c.id="Activity_"+Eo()),a=v.call(this,c,f)||this,a}return h.extendKey="UserTaskModel",h}(Fe.exports.RectNodeModel),lw=function(v){yv(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.prototype.getLabelShape=function(){var c=this.props.model,f=c.x,a=c.y,p=c.width,s=c.height,b=c.getNodeStyle();return Fe.exports.h("svg",{x:f-p/2+5,y:a-s/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Fe.exports.h("path",{fill:b.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},h.prototype.getShape=function(){var c=this.props.model,f=c.x,a=c.y,p=c.width,s=c.height,b=c.radius,O=c.getNodeStyle();return Fe.exports.h("g",{},[Fe.exports.h("rect",Da(Da({},O),{x:f-p/2,y:a-s/2,rx:b,ry:b,width:p,height:s})),this.getLabelShape()])},h.extendKey="UserTaskNode",h}(Fe.exports.RectNode),fw={type:"bpmn:userTask",view:lw,model:sw},vv=globalThis&&globalThis.__extends||function(){var v=function(h,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},v(h,c)};return function(h,c){v(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),Xc=globalThis&&globalThis.__assign||function(){return Xc=Object.assign||function(v){for(var h,c=1,f=arguments.length;c<f;c++){h=arguments[c];for(var a in h)Object.prototype.hasOwnProperty.call(h,a)&&(v[a]=h[a])}return v},Xc.apply(this,arguments)},pw=function(v){vv(h,v);function h(c,f){var a=this;return c.id||(c.id="Activity_"+Eo()),a=v.call(this,c,f)||this,a}return h.extendKey="ServiceTaskModel",h}(Fe.exports.RectNodeModel),dw=function(v){vv(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.prototype.getLabelShape=function(){var c=this.props.model,f=c.x,a=c.y,p=c.width,s=c.height,b=c.getNodeStyle();return Fe.exports.h("svg",{x:f-p/2+5,y:a-s/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},Fe.exports.h("path",{fill:b.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},h.prototype.getShape=function(){var c=this.props.model,f=c.x,a=c.y,p=c.width,s=c.height,b=c.radius,O=c.getNodeStyle();return Fe.exports.h("g",{},[Fe.exports.h("rect",Xc({x:f-p/2,y:a-s/2,rx:b,ry:b,width:p,height:s},O)),this.getLabelShape()])},h.extendKey="ServiceTaskNode",h}(Fe.exports.RectNode),hw={type:"bpmn:serviceTask",view:dw,model:pw},gv=globalThis&&globalThis.__extends||function(){var v=function(h,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},v(h,c)};return function(h,c){v(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),yw=function(v){gv(h,v);function h(c,f){var a=this;return c.id||(c.id="Flow_"+Eo()),a=v.call(this,c,f)||this,a}return h.extendKey="SequenceFlowModel",h}(Fe.exports.PolylineEdgeModel),vw=function(v){gv(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.extendKey="SequenceFlowEdge",h}(Fe.exports.PolylineEdge),gw={type:"bpmn:sequenceFlow",view:vw,model:yw},Fy={width:40,height:40},Uy={width:40,height:40},Gy={width:40,height:40},Hy={width:100,height:80},Xy={width:100,height:80},bw={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},mw=function(){function v(h){var c=h.lf;c.setTheme(bw),c.register(nw),c.register(iw),c.register(cw),c.register(fw),c.register(hw),c.options.customBpmnEdge||(c.register(gw),c.setDefaultEdgeType("bpmn:sequenceFlow"))}return v.pluginName="bpmnElement",v}(),Ow={pluginName:"snapshot",install:function(v){var h=this;this.lf=v,v.getSnapshot=function(c,f){h.offsetX=Number.MAX_SAFE_INTEGER,h.offsetY=Number.MAX_SAFE_INTEGER,h.fileName=c||"logic-flow."+Date.now()+".png";var a=h.getSvgRootElement(v);h.downloadSvg(a,h.fileName,f)},v.getSnapshotBlob=function(c){h.offsetX=Number.MAX_SAFE_INTEGER,h.offsetY=Number.MAX_SAFE_INTEGER;var f=h.getSvgRootElement(v);return h.getBlob(f,c)},v.getSnapshotBase64=function(c){h.offsetX=Number.MAX_SAFE_INTEGER,h.offsetY=Number.MAX_SAFE_INTEGER;var f=h.getSvgRootElement(v);return h.getBase64(f,c)}},getSvgRootElement:function(v){var h=this;v.graphModel.nodes.forEach(function(f){var a=f.x,p=f.width,s=f.y,b=f.height,O=a-p/2,w=s-b/2;O<h.offsetX&&(h.offsetX=O-5),w<h.offsetY&&(h.offsetY=w-5)}),v.graphModel.edges.forEach(function(f){f.pointsList&&f.pointsList.forEach(function(a){var p=a.x,s=a.y;p<h.offsetX&&(h.offsetX=p-5),s<h.offsetY&&(h.offsetY=s-5)})});var c=v.container.querySelector(".lf-canvas-overlay");return c},triggerDownload:function(v){var h=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),c=document.createElement("a");c.setAttribute("download",this.fileName),c.setAttribute("href",v),c.setAttribute("target","_blank"),c.dispatchEvent(h)},removeAnchor:function(v){for(var h=v.childNodes,c=v.childNodes&&v.childNodes.length,f=0;f<c;f++){var a=h[f],p=a.classList&&Array.from(a.classList)||[];p.indexOf("lf-anchor")>-1&&(v.removeChild(v.childNodes[f]),c--,f--)}},downloadSvg:function(v,h,c){var f=this;this.getCanvasData(v,c).then(function(a){var p=a.toDataURL("image/png").replace("image/png","image/octet-stream");f.triggerDownload(p,h)})},getBase64:function(v,h){var c=this;return new Promise(function(f){c.getCanvasData(v,h).then(function(a){var p=a.toDataURL("image/png");f({data:p,width:a.width,height:a.height})})})},getBlob:function(v,h){var c=this;return new Promise(function(f){c.getCanvasData(v,h).then(function(a){a.toBlob(function(p){f({data:p,width:a.width,height:a.height})},"image/png")})})},getClassRules:function(){for(var v="",h=document.styleSheets,c=0;c<h.length;c++)for(var f=h[c],a=0;a<f.cssRules.length;a++)v+=f.cssRules[a].cssText;return v},getCanvasData:function(v,h){var c=this,f=v.cloneNode(!0),a=f.lastChild,p=a.childNodes&&a.childNodes.length;if(p)for(var s=0;s<p;s++){var b=a.childNodes[s],O=b.classList&&Array.from(b.classList);if(O&&O.indexOf("lf-base")<0)a.removeChild(a.childNodes[s]),p--,s--;else{var w=a.childNodes[s];w&&w.childNodes.forEach(function(k){var L=k;c.removeAnchor(L.firstChild)})}}f.lastChild.style.transform="matrix(1, 0, 0, 1, "+(-this.offsetX+10)+", "+(-this.offsetY+10)+")";var _=window.devicePixelRatio||1,j=document.createElement("canvas"),S=document.getElementsByClassName("lf-base")[0],P=S.getBoundingClientRect(),C=this.lf.graphModel,R=C.transformModel,G=R.SCALE_X,X=R.SCALE_Y,z=Math.ceil(P.width/G),V=Math.ceil(P.height/X);j.style.width=z+"px",j.style.height=V+"px",j.width=z*_+80,j.height=V*_+80;var q=j.getContext("2d");q.clearRect(0,0,j.width,j.height),q.scale(_,_),h?(q.fillStyle=h,q.fillRect(0,0,z*_+80,V*_+80)):q.clearRect(0,0,z,V);var Y=new Image,N=document.createElement("style");N.innerHTML=this.getClassRules();var B=document.createElement("foreignObject");return B.appendChild(N),f.appendChild(B),new Promise(function(k){Y.onload=function(){q.drawImage(Y,0,0),k(j)};var L="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(f),U=L.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");Y.src=U})}},_w=new Kn([32,32,1]);function Yy(){return _w.next()}var on=function(){};on.ObjTree=function(){return this};on.ObjTree.VERSION="0.23";on.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;on.ObjTree.prototype.attr_prefix="-";on.ObjTree.prototype.parseXML=function(v){var h;if(window.DOMParser){var c=new DOMParser,f=c.parseFromString(v,"application/xml");if(!f)return;h=f.documentElement}else window.ActiveXObject&&(c=new ActiveXObject("Microsoft.XMLDOM"),c.async=!1,c.loadXML(v),h=c.documentElement);if(!!h)return this.parseDOM(h)};on.ObjTree.prototype.parseHTTP=function(v,h,c){var f={};for(var a in h)f[a]=h[a];if(f.method||(typeof f.postBody=="undefined"&&typeof f.postbody=="undefined"&&typeof f.parameters=="undefined"?f.method="get":f.method="post"),c){f.asynchronous=!0;var p=this,s=c,b=f.onComplete;f.onComplete=function(_){var j;_&&_.responseXML&&_.responseXML.documentElement&&(j=p.parseDOM(_.responseXML.documentElement)),s(j,_),b&&b(_)}}else f.asynchronous=!1;var O;if(typeof HTTP!="undefined"&&HTTP.Request){f.uri=v;var w=new HTTP.Request(f);w&&(O=w.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var w=new Ajax.Request(v,f);w&&(O=w.transport)}if(c)return O;if(O&&O.responseXML&&O.responseXML.documentElement)return this.parseDOM(O.responseXML.documentElement)};on.ObjTree.prototype.parseDOM=function(v){if(!!v){if(this.__force_array={},this.force_array)for(var h=0;h<this.force_array.length;h++)this.__force_array[this.force_array[h]]=1;var c=this.parseElement(v);if(this.__force_array[v.nodeName]&&(c=[c]),v.nodeType!=11){var f={};f[v.nodeName]=c,c=f}return c}};on.ObjTree.prototype.parseElement=function(v){if(v.nodeType!=7){if(v.nodeType==3||v.nodeType==4){var h=v.nodeValue.match(/[^\x00-\x20]/);return h==null?void 0:v.nodeValue}var c,f={};if(v.attributes&&v.attributes.length){c={};for(var a=0;a<v.attributes.length;a++){var p=v.attributes[a].nodeName;if(typeof p=="string"){var s=v.attributes[a].nodeValue;!s||(p=this.attr_prefix+p,typeof f[p]=="undefined"&&(f[p]=0),f[p]++,this.addNode(c,p,f[p],s))}}}if(v.childNodes&&v.childNodes.length){var b=!0;c&&(b=!1);for(var a=0;a<v.childNodes.length&&b;a++){var O=v.childNodes[a].nodeType;O==3||O==4||(b=!1)}if(b){c||(c="");for(var a=0;a<v.childNodes.length;a++)c+=v.childNodes[a].nodeValue}else{c||(c={});for(var a=0;a<v.childNodes.length;a++){var p=v.childNodes[a].nodeName;if(typeof p=="string"){var s=this.parseElement(v.childNodes[a]);!s||(typeof f[p]=="undefined"&&(f[p]=0),f[p]++,this.addNode(c,p,f[p],s))}}}}return c}};on.ObjTree.prototype.addNode=function(v,h,c,f){this.__force_array[h]?(c==1&&(v[h]=[]),v[h][v[h].length]=f):c==1?v[h]=f:c==2?v[h]=[v[h],f]:v[h][v[h].length]=f};on.ObjTree.prototype.writeXML=function(v){var h=this.hash_to_xml(null,v);return this.xmlDecl+h};on.ObjTree.prototype.hash_to_xml=function(v,h){var c=[],f=[];for(var a in h)if(!!h.hasOwnProperty(a)){var p=h[a];a.charAt(0)!=this.attr_prefix?typeof p=="undefined"||p==null?c[c.length]="<"+a+" />":typeof p=="object"&&p.constructor==Array?c[c.length]=this.array_to_xml(a,p):typeof p=="object"?c[c.length]=this.hash_to_xml(a,p):c[c.length]=this.scalar_to_xml(a,p):f[f.length]=" "+a.substring(1)+'="'+this.xml_escape(p)+'"'}var s=f.join(""),b=c.join("");return typeof v=="undefined"||v==null||(c.length>0?b.match(/\n/)?b="<"+v+s+`>
`+b+"</"+v+`>
`:b="<"+v+s+">"+b+"</"+v+`>
`:b="<"+v+s+` />
`),b};on.ObjTree.prototype.array_to_xml=function(v,h){for(var c=[],f=0;f<h.length;f++){var a=h[f];typeof a=="undefined"||a==null?c[c.length]="<"+v+" />":typeof a=="object"&&a.constructor==Array?c[c.length]=this.array_to_xml(v,a):typeof a=="object"?c[c.length]=this.hash_to_xml(v,a):c[c.length]=this.scalar_to_xml(v,a)}return c.join("")};on.ObjTree.prototype.scalar_to_xml=function(v,h){return v=="#text"?this.xml_escape(h):"<"+v+">"+this.xml_escape(h)+"</"+v+`>
`};on.ObjTree.prototype.xml_escape=function(v){return v.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var La=globalThis&&globalThis.__read||function(v,h){var c=typeof Symbol=="function"&&v[Symbol.iterator];if(!c)return v;var f=c.call(v),a,p=[],s;try{for(;(h===void 0||h-- >0)&&!(a=f.next()).done;)p.push(a.value)}catch(b){s={error:b}}finally{try{a&&!a.done&&(c=f.return)&&c.call(f)}finally{if(s)throw s.error}}return p},Zn;(function(v){v.START="bpmn:startEvent",v.END="bpmn:endEvent",v.GATEWAY="bpmn:exclusiveGateway",v.USER="bpmn:userTask",v.SYSTEM="bpmn:serviceTask",v.FLOW="bpmn:sequenceFlow"})(Zn||(Zn={}));var bv=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function Yc(v){var h={};return Object.entries(v).forEach(function(c){var f=La(c,2),a=f[0],p=f[1];typeof p!="object"?a.indexOf("-")===0?h[a]=p:h["-"+a]=p:h[a]=Yc(p)}),h}function qc(v){var h={};return Object.entries(v).forEach(function(c){var f=La(c,2),a=f[0],p=f[1];typeof p=="string"?a.indexOf("-")===0?h[a.substr(1)]=p:h[a]=p:typeof p=="object"?h[a]=qc(p):h[a]=p}),h}function ww(v,h){var c=new Map;h.nodes.forEach(function(a){var p,s={"-id":a.id};if(!((p=a.text)===null||p===void 0)&&p.value&&(s["-name"]=a.text.value),a.properties){var b=Yc(a.properties);Object.assign(s,b)}c.set(a.id,s),v[a.type]?Array.isArray(v[a.type])?v[a.type].push(s):v[a.type]=[v[a.type],s]:v[a.type]=s});var f=h.edges.map(function(a){var p,s,b=c.get(a.targetNodeId);b["bpmn:incoming"]?Array.isArray(b["bpmn:incoming"])?b["bpmn:incoming"].push(a.id):b["bpmn:incoming"]=[b["bpmn:incoming"],a.id]:b["bpmn:incoming"]=a.id;var O=c.get(a.sourceNodeId);O["bpmn:outgoing"]?Array.isArray(O["bpmn:outgoing"])?O["bpmn:outgoing"].push(a.id):O["bpmn:outgoing"]=[O["bpmn:outgoing"],a.id]:O["bpmn:outgoing"]=a.id;var w={"-id":a.id,"-sourceRef":a.sourceNodeId,"-targetRef":a.targetNodeId};if(!((p=a.text)===null||p===void 0)&&p.value&&(w["-name"]=(s=a.text)===null||s===void 0?void 0:s.value),a.properties){var _=Yc(a.properties);Object.assign(w,_)}return w});v[Zn.FLOW]=f}function xw(v,h){v["bpmndi:BPMNEdge"]=h.edges.map(function(c){var f,a=c.id,p=c.pointsList.map(function(b){var O=b.x,w=b.y;return{"-x":O,"-y":w}}),s={"-id":a+"_di","-bpmnElement":a,"di:waypoint":p};return!((f=c.text)===null||f===void 0)&&f.value&&(s["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":c.text.x-c.text.value.length*10/2,"-y":c.text.y-7,"-width":c.text.value.length*10,"-height":14}}),s}),v["bpmndi:BPMNShape"]=h.nodes.map(function(c){var f,a=c.id,p=100,s=80,b=c.x,O=c.y,w=$r.shapeConfigMap.get(c.type);w&&(p=w.width,s=w.height),b-=p/2,O-=s/2;var _={"-id":a+"_di","-bpmnElement":a,"dc:Bounds":{"-x":b,"-y":O,"-width":p,"-height":s}};return!((f=c.text)===null||f===void 0)&&f.value&&(_["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":c.text.x-c.text.value.length*10/2,"-y":c.text.y-7,"-width":c.text.value.length*10,"-height":14}}),_})}function Ew(v){var h=[],c=[],f=v["bpmn:definitions"];if(f){var a=f["bpmn:process"];Object.keys(a).forEach(function(p){if(p.indexOf("bpmn:")===0){var s=a[p];if(p===Zn.FLOW){var b=f["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];c=Sw(s,b)}else{var O=f["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];h=h.concat(jw(s,O,p))}}})}return{nodes:h,edges:c}}function jw(v,h,c){var f=[];if(Array.isArray(v))v.forEach(function(s){var b;Array.isArray(h)?b=h.find(function(w){return w["-bpmnElement"]===s["-id"]}):b=h;var O=Vy(b,c,s);f.push(O)});else{var a=void 0;Array.isArray(h)?a=h.find(function(s){return s["-bpmnElement"]===v["-id"]}):a=h;var p=Vy(a,c,v);f.push(p)}return f}function Vy(v,h,c){var f=Number(v["dc:Bounds"]["-x"]),a=Number(v["dc:Bounds"]["-y"]),p=c["-name"],s=$r.shapeConfigMap.get(h);s&&(f+=s.width/2,a+=s.height/2);var b;Object.entries(c).forEach(function(j){var S=La(j,2),P=S[0],C=S[1];bv.indexOf(P)===-1&&(b||(b={}),b[P]=C)}),b&&(b=qc(b));var O;if(p&&(O={x:f,y:a,value:p},v["bpmndi:BPMNLabel"]&&v["bpmndi:BPMNLabel"]["dc:Bounds"])){var w=v["bpmndi:BPMNLabel"]["dc:Bounds"];O.x=Number(w["-x"])+Number(w["-width"])/2,O.y=Number(w["-y"])+Number(w["-height"])/2}var _={id:v["-bpmnElement"],type:h,x:f,y:a,properties:b};return O&&(_.text=O),_}function Sw(v,h){var c=[];if(Array.isArray(v))v.forEach(function(a){var p;Array.isArray(h)?p=h.find(function(s){return s["-bpmnElement"]===a["-id"]}):p=h,c.push(Wy(p,a))});else{var f=void 0;Array.isArray(h)?f=h.find(function(a){return a["-bpmnElement"]===v["-id"]}):f=h,c.push(Wy(f,v))}return c}function Wy(v,h){var c,f=h["-name"];if(f){var a=v["bpmndi:BPMNLabel"]["dc:Bounds"],p=0;f.split(`
`).forEach(function(O){p<O.length&&(p=O.length)}),c={value:f,x:Number(a["-x"])+p*10/2,y:Number(a["-y"])+7}}var s;Object.entries(h).forEach(function(O){var w=La(O,2),_=w[0],j=w[1];bv.indexOf(_)===-1&&(s||(s={}),s[_]=j)}),s&&(s=qc(s));var b={id:h["-id"],type:Zn.FLOW,pointsList:v["di:waypoint"].map(function(O){return{x:Number(O["-x"]),y:Number(O["-y"])}}),sourceNodeId:h["-sourceRef"],targetNodeId:h["-targetRef"],properties:s};return c&&(b.text=c),b}var $r={pluginName:"bpmn-adapter",install:function(v){v.adapterIn=this.adapterIn,v.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(v,h){this.shapeConfigMap.set(v,h)},adapterOut:function(v){var h={"-id":"Process_"+Yy(),"-isExecutable":"false"};ww(h,v);var c={"-id":"BPMNPlane_1","-bpmnElement":h["-id"]};xw(c,v);var f={"bpmn:definitions":{"-id":"Definitions_"+Yy(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":h,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":c}}};return f},adapterIn:function(v){if(v)return Ew(v)}};$r.shapeConfigMap.set(Zn.START,{width:Fy.width,height:Fy.height});$r.shapeConfigMap.set(Zn.END,{width:Uy.width,height:Uy.height});$r.shapeConfigMap.set(Zn.GATEWAY,{width:Gy.width,height:Gy.height});$r.shapeConfigMap.set(Zn.SYSTEM,{width:Hy.width,height:Hy.height});$r.shapeConfigMap.set(Zn.USER,{width:Xy.width,height:Xy.height});var Ky=globalThis&&globalThis.__assign||function(){return Ky=Object.assign||function(v){for(var h,c=1,f=arguments.length;c<f;c++){h=arguments[c];for(var a in h)Object.prototype.hasOwnProperty.call(h,a)&&(v[a]=h[a])}return v},Ky.apply(this,arguments)},Zy;(function(v){v[v.SEQUENCE_FLOW=1]="SEQUENCE_FLOW",v[v.START_EVENT=2]="START_EVENT",v[v.END_EVENT=3]="END_EVENT",v[v.USER_TASK=4]="USER_TASK",v[v.EXCLUSIVE_GATEWAY=6]="EXCLUSIVE_GATEWAY"})(Zy||(Zy={}));var qy;(function(v){v.HORIZONTAL="horizontal",v.VERTICAL="vertical"})(qy||(qy={}));var Pw=globalThis&&globalThis.__read||function(v,h){var c=typeof Symbol=="function"&&v[Symbol.iterator];if(!c)return v;var f=c.call(v),a,p=[],s;try{for(;(h===void 0||h-- >0)&&!(a=f.next()).done;)p.push(a.value)}catch(b){s={error:b}}finally{try{a&&!a.done&&(c=f.return)&&c.call(f)}finally{if(s)throw s.error}}return p};globalThis&&globalThis.__spread;var Aw=globalThis&&globalThis.__read||function(v,h){var c=typeof Symbol=="function"&&v[Symbol.iterator];if(!c)return v;var f=c.call(v),a,p=[],s;try{for(;(h===void 0||h-- >0)&&!(a=f.next()).done;)p.push(a.value)}catch(b){s={error:b}}finally{try{a&&!a.done&&(c=f.return)&&c.call(f)}finally{if(s)throw s.error}}return p};globalThis&&globalThis.__spread;var kw=globalThis&&globalThis.__read||function(v,h){var c=typeof Symbol=="function"&&v[Symbol.iterator];if(!c)return v;var f=c.call(v),a,p=[],s;try{for(;(h===void 0||h-- >0)&&!(a=f.next()).done;)p.push(a.value)}catch(b){s={error:b}}finally{try{a&&!a.done&&(c=f.return)&&c.call(f)}finally{if(s)throw s.error}}return p},Tw=globalThis&&globalThis.__spread||function(){for(var v=[],h=0;h<arguments.length;h++)v=v.concat(kw(arguments[h]));return v},ci="lf:defaultNodeMenu",si="lf:defaultEdgeMenu",li="lf:defaultGraphMenu",$y="lf:defaultSelectionMenu",Mw=function(){function v(h){var c=this,f=h.lf;this.__menuDOM=document.createElement("ul"),this.lf=f,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(a){c.setMenuConfig(a)},this.lf.addMenuConfig=function(a){c.addMenuConfig(a)},this.lf.setMenuByType=function(a){c.setMenuByType(a)}}return v.prototype.init=function(){var h=this,c=[{text:"\u5220\u9664",callback:function(p){h.lf.deleteNode(p.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(p){h.lf.graphModel.editText(p.id)}},{text:"\u590D\u5236",callback:function(p){h.lf.cloneNode(p.id)}}];this.menuTypeMap.set(ci,c);var f=[{text:"\u5220\u9664",callback:function(p){h.lf.deleteEdge(p.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(p){h.lf.graphModel.editText(p.id)}}];this.menuTypeMap.set(si,f),this.menuTypeMap.set(li,[]);var a=[{text:"\u5220\u9664",callback:function(p){h.lf.clearSelectElements(),p.edges.forEach(function(s){return h.lf.deleteEdge(s.id)}),p.nodes.forEach(function(s){return h.lf.deleteNode(s.id)})}}];this.menuTypeMap.set($y,a)},v.prototype.render=function(h,c){var f=this;this.__container=c,this.__currentData=null,this.__menuDOM.className="lf-menu",c.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(a){a.stopPropagation();for(var p=a.target;Array.from(p.classList).indexOf("lf-menu-item")===-1&&Array.from(p.classList).indexOf("lf-menu")===-1;)p=p.parentElement;Array.from(p.classList).indexOf("lf-menu-item")>-1?(p.onclickCallback(f.__currentData),f.__menuDOM.style.display="none",f.__currentData=null):console.warn("\u70B9\u51FB\u533A\u57DF\u4E0D\u5728\u83DC\u5355\u9879\u5185\uFF0C\u8BF7\u68C0\u67E5\u4EE3\u7801\uFF01")},!0),this.lf.on("node:contextmenu",function(a){var p=a.data,s=a.position,b=s.domOverlayPosition,O=b.x,w=b.y,_=p.id,j=f.lf.graphModel.getNodeModelById(_),S=[],P=f.menuTypeMap.get(j.type);j&&j.menu&&Array.isArray(j.menu)?S=j.menu:P?S=P:S=f.menuTypeMap.get(ci),f.__currentData=p,f.showMenu(O,w,S)}),this.lf.on("edge:contextmenu",function(a){var p=a.data,s=a.position,b=s.domOverlayPosition,O=b.x,w=b.y,_=p.id,j=f.lf.graphModel.getEdgeModelById(_),S=[],P=f.menuTypeMap.get(j.type);j&&j.menu&&Array.isArray(j.menu)?S=j.menu:P?S=P:S=f.menuTypeMap.get(si),f.__currentData=p,f.showMenu(O,w,S)}),this.lf.on("blank:contextmenu",function(a){var p=a.position,s=f.menuTypeMap.get(li),b=p.domOverlayPosition,O=b.x,w=b.y;f.showMenu(O,w,s)}),this.lf.on("selection:contextmenu",function(a){var p=a.data,s=a.position,b=f.menuTypeMap.get($y),O=s.domOverlayPosition,w=O.x,_=O.y;f.__currentData=p,f.showMenu(w,_,b)}),this.lf.on("node:mousedown",function(){f.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){f.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){f.__menuDOM.style.display="none"})},v.prototype.destroy=function(){var h;(h=this===null||this===void 0?void 0:this.__container)===null||h===void 0||h.removeChild(this.__menuDOM),this.__menuDOM=null},v.prototype.showMenu=function(h,c,f){if(!(!f||!f.length)){var a=this.__menuDOM;a.innerHTML="",a.append.apply(a,Tw(this.__getMenuDom(f))),a.children.length&&(a.style.display="block",a.style.top=c+"px",a.style.left=h+"px")}},v.prototype.setMenuByType=function(h){!h.type||!h.menu||this.menuTypeMap.set(h.type,h.menu)},v.prototype.__getMenuDom=function(h){var c=[];return h&&h.length>0&&h.forEach(function(f){var a=document.createElement("li");if(f.className?a.className="lf-menu-item "+f.className:a.className="lf-menu-item",f.icon===!0){var p=document.createElement("span");p.className="lf-menu-item-icon",a.appendChild(p)}var s=document.createElement("span");s.className="lf-menu-item-text",f.text&&(s.innerText=f.text),a.appendChild(s),a.onclickCallback=f.callback,c.push(a)}),c},v.prototype.setMenuConfig=function(h){!h||(h.nodeMenu!==void 0&&this.menuTypeMap.set(ci,h.nodeMenu?h.nodeMenu:[]),h.edgeMenu!==void 0&&this.menuTypeMap.set(si,h.edgeMenu?h.edgeMenu:[]),h.graphMenu!==void 0&&this.menuTypeMap.set(li,h.graphMenu?h.graphMenu:[]))},v.prototype.addMenuConfig=function(h){if(!!h){if(Array.isArray(h.nodeMenu)){var c=this.menuTypeMap.get(ci);this.menuTypeMap.set(ci,c.concat(h.nodeMenu))}if(Array.isArray(h.edgeMenu)){var c=this.menuTypeMap.get(si);this.menuTypeMap.set(si,c.concat(h.edgeMenu))}if(Array.isArray(h.graphMenu)){var c=this.menuTypeMap.get(li);this.menuTypeMap.set(li,c.concat(h.graphMenu))}}},v.prototype.changeMenuItem=function(h,c){if(h==="add")this.addMenuConfig(c);else if(h==="reset")this.setMenuConfig(c);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},v.pluginName="menu",v}();globalThis&&globalThis.__read;var Dw=function(){function v(h){var c=this,f=h.lf;this.lf=f,this.lf.setPatternItems=function(a){c.setPatternItems(a)}}return v.prototype.render=function(h,c){var f=this;if(this.destroy(),!this.shapeList||this.shapeList.length===0){this.domContainer=c;return}this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(a){f.panelEl.appendChild(f.createDndItem(a))}),c.appendChild(this.panelEl),this.domContainer=c},v.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},v.prototype.setPatternItems=function(h){this.shapeList=h,this.domContainer&&this.render(this.lf,this.domContainer)},v.prototype.createDndItem=function(h){var c=this,f=document.createElement("div");f.className=h.className?"lf-dnd-item "+h.className:"lf-dnd-item";var a=document.createElement("div");if(a.className="lf-dnd-shape",h.icon&&(a.style.backgroundImage="url("+h.icon+")"),f.appendChild(a),h.label){var p=document.createElement("div");p.innerText=h.label,p.className="lf-dnd-text",f.appendChild(p)}return f.onmousedown=function(){h.type&&c.lf.dnd.startDrag({type:h.type,properties:h.properties,text:h.text}),h.callback&&h.callback(c.lf,c.domContainer)},f},v.pluginName="dndPanel",v}(),Nw=function(){function v(h){var c=this,f=h.lf;this.__disabled=!1,this.isDefalutStopMoveGraph=!1,this.__draw=function(p){var s=c.lf.getPointByClient(p.clientX,p.clientY).domOverlayPosition,b=s.x,O=s.y;c.endPoint={x:b,y:O};var w=c.startPoint,_=w.x,j=w.y,S=c.wrapper.style,P=_,C=j,R=b-_,G=O-j;b<_&&(P=b,R=_-b),O<j&&(C=O,G=j-O),S.left=P+"px",S.top=C+"px",S.width=R+"px",S.height=G+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",c.__draw),document.removeEventListener("mouseup",c.__drawOff),c.__domContainer.removeChild(c.wrapper);var p=c.startPoint,s=p.x,b=p.y,O=c.endPoint,w=O.x,_=O.y,j=[Math.min(s,w),Math.min(b,_)],S=[Math.max(s,w),Math.max(b,_)],P=c.lf.getAreaElement(j,S);P.forEach(function(C){c.lf.selectElementById(C.id,!0)}),c.lf.emit("selection:selected",P)},this.lf=f;var a=f.getEditConfig().stopMoveGraph;this.isDefalutStopMoveGraph=a,f.openSelectionSelect=function(){c.openSelectionSelect()},f.closeSelectionSelect=function(){c.closeSelectionSelect()}}return v.prototype.render=function(h,c){var f=this;this.__domContainer=c,h.on("blank:mousedown",function(a){var p=a.e,s=h.getEditConfig();if(!(!s.stopMoveGraph||f.__disabled)){var b=h.getPointByClient(p.clientX,p.clientY).domOverlayPosition,O=b.x,w=b.y;f.startPoint={x:O,y:w},f.endPoint={x:O,y:w};var _=document.createElement("div");_.className="lf-selection-select",_.style.top=f.startPoint.y+"px",_.style.left=f.startPoint.x+"px",c.appendChild(_),f.wrapper=_,document.addEventListener("mousemove",f.__draw),document.addEventListener("mouseup",f.__drawOff)}})},v.prototype.openSelectionSelect=function(){var h=this.lf.getEditConfig().stopMoveGraph;h||(this.isDefalutStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},v.prototype.closeSelectionSelect=function(){this.isDefalutStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},v.prototype.open=function(){this.__disabled=!1},v.prototype.close=function(){this.__disabled=!0},v.pluginName="selectionSelect",v}();globalThis&&globalThis.__values;var mv=globalThis&&globalThis.__extends||function(){var v=function(h,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},v(h,c)};return function(h,c){v(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),fi=globalThis&&globalThis.__read||function(v,h){var c=typeof Symbol=="function"&&v[Symbol.iterator];if(!c)return v;var f=c.call(v),a,p=[],s;try{for(;(h===void 0||h-- >0)&&!(a=f.next()).done;)p.push(a.value)}catch(b){s={error:b}}finally{try{a&&!a.done&&(c=f.return)&&c.call(f)}finally{if(s)throw s.error}}return p};(function(v){mv(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.prototype.getEdge=function(){for(var c=this.props.model.getEdgeStyle(),f=c.strokeWidth,a=c.stroke,p=c.strokeDashArray,s=this.props.model.points,b=s.split(" ").map(function($){return $.split(",").map(function(ie){return Number(ie)})}),O=fi(b[0],2),w=O[0],_=O[1],j="M"+w+" "+_,S=5,P=1;P<b.length-1;P++){var C=fi(b[P-1],2),R=C[0],G=C[1],X=fi(b[P],2),z=X[0],V=X[1],q=fi(b[P+1],2),Y=q[0],N=q[1];if(z===R&&V!==G){var B=V>G?V-S:V+S;j=j+" L "+z+" "+B}if(V===G&&z!==R){var k=z>R?z-S:z+S;j=j+" L "+k+" "+V}if(j=j+" Q "+z+" "+V,z===Y&&V!==N){var B=V>N?V-S:V+S;j=j+" "+z+" "+B}if(V===N&&z!==Y){var k=z>Y?z-S:z+S;j=j+" "+k+" "+V}}var L=fi(b[b.length-1],2),U=L[0],te=L[1];return j=j+" L "+U+" "+te,Fe.exports.h("path",{d:j,strokeWidth:f,stroke:a,fill:"none",strokeDashArray:p})},h.extendKey="curvedEdge",h})(Fe.exports.PolylineEdge);(function(v){mv(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h})(Fe.exports.PolylineEdgeModel);var $c,Rt,Ov,hi,_v,Jy,wv={},xv=[],Cw=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function kr(v,h){for(var c in h)v[c]=h[c];return v}function Ev(v){var h=v.parentNode;h&&h.removeChild(v)}function yi(v,h,c){var f,a,p,s={};for(p in h)p=="key"?f=h[p]:p=="ref"?a=h[p]:s[p]=h[p];if(arguments.length>2&&(s.children=arguments.length>3?$c.call(arguments,2):c),typeof v=="function"&&v.defaultProps!=null)for(p in v.defaultProps)s[p]===void 0&&(s[p]=v.defaultProps[p]);return Aa(v,s,f,a,null)}function Aa(v,h,c,f,a){var p={type:v,props:h,key:c,ref:f,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:a==null?++Ov:a};return a==null&&Rt.vnode!=null&&Rt.vnode(p),p}function Jc(v){return v.children}function wo(v,h){this.props=v,this.context=h}function xo(v,h){if(h==null)return v.__?xo(v.__,v.__.__k.indexOf(v)+1):null;for(var c;h<v.__k.length;h++)if((c=v.__k[h])!=null&&c.__e!=null)return c.__e;return typeof v.type=="function"?xo(v):null}function jv(v){var h,c;if((v=v.__)!=null&&v.__c!=null){for(v.__e=v.__c.base=null,h=0;h<v.__k.length;h++)if((c=v.__k[h])!=null&&c.__e!=null){v.__e=v.__c.base=c.__e;break}return jv(v)}}function Qy(v){(!v.__d&&(v.__d=!0)&&hi.push(v)&&!Na.__r++||Jy!==Rt.debounceRendering)&&((Jy=Rt.debounceRendering)||_v)(Na)}function Na(){for(var v;Na.__r=hi.length;)v=hi.sort(function(h,c){return h.__v.__b-c.__v.__b}),hi=[],v.some(function(h){var c,f,a,p,s,b;h.__d&&(s=(p=(c=h).__v).__e,(b=c.__P)&&(f=[],(a=kr({},p)).__v=p.__v+1,kv(b,p,a,c.__n,b.ownerSVGElement!==void 0,p.__h!=null?[s]:null,f,s==null?xo(p):s,p.__h),Iw(f,p),p.__e!=s&&jv(p)))})}function Sv(v,h,c,f,a,p,s,b,O,w){var _,j,S,P,C,R,G,X=f&&f.__k||xv,z=X.length;for(c.__k=[],_=0;_<h.length;_++)if((P=c.__k[_]=(P=h[_])==null||typeof P=="boolean"?null:typeof P=="string"||typeof P=="number"||typeof P=="bigint"?Aa(null,P,null,null,P):Array.isArray(P)?Aa(Jc,{children:P},null,null,null):P.__b>0?Aa(P.type,P.props,P.key,null,P.__v):P)!=null){if(P.__=c,P.__b=c.__b+1,(S=X[_])===null||S&&P.key==S.key&&P.type===S.type)X[_]=void 0;else for(j=0;j<z;j++){if((S=X[j])&&P.key==S.key&&P.type===S.type){X[j]=void 0;break}S=null}kv(v,P,S=S||wv,a,p,s,b,O,w),C=P.__e,(j=P.ref)&&S.ref!=j&&(G||(G=[]),S.ref&&G.push(S.ref,null,P),G.push(j,P.__c||C,P)),C!=null?(R==null&&(R=C),typeof P.type=="function"&&P.__k===S.__k?P.__d=O=Pv(P,O,v):O=Av(v,P,S,X,C,O),typeof c.type=="function"&&(c.__d=O)):O&&S.__e==O&&O.parentNode!=v&&(O=xo(S))}for(c.__e=R,_=z;_--;)X[_]!=null&&(typeof c.type=="function"&&X[_].__e!=null&&X[_].__e==c.__d&&(c.__d=xo(f,_+1)),Mv(X[_],X[_]));if(G)for(_=0;_<G.length;_++)Tv(G[_],G[++_],G[++_])}function Pv(v,h,c){for(var f,a=v.__k,p=0;a&&p<a.length;p++)(f=a[p])&&(f.__=v,h=typeof f.type=="function"?Pv(f,h,c):Av(c,f,f,a,f.__e,h));return h}function Av(v,h,c,f,a,p){var s,b,O;if(h.__d!==void 0)s=h.__d,h.__d=void 0;else if(c==null||a!=p||a.parentNode==null)e:if(p==null||p.parentNode!==v)v.appendChild(a),s=null;else{for(b=p,O=0;(b=b.nextSibling)&&O<f.length;O+=2)if(b==a)break e;v.insertBefore(a,p),s=p}return s!==void 0?s:a.nextSibling}function Rw(v,h,c,f,a){var p;for(p in c)p==="children"||p==="key"||p in h||Ca(v,p,null,c[p],f);for(p in h)a&&typeof h[p]!="function"||p==="children"||p==="key"||p==="value"||p==="checked"||c[p]===h[p]||Ca(v,p,h[p],c[p],f)}function ev(v,h,c){h[0]==="-"?v.setProperty(h,c):v[h]=c==null?"":typeof c!="number"||Cw.test(h)?c:c+"px"}function Ca(v,h,c,f,a){var p;e:if(h==="style")if(typeof c=="string")v.style.cssText=c;else{if(typeof f=="string"&&(v.style.cssText=f=""),f)for(h in f)c&&h in c||ev(v.style,h,"");if(c)for(h in c)f&&c[h]===f[h]||ev(v.style,h,c[h])}else if(h[0]==="o"&&h[1]==="n")p=h!==(h=h.replace(/Capture$/,"")),h=h.toLowerCase()in v?h.toLowerCase().slice(2):h.slice(2),v.l||(v.l={}),v.l[h+p]=c,c?f||v.addEventListener(h,p?nv:tv,p):v.removeEventListener(h,p?nv:tv,p);else if(h!=="dangerouslySetInnerHTML"){if(a)h=h.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(h!=="href"&&h!=="list"&&h!=="form"&&h!=="tabIndex"&&h!=="download"&&h in v)try{v[h]=c==null?"":c;break e}catch(s){}typeof c=="function"||(c!=null&&(c!==!1||h[0]==="a"&&h[1]==="r")?v.setAttribute(h,c):v.removeAttribute(h))}}function tv(v){this.l[v.type+!1](Rt.event?Rt.event(v):v)}function nv(v){this.l[v.type+!0](Rt.event?Rt.event(v):v)}function kv(v,h,c,f,a,p,s,b,O){var w,_,j,S,P,C,R,G,X,z,V,q=h.type;if(h.constructor!==void 0)return null;c.__h!=null&&(O=c.__h,b=h.__e=c.__e,h.__h=null,p=[b]),(w=Rt.__b)&&w(h);try{e:if(typeof q=="function"){if(G=h.props,X=(w=q.contextType)&&f[w.__c],z=w?X?X.props.value:w.__:f,c.__c?R=(_=h.__c=c.__c).__=_.__E:("prototype"in q&&q.prototype.render?h.__c=_=new q(G,z):(h.__c=_=new wo(G,z),_.constructor=q,_.render=zw),X&&X.sub(_),_.props=G,_.state||(_.state={}),_.context=z,_.__n=f,j=_.__d=!0,_.__h=[]),_.__s==null&&(_.__s=_.state),q.getDerivedStateFromProps!=null&&(_.__s==_.state&&(_.__s=kr({},_.__s)),kr(_.__s,q.getDerivedStateFromProps(G,_.__s))),S=_.props,P=_.state,j)q.getDerivedStateFromProps==null&&_.componentWillMount!=null&&_.componentWillMount(),_.componentDidMount!=null&&_.__h.push(_.componentDidMount);else{if(q.getDerivedStateFromProps==null&&G!==S&&_.componentWillReceiveProps!=null&&_.componentWillReceiveProps(G,z),!_.__e&&_.shouldComponentUpdate!=null&&_.shouldComponentUpdate(G,_.__s,z)===!1||h.__v===c.__v){_.props=G,_.state=_.__s,h.__v!==c.__v&&(_.__d=!1),_.__v=h,h.__e=c.__e,h.__k=c.__k,h.__k.forEach(function(Y){Y&&(Y.__=h)}),_.__h.length&&s.push(_);break e}_.componentWillUpdate!=null&&_.componentWillUpdate(G,_.__s,z),_.componentDidUpdate!=null&&_.__h.push(function(){_.componentDidUpdate(S,P,C)})}_.context=z,_.props=G,_.state=_.__s,(w=Rt.__r)&&w(h),_.__d=!1,_.__v=h,_.__P=v,w=_.render(_.props,_.state,_.context),_.state=_.__s,_.getChildContext!=null&&(f=kr(kr({},f),_.getChildContext())),j||_.getSnapshotBeforeUpdate==null||(C=_.getSnapshotBeforeUpdate(S,P)),V=w!=null&&w.type===Jc&&w.key==null?w.props.children:w,Sv(v,Array.isArray(V)?V:[V],h,c,f,a,p,s,b,O),_.base=h.__e,h.__h=null,_.__h.length&&s.push(_),R&&(_.__E=_.__=null),_.__e=!1}else p==null&&h.__v===c.__v?(h.__k=c.__k,h.__e=c.__e):h.__e=Lw(c.__e,h,c,f,a,p,s,O);(w=Rt.diffed)&&w(h)}catch(Y){h.__v=null,(O||p!=null)&&(h.__e=b,h.__h=!!O,p[p.indexOf(b)]=null),Rt.__e(Y,h,c)}}function Iw(v,h){Rt.__c&&Rt.__c(h,v),v.some(function(c){try{v=c.__h,c.__h=[],v.some(function(f){f.call(c)})}catch(f){Rt.__e(f,c.__v)}})}function Lw(v,h,c,f,a,p,s,b){var O,w,_,j=c.props,S=h.props,P=h.type,C=0;if(P==="svg"&&(a=!0),p!=null){for(;C<p.length;C++)if((O=p[C])&&"setAttribute"in O==!!P&&(P?O.localName===P:O.nodeType===3)){v=O,p[C]=null;break}}if(v==null){if(P===null)return document.createTextNode(S);v=a?document.createElementNS("http://www.w3.org/2000/svg",P):document.createElement(P,S.is&&S),p=null,b=!1}if(P===null)j===S||b&&v.data===S||(v.data=S);else{if(p=p&&$c.call(v.childNodes),w=(j=c.props||wv).dangerouslySetInnerHTML,_=S.dangerouslySetInnerHTML,!b){if(p!=null)for(j={},C=0;C<v.attributes.length;C++)j[v.attributes[C].name]=v.attributes[C].value;(_||w)&&(_&&(w&&_.__html==w.__html||_.__html===v.innerHTML)||(v.innerHTML=_&&_.__html||""))}if(Rw(v,S,j,a,b),_)h.__k=[];else if(C=h.props.children,Sv(v,Array.isArray(C)?C:[C],h,c,f,a&&P!=="foreignObject",p,s,p?p[0]:c.__k&&xo(c,0),b),p!=null)for(C=p.length;C--;)p[C]!=null&&Ev(p[C]);b||("value"in S&&(C=S.value)!==void 0&&(C!==v.value||P==="progress"&&!C||P==="option"&&C!==j.value)&&Ca(v,"value",C,j.value,!1),"checked"in S&&(C=S.checked)!==void 0&&C!==v.checked&&Ca(v,"checked",C,j.checked,!1))}return v}function Tv(v,h,c){try{typeof v=="function"?v(h):v.current=h}catch(f){Rt.__e(f,c)}}function Mv(v,h,c){var f,a;if(Rt.unmount&&Rt.unmount(v),(f=v.ref)&&(f.current&&f.current!==v.__e||Tv(f,null,h)),(f=v.__c)!=null){if(f.componentWillUnmount)try{f.componentWillUnmount()}catch(p){Rt.__e(p,h)}f.base=f.__P=null}if(f=v.__k)for(a=0;a<f.length;a++)f[a]&&Mv(f[a],h,typeof v.type!="function");c||v.__e==null||Ev(v.__e),v.__e=v.__d=void 0}function zw(v,h,c){return this.constructor(v,c)}$c=xv.slice,Rt={__e:function(v,h){for(var c,f,a;h=h.__;)if((c=h.__c)&&!c.__)try{if((f=c.constructor)&&f.getDerivedStateFromError!=null&&(c.setState(f.getDerivedStateFromError(v)),a=c.__d),c.componentDidCatch!=null&&(c.componentDidCatch(v),a=c.__d),a)return c.__E=c}catch(p){v=p}throw v}},Ov=0,wo.prototype.setState=function(v,h){var c;c=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=kr({},this.state),typeof v=="function"&&(v=v(kr({},c),this.props)),v&&kr(c,v),v!=null&&this.__v&&(h&&this.__h.push(h),Qy(this))},wo.prototype.forceUpdate=function(v){this.__v&&(this.__e=!0,v&&this.__h.push(v),Qy(this))},wo.prototype.render=Jc,hi=[],_v=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Na.__r=0;var vi=globalThis&&globalThis.__assign||function(){return vi=Object.assign||function(v){for(var h,c=1,f=arguments.length;c<f;c++){h=arguments[c];for(var a in h)Object.prototype.hasOwnProperty.call(h,a)&&(v[a]=h[a])}return v},vi.apply(this,arguments)};function Qc(v){var h=v.x,c=v.y,f=v.width,a=v.height,p=v.radius,s=v.className,b=h-f/2,O=c-a/2,w=vi(vi({width:10,height:10,cx:0,cy:0,rx:p||0,ry:p||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+s},v),{x:b,y:O});return Fe.exports.h("rect",vi({},w))}Qc.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var _o;(function(v){v.NODE="node",v.CIRCLE_NODE="circle-node",v.POLYGON_NODE="polygon-node",v.RECT_NODE="rect-node",v.HTML_NODE="html-node",v.TEXT_NODE="text-node",v.ELLIPSE_NODE="ellipse-node",v.DIAMOND_NODE="diamond-node",v.EDGE="edge",v.LINE_EDGE="line-edge",v.POLYLINE_EDGE="polyline-edge",v.BEZIER_EDGE="bezier-edge",v.GRAPH="graph"})(_o||(_o={}));function ka(v){var h=v.x,c=v.y,f=v.width,a=v.height;return{minX:h-f/2,minY:c-a/2,maxX:h+f/2,maxY:c+a/2}}function rv(v){var h=ka(v),c=v.radius,f=h.minX,a=h.minY,p=h.maxX,s=h.maxY;return[{x:f+c,y:a+c},{x:p-c,y:a+c},{x:p-c,y:s-c},{x:f+c,y:s-c}]}function ov(v){var h=v.point,c=v.beforeNode,f=v.afterNode,a=h.x,p=h.y,s={x:a,y:p},b=c.radius,O=ka(c),w=ka(f);if(a===O.minX){s.x=w.minX;var _=(p-c.y)/(c.height/2-b);_?s.y=f.y+(f.height/2-b)*_:s.y=f.y}else if(a===O.maxX){s.x=w.maxX;var _=(p-c.y)/(c.height/2-b);_?s.y=f.y+(f.height/2-b)*_:s.y=f.y}else if(p===O.minY){s.y=w.minY;var _=(a-c.x)/(c.width/2-b);_?s.x=f.x+(f.width/2-b)*_:s.x=f.x}else if(p===O.maxY){s.y=w.maxY;var _=(a-c.x)/(c.width/2-b);_?s.x=f.x+(f.width/2-b)*_:s.x=f.x}else{var j=rv(c),S=rv(f),P=ka(c),C=P.minX,R=P.minY,G=P.maxX,X=P.maxY,z=-1;if(a-C<b&&p-R<b?z=0:G-a<b&&p-R<b?z=1:G-a<b&&X-p<b?z=2:a-C<b&&R-p<b&&(z=3),z>-1){var V=Math.atan2(p-j[z].y,a-j[z].x);s.x=S[z].x+b*Math.cos(V),s.y=S[z].y+b*Math.sin(V)}}return s}function iv(v){var h=v.point,c=v.beforeNode,f=v.afterNode,a=f.rx,p=f.ry,s=h,b=(h.y-c.y)/(h.x-c.x),O=a,w=p,_,j;return b>=1/0?(_=0,j=w):b<=-1/0?(_=0,j=-w):h.x-c.x>0?(_=O*w/Math.sqrt(w*w+O*O*b*b),j=O*w*b/Math.sqrt(w*w+O*O*b*b)):(_=-(O*w)/Math.sqrt(w*w+O*O*b*b),j=-(O*w*b)/Math.sqrt(w*w+O*O*b*b)),s={x:_+f.x,y:j+f.y},s}function av(v){var h=v.point,c=v.beforeNode,f=v.afterNode,a=h,p,s,b=h.x-c.x,O=h.y-c.y,w=c.rx,_=c.ry,j=Math.sqrt((w-Math.abs(b))*(w-Math.abs(b))+O*O)/Math.sqrt(w*w+_*_),S=f.rx,P=f.ry,C=Math.sqrt((S*S+P*P)*j*j*(S*S/(S*S+P*P))),R=C*(P/S);return b>=0?p=S-C:p=C-S,O>0?s=R:s=-R,a={x:p+f.x,y:s+f.y},a}var Bw=globalThis&&globalThis.__extends||function(){var v=function(h,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},v(h,c)};return function(h,c){v(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),qr=globalThis&&globalThis.__assign||function(){return qr=Object.assign||function(v){for(var h,c=1,f=arguments.length;c<f;c++){h=arguments[c];for(var a in h)Object.prototype.hasOwnProperty.call(h,a)&&(v[a]=h[a])}return v},qr.apply(this,arguments)},Fw=Fe.exports.LogicFlowUtil.createDrag,Uw=function(v){Bw(h,v);function h(c){var f=v.call(this)||this;f.updatePosition=function(s){var b=s.deltaX,O=s.deltaY,w=f.nodeModel,_=w.x,j=w.y;f.nodeModel.x=_+b/2,f.nodeModel.y=j+O/2,f.nodeModel.moveText(b/2,O/2)},f.getResize=function(s){var b=s.index,O=s.deltaX,w=s.deltaY,_=s.width,j=s.height,S=s.pct,P=S===void 0?1:S,C={width:_,height:j};switch(b){case 0:C.width=_-O*P,C.height=j-w*P;break;case 1:C.width=_+O*P,C.height=j-w*P;break;case 2:C.width=_+O,C.height=j+w*P;break;case 3:C.width=_-O*P,C.height=j+w*P;break}return C},f.updateRect=function(s){var b=s.deltaX,O=s.deltaY,w=f.nodeModel,_=w.id,j=w.x,S=w.y,P=w.width,C=w.height,R=w.radius,G=f.index,X=f.getResize({index:G,deltaX:b,deltaY:O,width:P,height:C,pct:1}),z=f.nodeModel,V=z.minWidth,q=z.minHeight,Y=z.maxWidth,N=z.maxHeight;if(!(X.width<V||X.width>Y||X.height<q||X.height>N)){f.updatePosition({deltaX:b,deltaY:O}),f.nodeModel.width=X.width,f.nodeModel.height=X.height,f.nodeModel.setProperties({nodeSize:{width:X.width,height:X.height}});var B=f.getNodeEdges(_),k={x:j,y:S,width:P,height:C,radius:R},L={x:f.nodeModel.x,y:f.nodeModel.y,width:f.nodeModel.width,height:f.nodeModel.height,radius:R},U={point:"",beforeNode:k,afterNode:L},te;B.sourceEdges.forEach(function($){U.point=$.startPoint,te=ov(U),$.updateStartPoint(te)}),B.targetEdges.forEach(function($){U.point=$.endPoint,te=ov(U),$.updateEndPoint(te)}),f.eventEmit({beforeNode:k,afterNode:L})}},f.updateEllipse=function(s){var b=s.deltaX,O=s.deltaY,w=f.nodeModel,_=w.id,j=w.rx,S=w.ry,P=w.x,C=w.y,R=f.index,G=j,X=S,z=f.getResize({index:R,deltaX:b,deltaY:O,width:G,height:X,pct:1/2}),V=f.nodeModel,q=V.minWidth,Y=V.minHeight,N=V.maxWidth,B=V.maxHeight;if(!(z.width<q/2||z.width>N/2||z.height<Y/2||z.height>B/2)){f.updatePosition({deltaX:b,deltaY:O}),f.nodeModel.rx=z.width,f.nodeModel.ry=z.height,f.nodeModel.setProperties({nodeSize:{rx:z.width,ry:z.height}});var k=f.getNodeEdges(_),L={x:P,y:C},U={rx:z.width,ry:z.height,x:f.nodeModel.x,y:f.nodeModel.y},te={point:{},beforeNode:L,afterNode:U},$;k.sourceEdges.forEach(function(ie){te.point=ie.startPoint,$=iv(te),ie.updateStartPoint($)}),k.targetEdges.forEach(function(ie){te.point=ie.endPoint,$=iv(te),ie.updateEndPoint($)}),f.eventEmit({beforeNode:qr(qr({},L),{rx:j,ry:S}),afterNode:U})}},f.updateDiamond=function(s){var b=s.deltaX,O=s.deltaY,w=f.nodeModel,_=w.id,j=w.rx,S=w.ry,P=w.x,C=w.y,R=f.index,G=j,X=S,z=f.getResize({index:R,deltaX:b,deltaY:O,width:G,height:X,pct:1/2}),V=f.nodeModel,q=V.minWidth,Y=V.minHeight,N=V.maxWidth,B=V.maxHeight;if(!(z.width<q/2||z.width>N/2||z.height<Y/2||z.height>B/2)){f.updatePosition({deltaX:b,deltaY:O}),f.nodeModel.rx=z.width,f.nodeModel.ry=z.height,f.nodeModel.setProperties({nodeSize:{rx:z.width,ry:z.height}});var k={x:P,y:C,rx:j,ry:S},L={rx:z.width,ry:z.height,x:f.nodeModel.x,y:f.nodeModel.y},U={point:{},beforeNode:k,afterNode:L},te,$=f.getNodeEdges(_);$.sourceEdges.forEach(function(ie){U.point=ie.startPoint,te=av(U),ie.updateStartPoint(te)}),$.targetEdges.forEach(function(ie){U.point=ie.endPoint,te=av(U),ie.updateEndPoint(te)}),f.eventEmit({beforeNode:k,afterNode:L})}},f.eventEmit=function(s){var b=s.beforeNode,O=s.afterNode,w=f.nodeModel,_=w.id,j=w.modelType,S=w.type,P=qr({id:_,modelType:j,type:S},b),C=qr({id:_,modelType:j,type:S},O);f.graphModel.eventCenter.emit("node:resize",{oldNodeSize:P,newNodeSize:C})},f.onDraging=function(s){var b=s.deltaX,O=s.deltaY,w=f.nodeModel.modelType;w===_o.RECT_NODE||w===_o.HTML_NODE?f.updateRect({deltaX:b,deltaY:O}):w===_o.ELLIPSE_NODE?f.updateEllipse({deltaX:b,deltaY:O}):w===_o.DIAMOND_NODE&&f.updateDiamond({deltaX:b,deltaY:O})},f.index=c.index,f.nodeModel=c.model,f.graphModel=c.graphModel;var a=f.graphModel.gridSize,p=2;return a>1&&(p=2*a),f.state={},f.dragHandler=Fw({onDraging:f.onDraging,step:p}),f}return h.prototype.getNodeEdges=function(c){for(var f=this.graphModel,a=f.edges,p=[],s=[],b=0;b<a.length;b++){var O=a[b];O.sourceNodeId===c?p.push(O):a[b].targetNodeId===c&&s.push(O)}return{sourceEdges:p,targetEdges:s}},h.prototype.render=function(){var c=this.props,f=c.x,a=c.y,p=c.index,s=c.model,b=s.getControlPointStyle();return yi("g",{className:"lf-resize-control-"+p},yi(Qc,qr({className:"lf-node-control"},{x:f,y:a},b,{onMouseDown:this.dragHandler})))},h}(wo),Gw=globalThis&&globalThis.__extends||function(){var v=function(h,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},v(h,c)};return function(h,c){v(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),Ra=globalThis&&globalThis.__assign||function(){return Ra=Object.assign||function(v){for(var h,c=1,f=arguments.length;c<f;c++){h=arguments[c];for(var a in h)Object.prototype.hasOwnProperty.call(h,a)&&(v[a]=h[a])}return v},Ra.apply(this,arguments)},za=function(v){Gw(h,v);function h(){var c=v.call(this)||this;return c.state={},c}return h.prototype.getResizeControl=function(){var c=this.props,f=c.model,a=c.graphModel,p=f.x,s=f.y,b=f.width,O=f.height,w={minX:p-b/2,minY:s-O/2,maxX:p+b/2,maxY:s+O/2},_=w.minX,j=w.minY,S=w.maxX,P=w.maxY,C=[{x:_,y:j},{x:S,y:j},{x:S,y:P},{x:_,y:P}];return C.map(function(R,G){return yi(Uw,Ra({index:G},R,{model:f,graphModel:a}))})},h.prototype.getGroupSolid=function(){var c=this.props.model,f=c.x,a=c.y,p=c.width,s=c.height,b=c.getResizeOutlineStyle();return yi(Qc,Ra({fill:"none"},b,{x:f,y:a,width:p,height:s}))},h.prototype.render=function(){return yi("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},h}(wo),Dv=globalThis&&globalThis.__extends||function(){var v=function(h,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},v(h,c)};return function(h,c){v(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),Hw=function(v){Dv(h,v);function h(c,f){var a=v.call(this,c,f)||this;a.minWidth=30,a.minHeight=30,a.maxWidth=2e3,a.maxHeight=2e3;var p=a.properties.nodeSize;return p&&(a.width=p.width,a.height=p.height),a}return h.prototype.getOutlineStyle=function(){var c=v.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},h.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h.prototype.resize=function(c,f){},h}(Fe.exports.RectNodeModel),Xw=function(v){Dv(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var c=this.props,f=c.model,a=c.graphModel;return Fe.exports.h(za,{model:f,graphModel:a})},h.prototype.getResizeShape=function(){return v.prototype.getShape.call(this)},h.prototype.getShape=function(){var c=this.props.model.isSelected;return Fe.exports.h("g",null,this.getResizeShape(),c?this.getControlGroup():"")},h}(Fe.exports.RectNode),Nv={type:"rect",view:Xw,model:Hw},Cv=globalThis&&globalThis.__extends||function(){var v=function(h,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},v(h,c)};return function(h,c){v(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}();(function(v){Cv(h,v);function h(c,f){var a=v.call(this,c,f)||this;a.minWidth=30,a.minHeight=30,a.maxWidth=2e3,a.maxHeight=2e3;var p=a.properties.nodeSize;return p&&(a.rx=p.rx,a.ry=p.ry),a}return h.prototype.getOutlineStyle=function(){var c=v.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},h.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h})(Fe.exports.EllipseNodeModel);(function(v){Cv(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var c=this.props,f=c.model,a=c.graphModel;return Fe.exports.h(za,{model:f,graphModel:a})},h.prototype.getResizeShape=function(){return v.prototype.getShape.call(this)},h.prototype.getShape=function(){var c=this.props.model;return Fe.exports.h("g",null,this.getResizeShape(),c.isSelected?this.getControlGroup():"")},h})(Fe.exports.EllipseNode);var Vc=globalThis&&globalThis.__assign||function(){return Vc=Object.assign||function(v){for(var h,c=1,f=arguments.length;c<f;c++){h=arguments[c];for(var a in h)Object.prototype.hasOwnProperty.call(h,a)&&(v[a]=h[a])}return v},Vc.apply(this,arguments)};function Yw(v){var h=v.fillOpacity,c=h===void 0?1:h,f=v.strokeWidth,a=f===void 0?1:f,p=v.strokeOpacity,s=p===void 0?1:p,b=v.fill,O=b===void 0?"transparent":b,w=v.stroke,_=w===void 0?"#000":w,j=v.points,S=v.className,P=S===void 0?"lf-basic-shape":S,C={fill:O,fillOpacity:c,strokeWidth:a,stroke:_,strokeOpacity:s,points:"",className:P};return C.points=j.map(function(R){return R.join(",")}).join(" "),Fe.exports.h("polygon",Vc({},C))}var Rv=globalThis&&globalThis.__extends||function(){var v=function(h,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},v(h,c)};return function(h,c){v(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),Wc=globalThis&&globalThis.__assign||function(){return Wc=Object.assign||function(v){for(var h,c=1,f=arguments.length;c<f;c++){h=arguments[c];for(var a in h)Object.prototype.hasOwnProperty.call(h,a)&&(v[a]=h[a])}return v},Wc.apply(this,arguments)};(function(v){Rv(h,v);function h(c,f){var a=v.call(this,c,f)||this;a.minWidth=30,a.minHeight=30,a.maxWidth=2e3,a.maxHeight=2e3;var p=a.properties.nodeSize;return p&&(a.rx=p.rx,a.ry=p.ry),a}return h.prototype.getOutlineStyle=function(){var c=v.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},h.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h})(Fe.exports.DiamondNodeModel);(function(v){Rv(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var c=this.props,f=c.model,a=c.graphModel;return Fe.exports.h(za,{model:f,graphModel:a})},h.prototype.getResizeShape=function(){var c=this.props.model,f=c.points,a=c.getNodeStyle();return Fe.exports.h("g",null,Fe.exports.h(Yw,Wc({},a,{points:f})))},h.prototype.getShape=function(){var c=this.props.model.isSelected;return Fe.exports.h("g",null,this.getResizeShape(),c?this.getControlGroup():"")},h})(Fe.exports.DiamondNode);var Iv=globalThis&&globalThis.__extends||function(){var v=function(h,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},v(h,c)};return function(h,c){v(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}();(function(v){Iv(h,v);function h(c,f){var a=v.call(this,c,f)||this;a.minWidth=30,a.minHeight=30,a.maxWidth=2e3,a.maxHeight=2e3;var p=a.properties.nodeSize;return p&&(a.width=p.width,a.height=p.height),a}return h.prototype.getOutlineStyle=function(){var c=v.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},h.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h})(Fe.exports.HtmlNodeModel);(function(v){Iv(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var c=this.props,f=c.model,a=c.graphModel;return Fe.exports.h(za,{model:f,graphModel:a})},h.prototype.getResizeShape=function(){return v.prototype.getShape.call(this)},h.prototype.getShape=function(){var c=this.props.model.isSelected;return Fe.exports.h("g",null,this.getResizeShape(),c?this.getControlGroup():"")},h})(Fe.exports.HtmlNode);var Lv=globalThis&&globalThis.__extends||function(){var v=function(h,c){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},v(h,c)};return function(h,c){v(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),Ia=globalThis&&globalThis.__assign||function(){return Ia=Object.assign||function(v){for(var h,c=1,f=arguments.length;c<f;c++){h=arguments[c];for(var a in h)Object.prototype.hasOwnProperty.call(h,a)&&(v[a]=h[a])}return v},Ia.apply(this,arguments)},Vw=globalThis&&globalThis.__read||function(v,h){var c=typeof Symbol=="function"&&v[Symbol.iterator];if(!c)return v;var f=c.call(v),a,p=[],s;try{for(;(h===void 0||h-- >0)&&!(a=f.next()).done;)p.push(a.value)}catch(b){s={error:b}}finally{try{a&&!a.done&&(c=f.return)&&c.call(f)}finally{if(s)throw s.error}}return p},Ww=globalThis&&globalThis.__spread||function(){for(var v=[],h=0;h<arguments.length;h++)v=v.concat(Vw(arguments[h]));return v},uv=500,cv=300;(function(v){Lv(h,v);function h(){var c=v!==null&&v.apply(this,arguments)||this;return c.isGroup=!0,c.unfoldedWidth=uv,c.unfoldedHight=cv,c}return h.prototype.initNodeData=function(c){v.prototype.initNodeData.call(this,c);var f=[];Array.isArray(c.children)&&(f=c.children),this.children=new Set(f),this.width=uv,this.height=cv,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=-1,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded=!1,this.isFolded=this.properties.isFolded},h.prototype.getResizeOutlineStyle=function(){var c=v.prototype.getResizeOutlineStyle.call(this);return c.stroke="none",c},h.prototype.foldGroup=function(c){var f=this;this.setProperty("isFolded",c),this.isFolded=c,c?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var a=this.graphModel.getNodeIncomingEdge(this.id),p=this.graphModel.getNodeOutgoingEdge(this.id);a.concat(p).forEach(function(s){if(f.graphModel.deleteEdgeById(s.id),!s.isFoldedEdge){var b=s.targetNodeId===f.id,O=s.getData();b?O.endPoint=void 0:O.startPoint=void 0,O.pointsList=void 0,f.graphModel.addEdge(O)}}),this.children.forEach(function(s){var b=f.graphModel.getElement(s);b.visible=!c,f.foldEdge(s,c)})},h.prototype.foldEdge=function(c,f){var a=this,p=this.graphModel.getNodeIncomingEdge(c),s=this.graphModel.getNodeOutgoingEdge(c);p.concat(s).forEach(function(b,O){var w;if(b.visible=!f,f&&(!a.children.has(b.targetNodeId)||!a.children.has(b.sourceNodeId))){var _=b.targetNodeId===c;if(f){var j=b.getData();j.id=j.id+"__"+O,_?(j.endPoint=void 0,j.targetNodeId=a.id):(j.startPoint=void 0,j.sourceNodeId=a.id),j.text=(w=j.text)===null||w===void 0?void 0:w.value,j.pointsList=void 0;var S=a.graphModel.addEdge(j);S.virtual=!0,S.getData=function(){return null},S.text.editable=!1,S.isFoldedEdge=!0}}})},h.prototype.isInRange=function(c){var f=c.x1,a=c.y1,p=c.x2,s=c.y2;return f>=this.x-this.width/2&&p<=this.x+this.width/2&&a>=this.y-this.height/2&&s<=this.y+this.height/2},h.prototype.setAllowAppendChild=function(c){this.setProperty("groupAddable",c)},h.prototype.addChild=function(c){this.children.add(c)},h.prototype.removeChild=function(c){this.children.delete(c)},h.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},h.prototype.getData=function(){var c=v.prototype.getData.call(this);c.children=Ww(this.children);var f=c.properties;return delete f.groupAddable,delete f.isFolded,c},h})(Nv.model);(function(v){Lv(h,v);function h(){return v!==null&&v.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var c=this.props.model,f=c.resizable,a=c.properties;return f&&!a.isFolded?v.prototype.getControlGroup.call(this):null},h.prototype.getAddedableShape=function(){var c=this.props.model,f=c.width,a=c.height,p=c.x,s=c.y,b=c.radius,O=c.properties;if(!O.groupAddable)return null;var w=this.props.model.getNodeStyle().strokeWidth,_=this.props.model.getAddableOutlineStyle(),j=f+w+8,S=a+w+8;return Fe.exports.h("rect",Ia(Ia({},_),{width:j,height:S,x:p-j/2,y:s-S/2,rx:b,ry:b}))},h.prototype.getFoldIcon=function(){var c=this.props.model,f=c.x-c.width/2+5,a=c.y-c.height/2+5;if(!c.foldable)return null;var p=Fe.exports.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:c.properties.isFolded?"M "+(f+3)+","+(a+6)+" "+(f+11)+","+(a+6)+" M"+(f+7)+","+(a+2)+" "+(f+7)+","+(a+10):"M "+(f+3)+","+(a+6)+" "+(f+11)+","+(a+6)+" "});return Fe.exports.h("g",{},[Fe.exports.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:c.x-c.width/2+5,y:c.y-c.height/2+5,onClick:function(){c.foldGroup(!c.properties.isFolded)}}),p])},h.prototype.getResizeShape=function(){return Fe.exports.h("g",{},[this.getAddedableShape(),v.prototype.getResizeShape.call(this),this.getFoldIcon()])},h})(Nv.view);var Kw=globalThis&&globalThis.__read||function(v,h){var c=typeof Symbol=="function"&&v[Symbol.iterator];if(!c)return v;var f=c.call(v),a,p=[],s;try{for(;(h===void 0||h-- >0)&&!(a=f.next()).done;)p.push(a.value)}catch(b){s={error:b}}finally{try{a&&!a.done&&(c=f.return)&&c.call(f)}finally{if(s)throw s.error}}return p};globalThis&&globalThis.__spread;var Zw=globalThis&&globalThis.__read||function(v,h){var c=typeof Symbol=="function"&&v[Symbol.iterator];if(!c)return v;var f=c.call(v),a,p=[],s;try{for(;(h===void 0||h-- >0)&&!(a=f.next()).done;)p.push(a.value)}catch(b){s={error:b}}finally{try{a&&!a.done&&(c=f.return)&&c.call(f)}finally{if(s)throw s.error}}return p};globalThis&&globalThis.__spread;var sv=globalThis&&globalThis.__assign||function(){return sv=Object.assign||function(v){for(var h,c=1,f=arguments.length;c<f;c++){h=arguments[c];for(var a in h)Object.prototype.hasOwnProperty.call(h,a)&&(v[a]=h[a])}return v},sv.apply(this,arguments)};const qw={SEQUENCE_FLOW:1,START_EVENT:2,END_EVENT:3,USER_TASK:4,SERVICE_TASK:5,EXCLUSIVE_GATEWAY:6};function $w(v){const{incoming:h,outgoing:c,properties:f,key:a}=v,{text:p,startPoint:s,endPoint:b,pointsList:O,logicFlowType:w}=f,_={id:a,type:w,sourceNodeId:h[0],targetNodeId:c[0],text:p,startPoint:s,endPoint:b,pointsList:O,properties:{}},j=["startPoint","endPoint","pointsList","text","logicFlowType"];return Object.keys(v.properties).forEach(S=>{j.indexOf(S)===-1&&(_.properties[S]=v.properties[S])}),_}function Jw(v){const{properties:h,key:c}=v,{x:f,y:a,text:p,logicFlowType:s}=h,b={id:c,type:s,x:f,y:a,text:p,properties:{}},O=["x","y","text","logicFlowType"];return Object.keys(v.properties).forEach(w=>{O.indexOf(w)===-1&&(b.properties[w]=v.properties[w])}),b}function Qw(v){const h={nodes:[],edges:[]},c=v.flowElementList;return c&&c.length>0&&c.forEach(f=>{if(f.type===qw.SEQUENCE_FLOW){const a=$w(f);h.edges.push(a)}else{const a=Jw(f);h.nodes.push(a)}}),h}function e1(v){return[{text:"\u9009\u533A",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAOVJREFUOBGtVMENwzAIjKP++2026ETdpv10iy7WFbqFyyW6GBywLCv5gI+Dw2Bluj1znuSjhb99Gkn6QILDY2imo60p8nsnc9bEo3+QJ+AKHfMdZHnl78wyTnyHZD53Zzx73MRSgYvnqgCUHj6gwdck7Zsp1VOrz0Uz8NbKunzAW+Gu4fYW28bUYutYlzSa7B84Fh7d1kjLwhcSdYAYrdkMQVpsBr5XgDGuXwQfQr0y9zwLda+DUYXLaGKdd2ZTtvbolaO87pdo24hP7ov16N0zArH1ur3iwJpXxm+v7oAJNR4JEP8DoAuSFEkYH7cAAAAASUVORK5CYII=",callback:()=>{v.updateEditConfig({stopMoveGraph:!0})}},{type:"circle",text:"\u5F00\u59CB",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAnBJREFUOBGdVL1rU1EcPfdGBddmaZLiEhdx1MHZQXApraCzQ7GKLgoRBxMfcRELuihWKcXFRcEWF8HBf0DdDCKYRZpnl7p0svLe9Zzbd29eQhTbC8nv+9zf130AT63jvooOGS8Vf9Nt5zxba7sXQwODfkWpkbjTQfCGUd9gIp3uuPP8bZ946g56dYQvnBg+b1HB8VIQmMFrazKcKSvFW2dQTxJnJdQ77urmXWOMBCmXM2Rke4S7UAW+/8ywwFoewmBps2tu7mbTdp8VMOkIRAkKfrVawalJTtIliclFbaOBqa0M2xImHeVIfd/nKAfVq/LGnPss5Kh00VEdSzfwnBXPUpmykNss4lUI9C1ga+8PNrBD5YeqRY2Zz8PhjooIbfJXjowvQJBqkmEkVnktWhwu2SM7SMx7Cj0N9IC0oQXRo8xwAGzQms+xrB/nNSUWVveI48ayrFGyC2+E2C+aWrZHXvOuz+CiV6iycWe1Rd1Q6+QUG07nb5SbPrL4426d+9E1axKjY3AoRrlEeSQo2Eu0T6BWAAr6COhTcWjRaYfKG5csnvytvUr/WY4rrPMB53Uo7jZRjXaG6/CFfNMaXEu75nG47X+oepU7PKJvvzGDY1YLSKHJrK7vFUwXKkaxwhCW3u+sDFMVrIju54RYYbFKpALZAo7sB6wcKyyrd+aBMryMT2gPyD6GsQoRFkGHr14TthZni9ck0z+Pnmee460mHXbRAypKNy3nuMdrWgVKj8YVV8E7PSzp1BZ9SJnJAsXdryw/h5ctboUVi4AFiCd+lQaYMw5z3LGTBKjLQOeUF35k89f58Vv/tGh+l+PE/wG0rgfIUbZK5AAAAABJRU5ErkJggg=="},{type:"rect",text:"\u7528\u6237\u4EFB\u52A1",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",cls:"important-node"},{type:"rect",text:"\u7CFB\u7EDF\u4EFB\u52A1",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",cls:"import_icon"},{type:"diamond",text:"\u6761\u4EF6\u5224\u65AD",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAAHeEJUAAAAABGdBTUEAALGPC/xhBQAAAvVJREFUOBGNVEFrE0EU/mY3bQoiFlOkaUJrQUQoWMGePLX24EH0IIoHKQiCV0G8iE1covgLiqA/QTzVm1JPogc9tIJYFaQtlhQxqYjSpunu+L7JvmUTU3AgmTfvffPNN++9WSA1DO182f6xwILzD5btfAoQmwL5KJEwiQyVbSVZ0IgRyV6PTpIJ81E5ZvqfHQR0HUOBHW4L5Et2kQ6Zf7iAOhTFAA8s0pEP7AXO1uAA52SbqGk6h/6J45LaLhO64ByfcUzM39V7ZiAdS2yCePPEIQYvTUHqM/n7dgQNfBKWPjpF4ISk8q3J4nB11qw6X8l+FsF3EhlkEMfrjIer3wJTLwS2aCNcj4DbGxXTw00JmAuO+Ni6bBxVUCvS5d9aa04+so4pHW5jLTywuXAL7jJ+D06sl82Sgl2JuVBQn498zkc2bGKxULHjCnSMadBKYDYYHAtsby1EQ5lNGrQd4Y3v4Zo0XdGEmDno46yCM9Tk+RiJmUYHS/aXHPNTcjxcbTFna000PFJHIVZ5lFRqRpJWk9/+QtlOUYJj9HG5pVFEU7zqIYDVsw2s+AJaD8wTd2umgSCCyUxgGsS1Y6TBwXQQTFuZaHcd8gAGioE90hlsY+wMcs30RduYtxanjMGal8H5dMW67dmT1JFtYUEe8LiQLRsPZ6IIc7A4J5tqco3T0pnv/4u0kyzrYUq7gASuEyI8VXKvB9Odytv6jS/PNaZBln0nioJG/AVQRZvApOdhjj3Jt8QC8Im09SafwdBdvIpztpxWxpeKCC+EsFdS8DCyuCn2munFpL7ctHKp+Xc5cMybeIyMAN33SPL3ZR9QV1XVwLyzHm6Iv0/yeUuUb7PPlZC4D4HZkeu6dpF4v9j9MreGtMbxMMRLIcjJic9yHi7WQ3yVKzZVWUr5UrViJvn1FfUlwe/KYVfYyWRLSGNu16hR01U9IacajXPei0wx/5BqgInvJN+MMNtNme7ReU9SBbgntovn0kKHpFg7UogZvaZiOue/q1SBo9ktHzQAAAAASUVORK5CYII="},{type:"circle",text:"\u7ED3\u675F",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAA1BJREFUOBFtVE1IVUEYPXOf+tq40Y3vPcmFIdSjIorWoRG0ERWUgnb5FwVhYQSl72oUoZAboxKNFtWiwKRN0M+jpfSzqJAQclHo001tKkjl3emc8V69igP3znzfnO/M9zcDcKT67azmjYWTwl9Vn7Vumeqzj1DVb6cleQY4oAVnIOPb+mKAGxQmKI5CWNJ2aLPatxWa3aB9K7/fB+/Z0jUF6TmMlFLQqrkECWQzOZxYGjTlOl8eeKaIY5yHnFn486xBustDjWT6dG7pmjHOJd+33t0iitTPkK6tEvjxq4h2MozQ6WFSX/LkDUGfFwfhEZj1Auz/U4pyAi5Sznd7uKzznXeVHlI/Aywmk6j7fsUsEuCGADrWARXXwjxWQsUbIupDHJI7kF5dRktg0eN81IbiZXiTESic50iwS+t1oJgL83jAiBupLDCQqwziaWSoAFSeIR3P5Xv5az00wyIn35QRYTwdSYbz8pH8fxUUAtxnFvYmEmgI0wYXUXcCCSpeEVpXlsRhBnCEATxWylL9+EKCAYhe1NGstUa6356kS9NVvt3DU2fd+Wtbm/+lSbylJqsqkSm9CRhvoJVlvKPvF1RKY/FcPn5j4UfIMLn8D4UYb54BNsilTDXKnF4CfTobA0FpoW/LSp306wkXM+XaOJhZaFkcNM82ASNAWMrhrUbRfmyeI1FvRBTpN06WKxa9BK0o2E4Pd3zfBBEwPsv9sQBnmLVbLEIZ/Xe9LYwJu/Er17W6HYVBc7vmuk0xUQ+pqxdom5Fnp55SiytXLPYoMXNM4u4SNSCFWnrVIzKG3EGyMXo6n/BQOe+bX3FClY4PwydVhthOZ9NnS+ntiLh0fxtlUJHAuGaFoVmttpVMeum0p3WEXbcll94l1wM/gZ0Ccczop77VvN2I7TlsZCsuXf1WHvWEhjO8DPtyOVg2/mvK9QqboEth+7pD6NUQC1HN/TwvydGBARi9MZSzLE4b8Ru3XhX2PBxf8E1er2A6516o0w4sIA+lwURhAON82Kwe2iDAC1Watq4XHaGQ7skLcFOtI5lDxuM2gZe6WFIotPAhbaeYlU4to5cuarF1QrcZ/lwrLaCJl66JBocYZnrNlvm2+MBCTmUymPrYZVbjdlr/BxlMjmNmNI3SAAAAAElFTkSuQmCC"}]}const t1=lv({name:"FlowChart",components:{BasicModal:U_,FlowChartToolbar:q_,JsonPreview:H_},props:{flowOptions:{type:Object,default:()=>({})},data:{type:Object,default:()=>({})},toolbar:{type:Boolean,default:!0},patternItems:{type:Array}},setup(v){const h=Sa(null),c=Sa({}),f=Sa(null),{prefixCls:a}=C_("flow-chart"),p=R_(),[s,{openModal:b}]=G_();Y_({logicFlow:f});const O=I_(()=>{const{flowOptions:S}=v;return Uc({grid:!0,background:{color:p.getDarkMode==="light"?"#f7f9ff":"#151515"},keyboard:{enabled:!0}},S)});By(()=>v.data,()=>{_()}),By(()=>en(O),S=>{var P;(P=en(f))==null||P.updateEditConfig(S)});function w(){return ja(this,null,function*(){yield Gc();const S=en(h);if(!S)return;Oo.use(Dw),Oo.use(Ow),Oo.use(mw),Oo.use(Mw),Oo.use(Nw),f.value=new Oo(Ly(Uc({},en(O)),{container:S}));const P=en(f);P==null||P.setDefaultEdgeType("line"),_(),P==null||P.setPatternItems(v.patternItems||e1(P))})}function _(){return ja(this,null,function*(){yield Gc();const S=en(f);if(!S)return;const P=Qw(v.data);S.render(P)})}function j(){const S=en(f);!S||(c.value=en(S).getGraphData(),b())}return L_(w),{register:s,prefixCls:a,lfElRef:h,handlePreview:j,graphData:c}}}),n1={ref:"lfElRef",class:"h-full"};function r1(v,h,c,f,a,p){const s=Tr("FlowChartToolbar"),b=Tr("JsonPreview"),O=Tr("BasicModal");return Ar(),pi("div",{class:Pa(["h-full",v.prefixCls])},[v.toolbar?(Ar(),Zc(s,{key:0,prefixCls:v.prefixCls,onViewData:v.handlePreview},null,8,["prefixCls","onViewData"])):Hc("",!0),z_("div",n1,null,512),gi(O,{onRegister:v.register,title:"\u6D41\u7A0B\u6570\u636E",width:"50%"},{default:Ta(()=>[gi(b,{data:v.graphData},null,8,["data"])]),_:1},8,["onRegister"])],2)}var o1=Kc(t1,[["render",r1]]);const i1=B_(o1),a1=[{incoming:[],outgoing:["Flow_33inf2k"],dockers:[],type:2,properties:{a:"efrwe",b:"wewe",name:"\u5F00\u59CB",x:280,y:200,text:{x:280,y:200,value:"\u5F00\u59CB"},logicFlowType:"bpmn:startEvent"},key:"Event_1d42u4p"},{incoming:["Flow_379e0o9"],outgoing:[],dockers:[],type:3,properties:{a:"efrwe",b:"wewe",name:"\u7ED3\u675F",x:920,y:200,text:{x:920,y:200,value:"\u7ED3\u675F"},logicFlowType:"bpmn:endEvent"},key:"Event_08p8i6q"},{incoming:["Flow_0pfouf0"],outgoing:["Flow_3918lhh"],dockers:[],type:6,properties:{a:"efrwe",b:"wewe",name:"\u7F51\u5173",x:580,y:200,text:{x:580,y:200,value:"\u7F51\u5173"},logicFlowType:"bpmn:exclusiveGateway"},key:"Gateway_1fngqgj"},{incoming:["Flow_33inf2k"],outgoing:["Flow_0pfouf0"],dockers:[],type:4,properties:{a:"efrwe",b:"wewe",name:"\u7528\u6237",x:420,y:200,text:{x:420,y:200,value:"\u7528\u6237"},logicFlowType:"bpmn:userTask"},key:"Activity_2mgtaia"},{incoming:["Flow_3918lhh"],outgoing:["Flow_379e0o9"],dockers:[],type:5,properties:{a:"efrwe",b:"wewe",name:"\u670D\u52A1",x:760,y:200,text:{x:760,y:200,value:"\u670D\u52A1"},logicFlowType:"bpmn:serviceTask"},key:"Activity_1sp8qc8"},{incoming:["Event_1d42u4p"],outgoing:["Activity_2mgtaia"],type:1,dockers:[],properties:{name:"\u8FB9",text:{x:331,y:200,value:"\u8FB9"},startPoint:{x:298,y:200},endPoint:{x:370,y:200},pointsList:[{x:298,y:200},{x:370,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_33inf2k"},{incoming:["Activity_2mgtaia"],outgoing:["Gateway_1fngqgj"],type:1,dockers:[],properties:{name:"\u8FB92",text:{x:507,y:200,value:"\u8FB92"},startPoint:{x:470,y:200},endPoint:{x:555,y:200},pointsList:[{x:470,y:200},{x:555,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_0pfouf0"},{incoming:["Gateway_1fngqgj"],outgoing:["Activity_1sp8qc8"],type:1,dockers:[],properties:{name:"\u8FB93",text:{x:664,y:200,value:"\u8FB93"},startPoint:{x:605,y:200},endPoint:{x:710,y:200},pointsList:[{x:605,y:200},{x:710,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_3918lhh"},{incoming:["Activity_1sp8qc8"],outgoing:["Event_08p8i6q"],type:1,dockers:[],properties:{name:"\u8FB94",text:{x:871,y:200,value:"\u8FB94"},startPoint:{x:810,y:200},endPoint:{x:902,y:200},pointsList:[{x:810,y:200},{x:902,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_379e0o9"}];var u1={flowElementList:a1};const c1={components:{FlowChart:i1,PageWrapper:X_},setup(){return{demoData:u1}}};function s1(v,h,c,f,a,p){const s=Tr("FlowChart"),b=Tr("PageWrapper");return Ar(),Zc(b,{title:"\u6D41\u7A0B\u56FE",content:"\u7B80\u5355\u6D41\u7A0B\u56FE\u793A\u4F8B,\u5177\u4F53\u529F\u80FD\u9700\u8981\u81EA\u5DF1\u5B8C\u5584",contentFullHeight:"",fixedHeight:""},{default:Ta(()=>[gi(s,{data:f.demoData},null,8,["data"])]),_:1})}var S1=Kc(c1,[["render",s1]]);export{S1 as default};
